var pA=Object.defineProperty,mA=Object.defineProperties;var gA=Object.getOwnPropertyDescriptors;var P_=Object.getOwnPropertySymbols;var yA=Object.prototype.hasOwnProperty,vA=Object.prototype.propertyIsEnumerable;var k_=(t,e,n)=>e in t?pA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S=(t,e)=>{for(var n in e||={})yA.call(e,n)&&k_(t,n,e[n]);if(P_)for(var n of P_(e))vA.call(e,n)&&k_(t,n,e[n]);return t},ae=(t,e)=>mA(t,gA(e));var y=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});var O_=null;var yh=1,F_=Symbol("SIGNAL");function ze(t){let e=O_;return O_=t,e}var V_={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function _A(t){if(!(Eh(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===yh)){if(!t.producerMustRecompute(t)&&!vh(t)){t.dirty=!1,t.lastCleanEpoch=yh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=yh}}function L_(t){return t&&(t.nextProducerIndex=0),ze(t)}function U_(t,e){if(ze(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Eh(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)_h(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function vh(t){Ic(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(_A(n),r!==n.version))return!0}return!1}function j_(t){if(Ic(t),Eh(t))for(let e=0;e<t.producerNode.length;e++)_h(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function _h(t,e){if(EA(t),Ic(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)_h(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ic(i),i.producerIndexOfThis[r]=e}}function Eh(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ic(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function EA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function IA(){throw new Error}var wA=IA;function B_(t){wA=t}function $(t){return typeof t=="function"}function Ui(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var wc=Ui(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Fr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Me=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if($(r))try{r()}catch(s){e=s instanceof wc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{$_(s)}catch(o){e=e??[],o instanceof wc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new wc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)$_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Fr(n,e)}remove(e){let{_finalizers:n}=this;n&&Fr(n,e),e instanceof t&&e._removeParent(this)}};Me.EMPTY=(()=>{let t=new Me;return t.closed=!0,t})();var Ih=Me.EMPTY;function Dc(t){return t instanceof Me||t&&"closed"in t&&$(t.remove)&&$(t.add)&&$(t.unsubscribe)}function $_(t){$(t)?t():t.unsubscribe()}var Zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ji={setTimeout(t,e,...n){let{delegate:r}=ji;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ji;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Cc(t){ji.setTimeout(()=>{let{onUnhandledError:e}=Zt;if(e)e(t);else throw t})}function vo(){}var H_=wh("C",void 0,void 0);function q_(t){return wh("E",void 0,t)}function G_(t){return wh("N",t,void 0)}function wh(t,e,n){return{kind:t,value:e,error:n}}var Vr=null;function Bi(t){if(Zt.useDeprecatedSynchronousErrorHandling){let e=!Vr;if(e&&(Vr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Vr;if(Vr=null,n)throw r}}else t()}function z_(t){Zt.useDeprecatedSynchronousErrorHandling&&Vr&&(Vr.errorThrown=!0,Vr.error=t)}var Lr=class extends Me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Dc(e)&&e.add(this)):this.destination=TA}static create(e,n,r){return new $i(e,n,r)}next(e){this.isStopped?Ch(G_(e),this):this._next(e)}error(e){this.isStopped?Ch(q_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ch(H_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},DA=Function.prototype.bind;function Dh(t,e){return DA.call(t,e)}var Th=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Tc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Tc(r)}else Tc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Tc(n)}}},$i=class extends Lr{constructor(e,n,r){super();let i;if($(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Zt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Dh(e.next,s),error:e.error&&Dh(e.error,s),complete:e.complete&&Dh(e.complete,s)}):i=e}this.destination=new Th(i)}};function Tc(t){Zt.useDeprecatedSynchronousErrorHandling?z_(t):Cc(t)}function CA(t){throw t}function Ch(t,e){let{onStoppedNotification:n}=Zt;n&&ji.setTimeout(()=>n(t,e))}var TA={closed:!0,next:vo,error:CA,complete:vo};var Hi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Nt(t){return t}function bh(...t){return Sh(t)}function Sh(t){return t.length===0?Nt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=SA(n)?n:new $i(n,r,i);return Bi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=W_(r),new r((i,s)=>{let o=new $i({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Hi](){return this}pipe(...n){return Sh(n)(this)}toPromise(n){return n=W_(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function W_(t){var e;return(e=t??Zt.Promise)!==null&&e!==void 0?e:Promise}function bA(t){return t&&$(t.next)&&$(t.error)&&$(t.complete)}function SA(t){return t&&t instanceof Lr||bA(t)&&Dc(t)}function Ah(t){return $(t?.lift)}function ie(t){return e=>{if(Ah(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function X(t,e,n,r,i){return new xh(t,e,n,r,i)}var xh=class extends Lr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function qi(){return ie((t,e)=>{let n=null;t._refCount++;let r=X(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Gi=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ah(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Me;let n=this.getSubject();e.add(this.source.subscribe(X(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Me.EMPTY)}return e}refCount(){return qi()(this)}};var K_=Ui(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Tt=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new bc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new K_}next(n){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Bi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Ih:(this.currentObservers=null,s.push(n),new Me(()=>{this.currentObservers=null,Fr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new bc(e,n),t})(),bc=class extends Tt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ih}};var Ne=class extends Tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Rh={now(){return(Rh.delegate||Date).now()},delegate:void 0};var Sc=class extends Me{constructor(e,n){super()}schedule(e,n=0){return this}};var _o={setInterval(t,e,...n){let{delegate:r}=_o;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=_o;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var zi=class extends Sc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return _o.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&_o.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Fr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Wi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Wi.now=Rh.now;var Ki=class extends Wi{constructor(e,n=Wi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Mh=new Ki(zi);var Ac=class extends zi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var xc=class extends Ki{};var Nh=new xc(Ac);var jt=new re(t=>t.complete());function Q_(t){return t&&$(t.schedule)}function Y_(t){return t[t.length-1]}function Rc(t){return $(Y_(t))?t.pop():void 0}function ar(t){return Q_(Y_(t))?t.pop():void 0}function Ph(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function J_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?s(l.value):i(l.value).then(a,c)}u((r=r.apply(t,e||[])).next())})}function Z_(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ur(t){return this instanceof Ur?(this.v=t,this):new Ur(t)}function X_(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(p){return new Promise(function(v,D){s.push([h,p,v,D])>1||a(h,p)})})}function a(h,p){try{c(r[h](p))}catch(v){d(s[0][3],v)}}function c(h){h.value instanceof Ur?Promise.resolve(h.value.v).then(u,l):d(s[0][2],h)}function u(h){a("next",h)}function l(h){a("throw",h)}function d(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}function eE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Z_=="function"?Z_(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}}var Mc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Nc(t){return $(t?.then)}function Pc(t){return $(t[Hi])}function kc(t){return Symbol.asyncIterator&&$(t?.[Symbol.asyncIterator])}function Oc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function AA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Fc=AA();function Vc(t){return $(t?.[Fc])}function Lc(t){return X_(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Ur(n.read());if(i)return yield Ur(void 0);yield yield Ur(r)}}finally{n.releaseLock()}})}function Uc(t){return $(t?.getReader)}function Pe(t){if(t instanceof re)return t;if(t!=null){if(Pc(t))return xA(t);if(Mc(t))return RA(t);if(Nc(t))return MA(t);if(kc(t))return tE(t);if(Vc(t))return NA(t);if(Uc(t))return PA(t)}throw Oc(t)}function xA(t){return new re(e=>{let n=t[Hi]();if($(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function RA(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function MA(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Cc)})}function NA(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function tE(t){return new re(e=>{kA(t,e).catch(n=>e.error(n))})}function PA(t){return tE(Lc(t))}function kA(t,e){var n,r,i,s;return J_(this,void 0,void 0,function*(){try{for(n=eE(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function bt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function cr(t,e=0){return ie((n,r)=>{n.subscribe(X(r,i=>bt(r,t,()=>r.next(i),e),()=>bt(r,t,()=>r.complete(),e),i=>bt(r,t,()=>r.error(i),e)))})}function ur(t,e=0){return ie((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function nE(t,e){return Pe(t).pipe(ur(e),cr(e))}function rE(t,e){return Pe(t).pipe(ur(e),cr(e))}function iE(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function sE(t,e){return new re(n=>{let r;return bt(n,e,()=>{r=t[Fc](),bt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>$(r?.return)&&r.return()})}function jc(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{bt(n,e,()=>{let r=t[Symbol.asyncIterator]();bt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function oE(t,e){return jc(Lc(t),e)}function aE(t,e){if(t!=null){if(Pc(t))return nE(t,e);if(Mc(t))return iE(t,e);if(Nc(t))return rE(t,e);if(kc(t))return jc(t,e);if(Vc(t))return sE(t,e);if(Uc(t))return oE(t,e)}throw Oc(t)}function Se(t,e){return e?aE(t,e):Pe(t)}function B(...t){let e=ar(t);return Se(t,e)}function Qi(t,e){let n=$(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function kh(t){return!!t&&(t instanceof re||$(t.lift)&&$(t.subscribe))}var Bn=Ui(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ee(t,e){return ie((n,r)=>{let i=0;n.subscribe(X(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:OA}=Array;function FA(t,e){return OA(e)?t(...e):t(e)}function Bc(t){return ee(e=>FA(t,e))}var{isArray:VA}=Array,{getPrototypeOf:LA,prototype:UA,keys:jA}=Object;function $c(t){if(t.length===1){let e=t[0];if(VA(e))return{args:e,keys:null};if(BA(e)){let n=jA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function BA(t){return t&&typeof t=="object"&&LA(t)===UA}function Hc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function qc(...t){let e=ar(t),n=Rc(t),{args:r,keys:i}=$c(t);if(r.length===0)return Se([],e);let s=new re($A(r,e,i?o=>Hc(i,o):Nt));return n?s.pipe(Bc(n)):s}function $A(t,e,n=Nt){return r=>{cE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let c=0;c<i;c++)cE(e,()=>{let u=Se(t[c],e),l=!1;u.subscribe(X(r,d=>{s[c]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function cE(t,e,n){t?bt(n,t,e):e()}function uE(t,e,n,r,i,s,o,a){let c=[],u=0,l=0,d=!1,h=()=>{d&&!c.length&&!u&&e.complete()},p=D=>u<r?v(D):c.push(D),v=D=>{s&&e.next(D),u++;let E=!1;Pe(n(D,l++)).subscribe(X(e,b=>{i?.(b),s?p(b):e.next(b)},()=>{E=!0},void 0,()=>{if(E)try{for(u--;c.length&&u<r;){let b=c.shift();o?bt(e,o,()=>v(b)):v(b)}h()}catch(b){e.error(b)}}))};return t.subscribe(X(e,p,()=>{d=!0,h()})),()=>{a?.()}}function Ue(t,e,n=1/0){return $(e)?Ue((r,i)=>ee((s,o)=>e(r,s,i,o))(Pe(t(r,i))),n):(typeof e=="number"&&(n=e),ie((r,i)=>uE(r,i,t,n)))}function Yi(t=1/0){return Ue(Nt,t)}function lE(){return Yi(1)}function Zi(...t){return lE()(Se(t,ar(t)))}function Gc(t){return new re(e=>{Pe(t()).subscribe(e)})}function Oh(...t){let e=Rc(t),{args:n,keys:r}=$c(t),i=new re(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,u=o;for(let l=0;l<o;l++){let d=!1;Pe(n[l]).subscribe(X(s,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||s.next(r?Hc(r,a):a),s.complete())}))}});return e?i.pipe(Bc(e)):i}function Jt(t,e){return ie((n,r)=>{let i=0;n.subscribe(X(r,s=>t.call(e,s,i++)&&r.next(s)))})}function lr(t){return ie((e,n)=>{let r=null,i=!1,s;r=e.subscribe(X(n,void 0,void 0,o=>{s=Pe(t(o,lr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function dE(t,e,n,r,i){return(s,o)=>{let a=n,c=e,u=0;s.subscribe(X(o,l=>{let d=u++;c=a?t(c,l,d):(a=!0,l),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}function Ji(t,e){return $(e)?Ue(t,e,1):Ue(t,1)}function dr(t){return ie((e,n)=>{let r=!1;e.subscribe(X(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function $n(t){return t<=0?()=>jt:ie((e,n)=>{let r=0;e.subscribe(X(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Fh(t){return ee(()=>t)}function zc(t=HA){return ie((e,n)=>{let r=!1;e.subscribe(X(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function HA(){return new Bn}function Eo(t){return ie((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function pn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Jt((i,s)=>t(i,s,r)):Nt,$n(1),n?dr(e):zc(()=>new Bn))}function Xi(t){return t<=0?()=>jt:ie((e,n)=>{let r=[];e.subscribe(X(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Vh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Jt((i,s)=>t(i,s,r)):Nt,Xi(1),n?dr(e):zc(()=>new Bn))}function Lh(t,e){return ie(dE(t,e,arguments.length>=2,!0))}function Uh(...t){let e=ar(t);return ie((n,r)=>{(e?Zi(t,n,e):Zi(t,n)).subscribe(r)})}function Xt(t,e){return ie((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(X(r,c=>{i?.unsubscribe();let u=0,l=s++;Pe(t(c,l)).subscribe(i=X(r,d=>r.next(e?e(c,d,l,u++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function jh(t){return ie((e,n)=>{Pe(t).subscribe(X(n,()=>n.complete(),vo)),!n.closed&&e.subscribe(n)})}function ke(t,e,n){let r=$(t)||e||n?{next:t,error:e,complete:n}:t;return r?ie((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(X(s,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),s.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),s.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),s.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Nt}var KE="https://g.co/ng/security#xss",P=class extends Error{constructor(e,n){super(Zf(e,n)),this.code=e}};function Zf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function _e(t){for(let e in t)if(t[e]===_e)return e;throw Error("Could not find renamed property on target object.")}function qA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function yt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function hE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var GA=_e({__forward_ref__:_e});function sn(t){return t.__forward_ref__=sn,t.toString=function(){return yt(this())},t}function gt(t){return QE(t)?t():t}function QE(t){return typeof t=="function"&&t.hasOwnProperty(GA)&&t.__forward_ref__===sn}function YE(t){return t&&!!t.\u0275providers}var zA=_e({\u0275cmp:_e}),WA=_e({\u0275dir:_e}),KA=_e({\u0275pipe:_e}),QA=_e({\u0275mod:_e}),ru=_e({\u0275fac:_e}),Io=_e({__NG_ELEMENT_ID__:_e}),fE=_e({__NG_ENV_ID__:_e});function is(t){return typeof t=="string"?t:t==null?"":String(t)}function YA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():is(t)}function ZA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new P(-200,`Circular dependency in DI detected for ${t}${n}`)}function Jf(t,e){throw new P(-201,!1)}function JA(t,e){t==null&&XA(e,t,null,"!=")}function XA(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(r==null?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function N(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Iu(t){return pE(t,JE)||pE(t,XE)}function ZE(t){return Iu(t)!==null}function pE(t,e){return t.hasOwnProperty(e)?t[e]:null}function ex(t){let e=t&&(t[JE]||t[XE]);return e||null}function mE(t){return t&&(t.hasOwnProperty(gE)||t.hasOwnProperty(tx))?t[gE]:null}var JE=_e({\u0275prov:_e}),gE=_e({\u0275inj:_e}),XE=_e({ngInjectableDef:_e}),tx=_e({ngInjectorDef:_e}),J=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(J||{}),rf;function nx(){return rf}function Bt(t){let e=rf;return rf=t,e}function eI(t,e,n){let r=Iu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&J.Optional)return null;if(e!==void 0)return e;Jf(t,"Injector")}var jr=globalThis;var O=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=N({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};var rx={},Co=rx,sf="__NG_DI_FLAG__",iu="ngTempTokenPath",ix="ngTokenPath",sx=/\n/gm,ox="\u0275",yE="__source",wo;function hr(t){let e=wo;return wo=t,e}function ax(t,e=J.Default){if(wo===void 0)throw new P(-203,!1);return wo===null?eI(t,void 0,e):wo.get(t,e&J.Optional?null:void 0,e)}function Q(t,e=J.Default){return(nx()||ax)(gt(t),e)}function x(t,e=J.Default){return Q(t,wu(e))}function wu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function of(t){let e=[];for(let n=0;n<t.length;n++){let r=gt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new P(900,!1);let i,s=J.Default;for(let o=0;o<r.length;o++){let a=r[o],c=ux(a);typeof c=="number"?c===-1?i=a.token:s|=c:i=a}e.push(Q(i,s))}else e.push(Q(r))}return e}function cx(t,e){return t[sf]=e,t.prototype[sf]=e,t}function ux(t){return t[sf]}function lx(t,e,n,r){let i=t[iu];throw e[yE]&&i.unshift(e[yE]),t.message=dx(`
`+t.message,i,n,r),t[ix]=i,t[iu]=null,t}function dx(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ox?t.slice(2):t;let i=yt(e);if(Array.isArray(e))i=e.map(yt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):yt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(sx,`
  `)}`}function Uo(t){return{toString:t}.toString()}var tI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(tI||{}),vn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(vn||{}),ss={},$t=[],We=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(We||{});function nI(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function af(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];hx(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function rI(t){return t===3||t===4||t===6}function hx(t){return t.charCodeAt(0)===64}function To(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?vE(t,n,i,null,e[++r]):vE(t,n,i,null,null))}}return t}function vE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var iI="ng-template";function fx(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&nI(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function sI(t){return t.type===4&&t.value!==iI}function px(t,e,n){let r=t.type===4&&!n?iI:t.value;return e===r}function mx(t,e,n){let r=4,i=t.attrs||[],s=vx(i),o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!en(r)&&!en(c))return!1;if(o&&en(c))continue;o=!1,r=c|r&1;continue}if(!o)if(r&4){if(r=2|r&1,c!==""&&!px(t,c,n)||c===""&&e.length===1){if(en(r))return!1;o=!0}}else{let u=r&8?c:e[++a];if(r&8&&t.attrs!==null){if(!fx(t.attrs,u,n)){if(en(r))return!1;o=!0}continue}let l=r&8?"class":c,d=gx(l,i,sI(t),n);if(d===-1){if(en(r))return!1;o=!0;continue}if(u!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let p=r&8?h:null;if(p&&nI(p,u,0)!==-1||r&2&&u!==h){if(en(r))return!1;o=!0}}}}return en(r)||o}function en(t){return(t&1)===0}function gx(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return _x(e,t)}function yx(t,e,n=!1){for(let r=0;r<e.length;r++)if(mx(t,e[r],n))return!0;return!1}function vx(t){for(let e=0;e<t.length;e++){let n=t[e];if(rI(n))return e}return t.length}function _x(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function _E(t,e){return t?":not("+e.trim()+")":e}function Ex(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!en(o)&&(e+=_E(s,i),i=""),r=o,s=s||!en(r);n++}return i!==""&&(e+=_E(s,i)),e}function Ix(t){return t.map(Ex).join(",")}function wx(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!en(i))break;i=s}r++}return{attrs:e,classes:n}}function rt(t){return Uo(()=>{let e=lI(t),n=ae(S({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===tI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||vn.Emulated,styles:t.styles||$t,_:null,schemas:t.schemas||null,tView:null,id:""});dI(n);let r=t.dependencies;return n.directiveDefs=IE(r,!1),n.pipeDefs=IE(r,!0),n.id=Tx(n),n})}function Dx(t){return Hr(t)||oI(t)}function Cx(t){return t!==null}function _t(t){return Uo(()=>({type:t.type,bootstrap:t.bootstrap||$t,declarations:t.declarations||$t,imports:t.imports||$t,exports:t.exports||$t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function EE(t,e){if(t==null)return ss;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=We.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==We.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ce(t){return Uo(()=>{let e=lI(t);return dI(e),e})}function Hr(t){return t[zA]||null}function oI(t){return t[WA]||null}function aI(t){return t[KA]||null}function cI(t){let e=Hr(t)||oI(t)||aI(t);return e!==null?e.standalone:!1}function uI(t,e){let n=t[QA]||null;if(!n&&e===!0)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return n}function lI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ss,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||$t,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:EE(t.inputs,e),outputs:EE(t.outputs),debugInfo:null}}function dI(t){t.features?.forEach(e=>e(t))}function IE(t,e){if(!t)return null;let n=e?aI:Dx;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Cx)}function Tx(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Wn=0,H=1,U=2,Ke=3,tn=4,on=5,bo=6,So=7,tt=8,os=9,_n=10,Be=11,Ao=12,wE=13,fs=14,nn=15,jo=16,es=17,yn=18,Du=19,hI=20,Do=21,Bh=22,qr=23,rn=25,fI=1;var Gr=7,su=8,as=9,nt=10,Xf=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Xf||{});function Br(t){return Array.isArray(t)&&typeof t[fI]=="object"}function Kn(t){return Array.isArray(t)&&t[fI]===!0}function pI(t){return(t.flags&4)!==0}function Cu(t){return t.componentOffset>-1}function ep(t){return(t.flags&1)===1}function fr(t){return!!t.template}function bx(t){return(t[U]&512)!==0}function cs(t,e){let n=t.hasOwnProperty(ru);return n?t[ru]:null}var cf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function mI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Qn(){return gI}function gI(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ax),Sx}Qn.ngInherit=!0;function Sx(){let t=vI(this),e=t?.current;if(e){let n=t.previous;if(n===ss)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Ax(t,e,n,r,i){let s=this.declaredInputs[r],o=vI(t)||xx(t,{previous:ss,current:null}),a=o.current||(o.current={}),c=o.previous,u=c[s];a[s]=new cf(u&&u.currentValue,n,c===ss),mI(t,e,i,n)}var yI="__ngSimpleChanges__";function vI(t){return t[yI]||null}function xx(t,e){return t[yI]=e}var DE=null;var mn=function(t,e,n){DE?.(t,e,n)},Rx="svg",Mx="math",Nx=!1;function Px(){return Nx}function En(t){for(;Array.isArray(t);)t=t[Wn];return t}function _I(t,e){return En(e[t])}function qt(t,e){return En(e[t.index])}function tp(t,e){return t.data[e]}function mr(t,e){let n=e[t];return Br(n)?n:n[Wn]}function kx(t){return(t[U]&4)===4}function np(t){return(t[U]&128)===128}function Ox(t){return Kn(t[Ke])}function ou(t,e){return e==null?null:t[e]}function EI(t){t[es]=0}function Fx(t){t[U]&1024||(t[U]|=1024,np(t)&&xo(t))}function Vx(t,e){for(;t>0;)e=e[fs],t--;return e}function II(t){return t[U]&9216||t[qr]?.dirty}function uf(t){II(t)?xo(t):t[U]&64&&(Px()?(t[U]|=1024,xo(t)):t[_n].changeDetectionScheduler?.notify())}function xo(t){t[_n].changeDetectionScheduler?.notify();let e=Ro(t);for(;e!==null&&!(e[U]&8192||(e[U]|=8192,!np(e)));)e=Ro(e)}function Lx(t,e){if((t[U]&256)===256)throw new P(911,!1);t[Do]===null&&(t[Do]=[]),t[Do].push(e)}function Ro(t){let e=t[Ke];return Kn(e)?e[Ke]:e}var Y={lFrame:xI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Ux(){return Y.lFrame.elementDepthCount}function jx(){Y.lFrame.elementDepthCount++}function Bx(){Y.lFrame.elementDepthCount--}function wI(){return Y.bindingsEnabled}function $x(){return Y.skipHydrationRootTNode!==null}function Hx(t){return Y.skipHydrationRootTNode===t}function qx(){Y.skipHydrationRootTNode=null}function ce(){return Y.lFrame.lView}function St(){return Y.lFrame.tView}function le(t){return Y.lFrame.contextLView=t,t[tt]}function de(t){return Y.lFrame.contextLView=null,t}function At(){let t=DI();for(;t!==null&&t.type===64;)t=t.parent;return t}function DI(){return Y.lFrame.currentTNode}function Gx(){let t=Y.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Bo(t,e){let n=Y.lFrame;n.currentTNode=t,n.isParent=e}function CI(){return Y.lFrame.isParent}function zx(){Y.lFrame.isParent=!1}function Wx(){let t=Y.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Kx(){return Y.lFrame.bindingIndex}function Qx(t){return Y.lFrame.bindingIndex=t}function $o(){return Y.lFrame.bindingIndex++}function TI(t){let e=Y.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Yx(){return Y.lFrame.inI18n}function Zx(t,e){let n=Y.lFrame;n.bindingIndex=n.bindingRootIndex=t,lf(e)}function Jx(){return Y.lFrame.currentDirectiveIndex}function lf(t){Y.lFrame.currentDirectiveIndex=t}function Xx(t){let e=Y.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function bI(){return Y.lFrame.currentQueryIndex}function rp(t){Y.lFrame.currentQueryIndex=t}function eR(t){let e=t[H];return e.type===2?e.declTNode:e.type===1?t[on]:null}function SI(t,e,n){if(n&J.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&J.Host);)if(i=eR(s),i===null||(s=s[fs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=Y.lFrame=AI();return r.currentTNode=e,r.lView=t,!0}function ip(t){let e=AI(),n=t[H];Y.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function AI(){let t=Y.lFrame,e=t===null?null:t.child;return e===null?xI(t):e}function xI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function RI(){let t=Y.lFrame;return Y.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var MI=RI;function sp(){let t=RI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function tR(t){return(Y.lFrame.contextLView=Vx(t,Y.lFrame.contextLView))[tt]}function gr(){return Y.lFrame.selectedIndex}function zr(t){Y.lFrame.selectedIndex=t}function op(){let t=Y.lFrame;return tp(t.tView,t.selectedIndex)}function nR(){return Y.lFrame.currentNamespace}var NI=!0;function ap(){return NI}function cp(t){NI=t}function rR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=gI(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function up(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),l!=null&&(t.destroyHooks??=[]).push(n,l)}}function Zc(t,e,n){PI(t,e,3,n)}function Jc(t,e,n,r){(t[U]&3)===n&&PI(t,e,n,r)}function $h(t,e){let n=t[U];(n&3)===e&&(n&=16383,n+=1,t[U]=n)}function PI(t,e,n,r){let i=r!==void 0?t[es]&65535:0,s=r??-1,o=e.length-1,a=0;for(let c=i;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[es]+=65536),(a<s||s==-1)&&(iR(t,n,e,c),t[es]=(t[es]&4294901760)+c+2),c++}function CE(t,e){mn(4,t,e);let n=ze(null);try{e.call(t)}finally{ze(n),mn(5,t,e)}}function iR(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[U]>>14<t[es]>>16&&(t[U]&3)===e&&(t[U]+=16384,CE(a,s)):CE(a,s)}var rs=-1,Wr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function sR(t){return t instanceof Wr}function oR(t){return(t.flags&8)!==0}function aR(t){return(t.flags&16)!==0}function kI(t){return t!==rs}function au(t){return t&32767}function cR(t){return t>>16}function cu(t,e){let n=cR(t),r=e;for(;n>0;)r=r[fs],n--;return r}var df=!0;function TE(t){let e=df;return df=t,e}var uR=256,OI=uR-1,FI=5,lR=0,gn={};function dR(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Io)&&(r=n[Io]),r==null&&(r=n[Io]=lR++);let i=r&OI,s=1<<i;e.data[t+(i>>FI)]|=s}function uu(t,e){let n=VI(t,e);if(n!==-1)return n;let r=e[H];r.firstCreatePass&&(t.injectorIndex=e.length,Hh(r.data,t),Hh(e,null),Hh(r.blueprint,null));let i=lp(t,e),s=t.injectorIndex;if(kI(i)){let o=au(i),a=cu(i,e),c=a[H].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function Hh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function VI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function lp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=$I(i),r===null)return rs;if(n++,i=i[fs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return rs}function hf(t,e,n){dR(t,e,n)}function hR(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(rI(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function LI(t,e,n){if(n&J.Optional||t!==void 0)return t;Jf(e,"NodeInjector")}function UI(t,e,n,r){if(n&J.Optional&&r===void 0&&(r=null),!(n&(J.Self|J.Host))){let i=t[os],s=Bt(void 0);try{return i?i.get(e,r,n&J.Optional):eI(e,r,n&J.Optional)}finally{Bt(s)}}return LI(r,e,n)}function jI(t,e,n,r=J.Default,i){if(t!==null){if(e[U]&2048&&!(r&J.Self)){let o=gR(t,e,n,r,gn);if(o!==gn)return o}let s=BI(t,e,n,r,gn);if(s!==gn)return s}return UI(e,n,r,i)}function BI(t,e,n,r,i){let s=pR(n);if(typeof s=="function"){if(!SI(e,t,r))return r&J.Host?LI(i,n,r):UI(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&J.Optional))Jf(n);else return o}finally{MI()}}else if(typeof s=="number"){let o=null,a=VI(t,e),c=rs,u=r&J.Host?e[nn][on]:null;for((a===-1||r&J.SkipSelf)&&(c=a===-1?lp(t,e):e[a+8],c===rs||!SE(r,!1)?a=-1:(o=e[H],a=au(c),e=cu(c,e)));a!==-1;){let l=e[H];if(bE(s,a,l.data)){let d=fR(a,e,n,o,r,u);if(d!==gn)return d}c=e[a+8],c!==rs&&SE(r,e[H].data[a+8]===u)&&bE(s,a,e)?(o=l,a=au(c),e=cu(c,e)):a=-1}}return i}function fR(t,e,n,r,i,s){let o=e[H],a=o.data[t+8],c=r==null?Cu(a)&&df:r!=o&&(a.type&3)!==0,u=i&J.Host&&s===a,l=Xc(a,o,n,c,u);return l!==null?Kr(e,o,l,a):gn}function Xc(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,c=t.directiveStart,u=t.directiveEnd,l=s>>20,d=r?a:a+l,h=i?a+l:u;for(let p=d;p<h;p++){let v=o[p];if(p<c&&n===v||p>=c&&v.type===n)return p}if(i){let p=o[c];if(p&&fr(p)&&p.type===n)return c}return null}function Kr(t,e,n,r){let i=t[n],s=e.data;if(sR(i)){let o=i;o.resolving&&ZA(YA(s[n]));let a=TE(o.canSeeViewProviders);o.resolving=!0;let c,u=o.injectImpl?Bt(o.injectImpl):null,l=SI(t,r,J.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&rR(n,s[n],e)}finally{u!==null&&Bt(u),TE(a),o.resolving=!1,MI()}}return i}function pR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Io)?t[Io]:void 0;return typeof e=="number"?e>=0?e&OI:mR:e}function bE(t,e,n){let r=1<<t;return!!(n[e+(t>>FI)]&r)}function SE(t,e){return!(t&J.Self)&&!(t&J.Host&&e)}var $r=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return jI(this._tNode,this._lView,e,wu(r),n)}};function mR(){return new $r(At(),ce())}function Yn(t){return Uo(()=>{let e=t.prototype.constructor,n=e[ru]||ff(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[ru]||ff(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ff(t){return QE(t)?()=>{let e=ff(gt(t));return e&&e()}:cs(t)}function gR(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[U]&2048&&!(o[U]&512);){let a=BI(s,o,n,r|J.Self,gn);if(a!==gn)return a;let c=s.parent;if(!c){let u=o[hI];if(u){let l=u.get(n,gn,r);if(l!==gn)return l}c=$I(o),o=o[fs]}s=c}return i}function $I(t){let e=t[H],n=e.type;return n===2?e.declTNode:n===1?t[on]:null}function dp(t){return hR(At(),t)}var Wc="__parameters__";function yR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function vR(t,e,n){return Uo(()=>{let r=yR(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(c,u,l){let d=c.hasOwnProperty(Wc)?c[Wc]:Object.defineProperty(c,Wc,{value:[]})[Wc];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function _R(t){return typeof t=="function"}function ER(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function IR(t){return t.flat(Number.POSITIVE_INFINITY)}function hp(t,e){t.forEach(n=>Array.isArray(n)?hp(n,e):e(n))}function HI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function lu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function wR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function DR(t,e,n){let r=Ho(t,e);return r>=0?t[r|1]=n:(r=~r,wR(t,r,e,n)),r}function qh(t,e){let n=Ho(t,e);if(n>=0)return t[n|1]}function Ho(t,e){return CR(t,e,1)}function CR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Et=cx(vR("Optional"),8);var us=new O("ENVIRONMENT_INITIALIZER"),qI=new O("INJECTOR",-1),GI=new O("INJECTOR_DEF_TYPES"),du=class{get(e,n=Co){if(n===Co){let r=new Error(`NullInjectorError: No provider for ${yt(e)}!`);throw r.name="NullInjectorError",r}return n}};function Tu(t){return{\u0275providers:t}}function fp(...t){return{\u0275providers:zI(!0,t),\u0275fromNgModule:!0}}function zI(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return hp(e,o=>{let a=o;pf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&WI(i,s),n}function WI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];pp(i,s=>{e(s,r)})}}function pf(t,e,n,r){if(t=gt(t),!t)return!1;let i=null,s=mE(t),o=!s&&Hr(t);if(!s&&!o){let c=t.ngModule;if(s=mE(c),s)i=c;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of c)pf(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{hp(s.imports,l=>{pf(l,e,n,r)&&(u||=[],u.push(l))})}finally{}u!==void 0&&WI(u,e)}if(!a){let u=cs(i)||(()=>new i);e({provide:i,useFactory:u,deps:$t},i),e({provide:GI,useValue:i,multi:!0},i),e({provide:us,useValue:()=>Q(i),multi:!0},i)}let c=s.providers;if(c!=null&&!a){let u=t;pp(c,l=>{e(l,u)})}}else return!1;return i!==t&&t.providers!==void 0}function pp(t,e){for(let n of t)YE(n)&&(n=n.\u0275providers),Array.isArray(n)?pp(n,e):e(n)}var TR=_e({provide:String,useValue:_e});function KI(t){return t!==null&&typeof t=="object"&&TR in t}function bR(t){return!!(t&&t.useExisting)}function SR(t){return!!(t&&t.useFactory)}function ls(t){return typeof t=="function"}function AR(t){return!!t.useClass}var bu=new O("Set Injector scope."),eu={},xR={},Gh;function mp(){return Gh===void 0&&(Gh=new du),Gh}var Ht=class{},Mo=class extends Ht{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gf(e,o=>this.processProvider(o)),this.records.set(qI,ts(void 0,this)),i.has("environment")&&this.records.set(Ht,ts(void 0,this));let s=this.records.get(bu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(GI,$t,J.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=hr(this),r=Bt(void 0),i;try{return e()}finally{hr(n),Bt(r)}}get(e,n=Co,r=J.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(fE))return e[fE](this);r=wu(r);let i,s=hr(this),o=Bt(void 0);try{if(!(r&J.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=kR(e)&&Iu(e);u&&this.injectableDefInScope(u)?c=ts(mf(e),eu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&J.Self?mp():this.parent;return n=r&J.Optional&&n===Co?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[iu]=a[iu]||[]).unshift(yt(e)),s)throw a;return lx(a,e,"R3InjectorError",this.source)}else throw a}finally{Bt(o),hr(s)}}resolveInjectorInitializers(){let e=hr(this),n=Bt(void 0),r;try{let i=this.get(us,$t,J.Self);for(let s of i)s()}finally{hr(e),Bt(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(yt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(e){e=gt(e);let n=ls(e)?e:gt(e&&e.provide),r=MR(e);if(!ls(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ts(void 0,eu,!0),i.factory=()=>of(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===eu&&(n.value=xR,n.value=n.factory()),typeof n.value=="object"&&n.value&&PR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=gt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function mf(t){let e=Iu(t),n=e!==null?e.factory:cs(t);if(n!==null)return n;if(t instanceof O)throw new P(204,!1);if(t instanceof Function)return RR(t);throw new P(204,!1)}function RR(t){if(t.length>0)throw new P(204,!1);let n=ex(t);return n!==null?()=>n.factory(t):()=>new t}function MR(t){if(KI(t))return ts(void 0,t.useValue);{let e=QI(t);return ts(e,eu)}}function QI(t,e,n){let r;if(ls(t)){let i=gt(t);return cs(i)||mf(i)}else if(KI(t))r=()=>gt(t.useValue);else if(SR(t))r=()=>t.useFactory(...of(t.deps||[]));else if(bR(t))r=()=>Q(gt(t.useExisting));else{let i=gt(t&&(t.useClass||t.provide));if(NR(t))r=()=>new i(...of(t.deps));else return cs(i)||mf(i)}return r}function ts(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function NR(t){return!!t.deps}function PR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function kR(t){return typeof t=="function"||typeof t=="object"&&t instanceof O}function gf(t,e){for(let n of t)Array.isArray(n)?gf(n,e):n&&YE(n)?gf(n.\u0275providers,e):e(n)}function Jr(t,e){t instanceof Mo&&t.assertNotDestroyed();let n,r=hr(t),i=Bt(void 0);try{return e()}finally{hr(r),Bt(i)}}function AE(t,e=null,n=null,r){let i=YI(t,e,n,r);return i.resolveInjectorInitializers(),i}function YI(t,e=null,n=null,r,i=new Set){let s=[n||$t,fp(t)];return r=r||(typeof t=="object"?void 0:yt(t)),new Mo(s,e||mp(),r||null,i)}var xt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return AE({name:""},i,r,"");{let s=r.name??"";return AE({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Co,e.NULL=new du,e.\u0275prov=N({token:e,providedIn:"any",factory:()=>Q(qI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var yf;function ZI(t){yf=t}function OR(){if(yf!==void 0)return yf;if(typeof document<"u")return document;throw new P(210,!1)}var gp=new O("AppId",{providedIn:"root",factory:()=>FR}),FR="ng",yp=new O("Platform Initializer"),yr=new O("Platform ID",{providedIn:"platform",factory:()=>"unknown"});var vp=new O("CSP nonce",{providedIn:"root",factory:()=>OR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function JI(t){return t instanceof Function?t():t}function XI(t){return(t.flags&128)===128}var Hn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Hn||{});var e0=new Map,VR=0;function LR(){return VR++}function UR(t){e0.set(t[Du],t)}function jR(t){e0.delete(t[Du])}var xE="__ngContext__";function Qr(t,e){Br(e)?(t[xE]=e[Du],UR(e)):t[xE]=e}var BR;function _p(t,e){return BR(t,e)}function ns(t,e,n,r,i){if(r!=null){let s,o=!1;Kn(r)?s=r:Br(r)&&(o=!0,r=r[Wn]);let a=En(r);t===0&&n!==null?i==null?i0(e,n,a):hu(e,n,a,i||null,!0):t===1&&n!==null?hu(e,n,a,i||null,!0):t===2?i1(e,a,o):t===3&&e.destroyNode(a),s!=null&&o1(e,t,s,n,i)}}function $R(t,e){return t.createText(e)}function HR(t,e,n){t.setValue(e,n)}function t0(t,e,n){return t.createElement(e,n)}function qR(t,e){n0(t,e),e[Wn]=null,e[on]=null}function GR(t,e,n,r,i,s){r[Wn]=i,r[on]=e,Au(t,r,n,1,i,s)}function n0(t,e){e[_n].changeDetectionScheduler?.notify(),Au(t,e,e[Be],2,null,null)}function zR(t){let e=t[Ao];if(!e)return zh(t[H],t);for(;e;){let n=null;if(Br(e))n=e[Ao];else{let r=e[nt];r&&(n=r)}if(!n){for(;e&&!e[tn]&&e!==t;)Br(e)&&zh(e[H],e),e=e[Ke];e===null&&(e=t),Br(e)&&zh(e[H],e),n=e&&e[tn]}e=n}}function WR(t,e,n,r){let i=nt+r,s=n.length;r>0&&(n[i-1][tn]=e),r<s-nt?(e[tn]=n[i],HI(n,nt+r,e)):(n.push(e),e[tn]=null),e[Ke]=n;let o=e[jo];o!==null&&n!==o&&KR(o,e);let a=e[yn];a!==null&&a.insertView(t),uf(e),e[U]|=128}function KR(t,e){let n=t[as],i=e[Ke][Ke][nn];e[nn]!==i&&(t[U]|=Xf.HasTransplantedViews),n===null?t[as]=[e]:n.push(e)}function r0(t,e){let n=t[as],r=n.indexOf(e);n.splice(r,1)}function No(t,e){if(t.length<=nt)return;let n=nt+e,r=t[n];if(r){let i=r[jo];i!==null&&i!==t&&r0(i,r),e>0&&(t[n-1][tn]=r[tn]);let s=lu(t,nt+e);qR(r[H],r);let o=s[yn];o!==null&&o.detachView(s[H]),r[Ke]=null,r[tn]=null,r[U]&=-129}return r}function Su(t,e){if(!(e[U]&256)){let n=e[Be];n.destroyNode&&Au(t,e,n,3,null,null),zR(e)}}function zh(t,e){if(!(e[U]&256)){e[U]&=-129,e[U]|=256,e[qr]&&j_(e[qr]),YR(t,e),QR(t,e),e[H].type===1&&e[Be].destroy();let n=e[jo];if(n!==null&&Kn(e[Ke])){n!==e[Ke]&&r0(n,e);let r=e[yn];r!==null&&r.detachView(t)}jR(e)}}function QR(t,e){let n=t.cleanup,r=e[So];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[So]=null);let i=e[Do];if(i!==null){e[Do]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function YR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Wr)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],c=s[o+1];mn(4,a,c);try{c.call(a)}finally{mn(5,a,c)}}else{mn(4,i,s);try{s.call(i)}finally{mn(5,i,s)}}}}}function ZR(t,e,n){return JR(t,e.parent,n)}function JR(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Wn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===vn.None||s===vn.Emulated)return null}return qt(r,n)}}function hu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function i0(t,e,n){t.appendChild(e,n)}function RE(t,e,n,r,i){r!==null?hu(t,e,n,r,i):i0(t,e,n)}function XR(t,e,n,r){t.removeChild(e,n,r)}function Ep(t,e){return t.parentNode(e)}function e1(t,e){return t.nextSibling(e)}function t1(t,e,n){return r1(t,e,n)}function n1(t,e,n){return t.type&40?qt(t,n):null}var r1=n1,ME;function Ip(t,e,n,r){let i=ZR(t,r,e),s=e[Be],o=r.parent||e[on],a=t1(o,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)RE(s,i,n[c],a,!1);else RE(s,i,n,a,!1);ME!==void 0&&ME(s,r,e,n,i)}function tu(t,e){if(e!==null){let n=e.type;if(n&3)return qt(e,t);if(n&4)return vf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return tu(t,r);{let i=t[e.index];return Kn(i)?vf(-1,i):En(i)}}else{if(n&32)return _p(e,t)()||En(t[e.index]);{let r=s0(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ro(t[nn]);return tu(i,r)}else return tu(t,e.next)}}}return null}function s0(t,e){if(e!==null){let r=t[nn][on],i=e.projection;return r.projection[i]}return null}function vf(t,e){let n=nt+t+1;if(n<e.length){let r=e[n],i=r[H].firstChild;if(i!==null)return tu(r,i)}return e[Gr]}function i1(t,e,n){let r=Ep(t,e);r&&XR(t,r,e,n)}function wp(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],c=n.type;if(o&&e===0&&(a&&Qr(En(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)wp(t,e,n.child,r,i,s,!1),ns(e,t,i,a,s);else if(c&32){let u=_p(n,r),l;for(;l=u();)ns(e,t,i,l,s);ns(e,t,i,a,s)}else c&16?s1(t,e,r,n,i,s):ns(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Au(t,e,n,r,i,s){wp(n,r,t.firstChild,e,i,s,!1)}function s1(t,e,n,r,i,s){let o=n[nn],c=o[on].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let l=c[u];ns(e,t,i,l,s)}else{let u=c,l=o[Ke];XI(r)&&(u.flags|=128),wp(t,e,u,l,i,s,!0)}}function o1(t,e,n,r,i){let s=n[Gr],o=En(n);s!==o&&ns(e,t,r,s,i);for(let a=nt;a<n.length;a++){let c=n[a];Au(c[H],c,t,e,r,s)}}function a1(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Hn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Hn.Important),t.setStyle(n,r,i,s))}}function c1(t,e,n){t.setAttribute(e,"style",n)}function o0(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function a0(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&af(t,e,r),i!==null&&o0(t,e,i),s!==null&&c1(t,e,s)}var Kc;function u1(){if(Kc===void 0&&(Kc=null,jr.trustedTypes))try{Kc=jr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Kc}function NE(t){return u1()?.createScriptURL(t)||t}var fu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${KE})`}};function qo(t){return t instanceof fu?t.changingThisBreaksApplicationSecurity:t}function Dp(t,e){let n=l1(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${KE})`)}return n===e}function l1(t){return t instanceof fu&&t.getTypeName()||null}var d1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function c0(t){return t=String(t),t.match(d1)?t:"unsafe:"+t}var xu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(xu||{});function h1(t){let e=l0();return e?e.sanitize(xu.URL,t)||"":Dp(t,"URL")?qo(t):c0(is(t))}function f1(t){let e=l0();if(e)return NE(e.sanitize(xu.RESOURCE_URL,t)||"");if(Dp(t,"ResourceURL"))return NE(qo(t));throw new P(904,!1)}function p1(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?f1:h1}function u0(t,e,n){return p1(e,n)(t)}function l0(){let t=ce();return t&&t[_n].sanitizer}var _f=class{};var m1="h",g1="b";var y1=()=>null;function Cp(t,e,n=!1){return y1(t,e,n)}var Ef=class{},pu=class{};function v1(t){let e=Error(`No component factory found for ${yt(t)}.`);return e[_1]=t,e}var _1="ngComponent";var If=class{resolveComponentFactory(e){throw v1(e)}},Ru=(()=>{let e=class e{};e.NULL=new If;let t=e;return t})();function E1(){return ps(At(),ce())}function ps(t,e){return new it(qt(t,e))}var it=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=E1;let t=e;return t})();function I1(t){return t instanceof it?t.nativeElement:t}var Po=class{},Gt=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>w1();let t=e;return t})();function w1(){let t=ce(),e=At(),n=mr(e.index,t);return(Br(n)?n:t)[Be]}var D1=(()=>{let e=class e{};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Wh={};function mu(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(En(s)),Kn(s)&&C1(s,r);let o=n.type;if(o&8)mu(t,e,n.child,r);else if(o&32){let a=_p(n,e),c;for(;c=a();)r.push(c)}else if(o&16){let a=s0(e,n);if(Array.isArray(a))r.push(...a);else{let c=Ro(e[nn]);mu(c[H],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function C1(t,e){for(let n=nt;n<t.length;n++){let r=t[n],i=r[H].firstChild;i!==null&&mu(r[H],r,i,e)}t[Gr]!==t[Wn]&&e.push(t[Gr])}var d0=[];function T1(t){return t[qr]??b1(t)}function b1(t){let e=d0.pop()??Object.create(A1);return e.lView=t,e}function S1(t){t.lView[qr]!==t&&(t.lView=null,d0.push(t))}var A1=ae(S({},V_),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{xo(t.lView)},consumerOnSignalRead(){this.lView[qr]=this}});function h0(t){return p0(t[Ao])}function f0(t){return p0(t[tn])}function p0(t){for(;t!==null&&!Kn(t);)t=t[tn];return t}var x1="ngOriginalError";function Kh(t){return t[x1]}var qn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Kh(e);for(;n&&Kh(n);)n=Kh(n);return n||null}},m0=new O("",{providedIn:"root",factory:()=>x(qn).handleError.bind(void 0)});var g0=!1,R1=new O("",{providedIn:"root",factory:()=>g0});var In={};function I(t=1){y0(St(),ce(),gr()+t,!1)}function y0(t,e,n,r){if(!r)if((e[U]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Zc(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Jc(e,s,0,n)}zr(n)}function R(t,e=J.Default){let n=ce();if(n===null)return Q(t,e);let r=At();return jI(r,n,gt(t),e)}function v0(t,e,n,r,i,s){let o=ze(null);try{let a=null;i&We.SignalBased&&(a=e[r][F_]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&We.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):mI(e,a,r,s)}finally{ze(o)}}function M1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)zr(~i);else{let s=i,o=n[++r],a=n[++r];Zx(o,s);let c=e[s];a(2,c)}}}finally{zr(-1)}}function Mu(t,e,n,r,i,s,o,a,c,u,l){let d=e.blueprint.slice();return d[Wn]=i,d[U]=r|4|128|8|64,(u!==null||t&&t[U]&2048)&&(d[U]|=2048),EI(d),d[Ke]=d[fs]=t,d[tt]=n,d[_n]=o||t&&t[_n],d[Be]=a||t&&t[Be],d[os]=c||t&&t[os]||null,d[on]=s,d[Du]=LR(),d[bo]=l,d[hI]=u,d[nn]=e.type==2?t[nn]:d,d}function Nu(t,e,n,r,i){let s=t.data[e];if(s===null)s=N1(t,e,n,r,i),Yx()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=Gx();s.injectorIndex=o===null?-1:o.injectorIndex}return Bo(s,!0),s}function N1(t,e,n,r,i){let s=DI(),o=CI(),a=o?s:s&&s.parent,c=t.data[e]=L1(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function _0(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function E0(t,e,n,r,i){let s=gr(),o=r&2;try{zr(-1),o&&e.length>rn&&y0(t,e,rn,!1),mn(o?2:0,i),n(r,i)}finally{zr(s),mn(o?3:1,i)}}function I0(t,e,n){if(pI(e)){let r=ze(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{ze(r)}}}function w0(t,e,n){wI()&&(q1(t,e,n,qt(n,e)),(n.flags&64)===64&&A0(t,e,n))}function D0(t,e,n=qt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function C0(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Tp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Tp(t,e,n,r,i,s,o,a,c,u,l){let d=rn+r,h=d+i,p=P1(d,h),v=typeof u=="function"?u():u;return p[H]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:v,incompleteFirstPass:!1,ssrId:l}}function P1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:In);return n}function k1(t,e,n,r){let s=r.get(R1,g0)||n===vn.ShadowDom,o=t.selectRootElement(e,s);return O1(o),o}function O1(t){F1(t)}var F1=()=>null;function V1(t,e,n,r){let i=M0(e);i.push(n),t.firstCreatePass&&N0(t).push(r,i.length-1)}function L1(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return $x()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function PE(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,c=We.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?kE(r,n,u,a,c):kE(r,n,u,a)}return r}function kE(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function U1(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],c=null,u=null;for(let l=r;l<i;l++){let d=s[l],h=n?n.get(d):null,p=h?h.inputs:null,v=h?h.outputs:null;c=PE(0,d.inputs,l,c,p),u=PE(1,d.outputs,l,u,v);let D=c!==null&&o!==null&&!sI(e)?tM(c,l,o):null;a.push(D)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function j1(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function T0(t,e,n,r,i,s,o,a){let c=qt(e,n),u=e.inputs,l;!a&&u!=null&&(l=u[r])?(bp(t,n,l,r,i),Cu(e)&&B1(n,e.index)):e.type&3?(r=j1(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(c,r,i)):e.type&12}function B1(t,e){let n=mr(e,t);n[U]&16||(n[U]|=64)}function b0(t,e,n,r){if(wI()){let i=r===null?null:{"":-1},s=z1(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&S0(t,e,n,o,i,a),i&&W1(n,r,i)}n.mergedAttrs=To(n.mergedAttrs,n.attrs)}function S0(t,e,n,r,i,s){for(let u=0;u<r.length;u++)hf(uu(n,e),t,r[u].type);Q1(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let l=r[u];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,c=_0(t,e,r.length,null);for(let u=0;u<r.length;u++){let l=r[u];n.mergedAttrs=To(n.mergedAttrs,l.hostAttrs),Y1(t,n,e,c,l),K1(c,l,i),l.contentQueries!==null&&(n.flags|=4),(l.hostBindings!==null||l.hostAttrs!==null||l.hostVars!==0)&&(n.flags|=64);let d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}U1(t,n,s)}function $1(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;H1(o)!=a&&o.push(a),o.push(n,r,s)}}function H1(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function q1(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Cu(n)&&Z1(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||uu(n,e),Qr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let c=t.data[a],u=Kr(e,t,a,n);if(Qr(u,e),o!==null&&eM(e,a-i,u,c,n,o),fr(c)){let l=mr(n.index,e);l[tt]=Kr(e,t,a,n)}}}function A0(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Jx();try{zr(s);for(let a=r;a<i;a++){let c=t.data[a],u=e[a];lf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&G1(c,u)}}finally{zr(-1),lf(o)}}function G1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function z1(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(yx(e,o.selectors,!1))if(r||(r=[]),fr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let c=a.length;wf(t,e,c)}else r.unshift(o),wf(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function wf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function W1(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new P(-301,!1);r.push(e[i],s)}}}function K1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;fr(e)&&(n[""]=t)}}function Q1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Y1(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=cs(i.type,!0)),o=new Wr(s,fr(i),R);t.blueprint[r]=o,n[r]=o,$1(t,e,r,_0(t,n,i.hostVars,In),i)}function Z1(t,e,n){let r=qt(e,t),i=C0(n),s=t[_n].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Pu(t,Mu(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function J1(t,e,n,r,i,s){let o=qt(t,e);X1(e[Be],o,s,t.value,n,r,i)}function X1(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?is(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function eM(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],u=o[a++],l=o[a++],d=o[a++];v0(r,n,c,u,l,d)}}function tM(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function x0(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function R0(t,e){let n=t.contentQueries;if(n!==null){let r=ze(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];rp(s),a.contentQueries(2,e[o],o)}}}finally{ze(r)}}}function Pu(t,e){return t[Ao]?t[wE][tn]=e:t[Ao]=e,t[wE]=e,e}function Df(t,e,n){rp(0);let r=ze(null);try{e(t,n)}finally{ze(r)}}function M0(t){return t[So]||(t[So]=[])}function N0(t){return t.cleanup||(t.cleanup=[])}function P0(t,e){let n=t[os],r=n?n.get(qn,null):null;r&&r.handleError(e)}function bp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],u=e[o],l=t.data[o];v0(l,u,r,a,c,i)}}function k0(t,e,n){let r=_I(e,t);HR(t[Be],r,n)}var nM=100;function rM(t,e=!0){let n=t[_n],r=n.rendererFactory,i=!1;i||r.begin?.();try{iM(t)}catch(s){throw e&&P0(t,s),s}finally{i||(r.end?.(),n.inlineEffectRunner?.flush())}}function iM(t){Cf(t,0);let e=0;for(;II(t);){if(e===nM)throw new P(103,!1);e++,Cf(t,1)}}function sM(t,e,n,r){let i=e[U];if((i&256)===256)return;let s=!1;!s&&e[_n].inlineEffectRunner?.flush(),ip(e);let o=null,a=null;!s&&oM(t)&&(a=T1(e),o=L_(a));try{EI(e),Qx(t.bindingStartIndex),n!==null&&E0(t,e,n,2,r);let c=(i&3)===3;if(!s)if(c){let d=t.preOrderCheckHooks;d!==null&&Zc(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Jc(e,d,0,null),$h(e,0)}if(aM(e),O0(e,0),t.contentQueries!==null&&R0(t,e),!s)if(c){let d=t.contentCheckHooks;d!==null&&Zc(e,d)}else{let d=t.contentHooks;d!==null&&Jc(e,d,1),$h(e,1)}M1(t,e);let u=t.components;u!==null&&V0(e,u,0);let l=t.viewQuery;if(l!==null&&Df(2,l,r),!s)if(c){let d=t.viewCheckHooks;d!==null&&Zc(e,d)}else{let d=t.viewHooks;d!==null&&Jc(e,d,2),$h(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Bh]){for(let d of e[Bh])d();e[Bh]=null}s||(e[U]&=-73)}catch(c){throw xo(e),c}finally{a!==null&&(U_(a,o),S1(a)),sp()}}function oM(t){return t.type!==2}function O0(t,e){for(let n=h0(t);n!==null;n=f0(n))for(let r=nt;r<n.length;r++){let i=n[r];F0(i,e)}}function aM(t){for(let e=h0(t);e!==null;e=f0(e)){if(!(e[U]&Xf.HasTransplantedViews))continue;let n=e[as];for(let r=0;r<n.length;r++){let i=n[r],s=i[Ke];Fx(i)}}}function cM(t,e,n){let r=mr(e,t);F0(r,n)}function F0(t,e){np(t)&&Cf(t,e)}function Cf(t,e){let r=t[H],i=t[U],s=t[qr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&vh(s)),s&&(s.dirty=!1),t[U]&=-9217,o)sM(r,t,r.template,t[tt]);else if(i&8192){O0(t,1);let a=r.components;a!==null&&V0(t,a,1)}}function V0(t,e,n){for(let r=0;r<e.length;r++)cM(t,e[r],n)}function Sp(t){for(t[_n].changeDetectionScheduler?.notify();t;){t[U]|=64;let e=Ro(t);if(bx(t)&&!e)return t;t=e}return null}var Yr=class{get rootNodes(){let e=this._lView,n=e[H];return mu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[tt]}set context(e){this._lView[tt]=e}get destroyed(){return(this._lView[U]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ke];if(Kn(e)){let n=e[su],r=n?n.indexOf(this):-1;r>-1&&(No(e,r),lu(n,r))}this._attachedToViewContainer=!1}Su(this._lView[H],this._lView)}onDestroy(e){Lx(this._lView,e)}markForCheck(){Sp(this._cdRefInjectingView||this._lView)}detach(){this._lView[U]&=-129}reattach(){uf(this._lView),this._lView[U]|=128}detectChanges(){this._lView[U]|=1024,rM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,n0(this._lView[H],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e,uf(this._lView)}},ms=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=uM;let t=e;return t})();function uM(t){return lM(At(),ce(),(t&16)===16)}function lM(t,e,n){if(Cu(t)&&!n){let r=mr(t.index,e);return new Yr(r,r)}else if(t.type&47){let r=e[nn];return new Yr(r,e)}return null}var OE=new Set;function ku(t){OE.has(t)||(OE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Tf=class extends Tt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=Qh(s),i&&(i=Qh(i)),o&&(o=Qh(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Me&&e.add(a),a}};function Qh(t){return e=>{setTimeout(t,void 0,e)}}var je=Tf;function FE(...t){}function dM(){let t=typeof jr.requestAnimationFrame=="function",e=jr[t?"requestAnimationFrame":"setTimeout"],n=jr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ye=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new je(!1),this.onMicrotaskEmpty=new je(!1),this.onStable=new je(!1),this.onError=new je(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=dM().nativeRequestAnimationFrame,pM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new P(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,hM,FE,FE);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},hM={};function Ap(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function fM(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(jr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,bf(t),t.isCheckStableRunning=!0,Ap(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),bf(t))}function pM(t){let e=()=>{fM(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(mM(a))return n.invokeTask(i,s,o,a);try{return VE(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),LE(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return VE(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),LE(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,bf(t),Ap(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function bf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function VE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function LE(t){t._nesting--,Ap(t)}function mM(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var L0=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let s of r)s();return!!this.handler?.execute()||r.length>0}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=N({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function gM(t,e){let n=mr(e,t),r=n[H];yM(r,n);let i=n[Wn];i!==null&&n[bo]===null&&(n[bo]=Cp(i,n[os])),xp(r,n,n[tt])}function yM(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function xp(t,e,n){ip(e);try{let r=t.viewQuery;r!==null&&Df(1,r,n);let i=t.template;i!==null&&E0(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&R0(t,e),t.staticViewQueries&&Df(2,t.viewQuery,n);let s=t.components;s!==null&&vM(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[U]&=-5,sp()}}function vM(t,e){for(let n=0;n<e.length;n++)gM(t,e[n])}function Sf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=hE(i,a);else if(s==2){let c=a,u=e[++o];r=hE(r,c+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var gu=class extends Ru{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Hr(e);return new ko(n,this.ngModule)}};function UE(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function _M(t){let e=t.toLowerCase();return e==="svg"?Rx:e==="math"?Mx:null}var Af=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=wu(r);let i=this.injector.get(e,Wh,r);return i!==Wh||n===Wh?i:this.parentInjector.get(e,n,r)}},ko=class extends pu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=UE(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return UE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Ix(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof Ht?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new Af(e,s):e,a=o.get(Po,null);if(a===null)throw new P(407,!1);let c=o.get(D1,null),u=o.get(L0,null),l=o.get(_f,null),d={rendererFactory:a,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:l},h=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",v=r?k1(h,r,this.componentDef.encapsulation,o):t0(h,p,_M(p)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let E=null;v!==null&&(E=Cp(v,o,!0));let b=Tp(0,null,null,1,0,null,null,null,null,null,null),W=Mu(null,b,null,D,null,null,d,h,o,null,E);ip(W);let Z,K;try{let Ee=this.componentDef,oe,mt=null;Ee.findHostDirectiveDefs?(oe=[],mt=new Map,Ee.findHostDirectiveDefs(Ee,oe,mt),oe.push(Ee)):oe=[Ee];let Ut=EM(W,v),Or=IM(Ut,v,Ee,oe,W,d,h);K=tp(b,rn),v&&CM(h,Ee,v,r),n!==void 0&&TM(K,this.ngContentSelectors,n),Z=DM(Or,Ee,oe,mt,W,[bM]),xp(b,W,null)}finally{sp()}return new xf(this.componentType,Z,ps(K,W),W,K)}},xf=class extends Ef{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Yr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;bp(s[H],s,i,e,n),this.previousInputValues.set(e,n);let o=mr(this._tNode.index,s);Sp(o)}}get injector(){return new $r(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function EM(t,e){let n=t[H],r=rn;return t[r]=e,Nu(n,r,2,"#host",null)}function IM(t,e,n,r,i,s,o){let a=i[H];wM(r,t,e,o);let c=null;e!==null&&(c=Cp(e,i[os]));let u=s.rendererFactory.createRenderer(e,n),l=16;n.signals?l=4096:n.onPush&&(l=64);let d=Mu(i,C0(n),null,l,i[t.index],t,s,u,null,null,c);return a.firstCreatePass&&wf(a,t,r.length-1),Pu(i,d),i[t.index]=d}function wM(t,e,n,r){for(let i of t)e.mergedAttrs=To(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Sf(e,e.mergedAttrs,!0),n!==null&&a0(r,n,e))}function DM(t,e,n,r,i,s){let o=At(),a=i[H],c=qt(o,i);S0(a,i,o,n,null,r);for(let l=0;l<n.length;l++){let d=o.directiveStart+l,h=Kr(i,a,d,o);Qr(h,i)}A0(a,i,o),c&&Qr(c,i);let u=Kr(i,a,o.directiveStart+o.componentOffset,o);if(t[tt]=i[tt]=u,s!==null)for(let l of s)l(u,e);return I0(a,o,t),u}function CM(t,e,n,r){if(r)af(t,n,["ng-version","17.1.0"]);else{let{attrs:i,classes:s}=wx(e.selectors[0]);i&&af(t,n,i),s&&s.length>0&&o0(t,n,s.join(" "))}}function TM(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function bM(){let t=At();up(ce()[H],t)}function SM(t){return Object.getPrototypeOf(t.prototype).constructor}function Pt(t){let e=SM(t.type),n=!0,r=[t];for(;e;){let i;if(fr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Qc(t.inputs),o.inputTransforms=Qc(t.inputTransforms),o.declaredInputs=Qc(t.declaredInputs),o.outputs=Qc(t.outputs);let a=i.hostBindings;a&&NM(t,a);let c=i.viewQuery,u=i.contentQueries;if(c&&RM(t,c),u&&MM(t,u),AM(t,i),qA(t.outputs,i.outputs),fr(i)&&i.data.animation){let l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Pt&&(n=!1)}}e=Object.getPrototypeOf(e)}xM(r)}function AM(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function xM(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=To(i.hostAttrs,n=To(n,i.hostAttrs))}}function Qc(t){return t===ss?{}:t===$t?[]:t}function RM(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function MM(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function NM(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Rp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var bz=new RegExp(`^(\\d+)*(${g1}|${m1})*(.*)`);var PM=()=>null;function Oo(t,e){return PM(t,e)}function Ou(t,e,n,r){let i=e.tView,o=t[U]&4096?4096:16,a=Mu(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),c=t[e.index];a[jo]=c;let u=t[yn];return u!==null&&(a[yn]=u.createEmbeddedView(i)),xp(i,a,n),a}function U0(t,e){let n=nt+e;if(n<t.length)return t[n]}function Fo(t,e){return!e||e.firstChild===null||XI(t)}function Fu(t,e,n,r=!0){let i=e[H];if(WR(i,e,t,n),r){let o=vf(n,t),a=e[Be],c=Ep(a,t[Gr]);c!==null&&GR(i,t[on],a,e,c,o)}let s=e[bo];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function j0(t,e){let n=No(t,e);return n!==void 0&&Su(n[H],n),n}var Xr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=kM;let t=e;return t})();function kM(){let t=At();return $0(t,ce())}var OM=Xr,B0=class extends OM{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return ps(this._hostTNode,this._hostLView)}get injector(){return new $r(this._hostTNode,this._hostLView)}get parentInjector(){let e=lp(this._hostTNode,this._hostLView);if(kI(e)){let n=cu(e,this._hostLView),r=au(e),i=n[H].data[r+8];return new $r(i,n)}else return new $r(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=jE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-nt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Oo(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Fo(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!_R(e),a;if(o)a=n;else{let v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}let c=o?e:new ko(Hr(e)),u=r||this.parentInjector;if(!s&&c.ngModule==null){let D=(o?u:this.parentInjector).get(Ht,null);D&&(s=D)}let l=Hr(c.componentType??{}),d=Oo(this._lContainer,l?.id??null),h=d?.firstChild??null,p=c.create(u,i,h,s);return this.insertImpl(p.hostView,a,Fo(this._hostTNode,d)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Ox(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ke],u=new B0(c,c[on],c[Ke]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Fu(o,i,s,r),e.attachToViewContainerRef(),HI(Yh(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=jE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=No(this._lContainer,n);r&&(lu(Yh(this._lContainer),n),Su(r[H],r))}detach(e){let n=this._adjustIndex(e,-1),r=No(this._lContainer,n);return r&&lu(Yh(this._lContainer),n)!=null?new Yr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function jE(t){return t[su]}function Yh(t){return t[su]||(t[su]=[])}function $0(t,e){let n,r=e[t.index];return Kn(r)?n=r:(n=x0(r,e,null,t),e[t.index]=n,Pu(e,n)),VM(n,e,t,r),new B0(n,t,e)}function FM(t,e){let n=t[Be],r=n.createComment(""),i=qt(e,t),s=Ep(n,i);return hu(n,s,r,e1(n,i),!1),r}var VM=jM,LM=()=>!1;function UM(t,e,n){return LM(t,e,n)}function jM(t,e,n,r){if(t[Gr])return;let i;n.type&8?i=En(r):i=FM(e,n),t[Gr]=i}function BM(t,e,n){return t[e]=n}function Gn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function $M(t,e,n,r){let i=Gn(t,e,n);return Gn(t,e+1,r)||i}function HM(t,e,n,r,i,s,o,a,c){let u=e.consts,l=Nu(e,t,4,o||null,ou(u,a));b0(e,n,l,ou(u,c)),up(e,l);let d=l.tView=Tp(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}function ve(t,e,n,r,i,s,o,a){let c=ce(),u=St(),l=t+rn,d=u.firstCreatePass?HM(l,u,c,e,n,r,i,s,o):u.data[l];Bo(d,!1);let h=qM(u,c,d,t);ap()&&Ip(u,c,h,d),Qr(h,c);let p=x0(h,c,h,d);return c[l]=p,Pu(c,p),UM(p,d,c),ep(d)&&w0(u,c,d),o!=null&&D0(c,d,a),ve}var qM=GM;function GM(t,e,n,r){return cp(!0),e[Be].createComment("")}function Vu(t,e,n,r){let i=ce(),s=$o();if(Gn(i,s,e)){let o=St(),a=op();J1(a,i,t,e,n,r)}return Vu}function H0(t,e,n,r){return Gn(t,$o(),n)?e+is(n)+r:In}function zM(t,e,n,r,i,s){let o=Kx(),a=$M(t,o,n,i);return TI(2),a?e+is(n)+r+is(i)+s:In}function Yc(t,e){return t<<17|e<<2}function Zr(t){return t>>17&32767}function WM(t){return(t&2)==2}function KM(t,e){return t&131071|e<<17}function Rf(t){return t|2}function ds(t){return(t&131068)>>2}function Zh(t,e){return t&-131069|e<<2}function QM(t){return(t&1)===1}function Mf(t){return t|1}function YM(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Zr(o),c=ds(o);t[r]=n;let u=!1,l;if(Array.isArray(n)){let d=n;l=d[1],(l===null||Ho(d,l)>0)&&(u=!0)}else l=n;if(i)if(c!==0){let h=Zr(t[a+1]);t[r+1]=Yc(h,a),h!==0&&(t[h+1]=Zh(t[h+1],r)),t[a+1]=KM(t[a+1],r)}else t[r+1]=Yc(a,0),a!==0&&(t[a+1]=Zh(t[a+1],r)),a=r;else t[r+1]=Yc(c,0),a===0?a=r:t[c+1]=Zh(t[c+1],r),c=r;u&&(t[r+1]=Rf(t[r+1])),BE(t,l,r,!0),BE(t,l,r,!1),ZM(e,l,t,r,s),o=Yc(a,c),s?e.classBindings=o:e.styleBindings=o}function ZM(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Ho(s,e)>=0&&(n[r+1]=Mf(n[r+1]))}function BE(t,e,n,r){let i=t[n+1],s=e===null,o=r?Zr(i):ds(i),a=!1;for(;o!==0&&(a===!1||s);){let c=t[o],u=t[o+1];JM(c,e)&&(a=!0,t[o+1]=r?Mf(u):Rf(u)),o=r?Zr(u):ds(u)}a&&(t[n+1]=r?Rf(i):Mf(i))}function JM(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ho(t,e)>=0:!1}function Oe(t,e,n){let r=ce(),i=$o();if(Gn(r,i,e)){let s=St(),o=op();T0(s,o,r,t,e,r[Be],n,!1)}return Oe}function $E(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";bp(t,n,s[o],o,r)}function Lu(t,e){return XM(t,e,null,!0),Lu}function XM(t,e,n,r){let i=ce(),s=St(),o=TI(2);if(s.firstUpdatePass&&tN(s,t,o,r),e!==In&&Gn(i,o,e)){let a=s.data[gr()];oN(s,a,i,i[Be],t,i[o+1]=aN(e,n),r,o)}}function eN(t,e){return e>=t.expandoStartIndex}function tN(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[gr()],o=eN(t,n);cN(s,r)&&e===null&&!o&&(e=!1),e=nN(i,s,e,r),YM(i,s,e,n,o,r)}}function nN(t,e,n,r){let i=Xx(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Jh(null,t,e,n,r),n=Vo(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Jh(i,t,e,n,r),s===null){let c=rN(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Jh(null,t,e,c[1],r),c=Vo(c,e.attrs,r),iN(t,e,r,c))}else s=sN(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function rN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ds(r)!==0)return t[Zr(r)]}function iN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Zr(i)]=r}function sN(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Vo(r,o,n)}return Vo(r,e.attrs,n)}function Jh(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Vo(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Vo(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),DR(t,o,n?!0:e[++s]))}return t===void 0?null:t}function oN(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let c=t.data,u=c[a+1],l=QM(u)?HE(c,e,n,i,ds(u),o):void 0;if(!yu(l)){yu(s)||WM(u)&&(s=HE(c,null,n,i,a,o));let d=_I(gr(),n);a1(r,o,d,i,s)}}function HE(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let c=t[i],u=Array.isArray(c),l=u?c[1]:c,d=l===null,h=n[i+1];h===In&&(h=d?$t:void 0);let p=d?qh(h,r):l===r?h:void 0;if(u&&!yu(p)&&(p=qh(c,r)),yu(p)&&(a=p,o))return a;let v=t[i+1];i=o?Zr(v):ds(v)}if(e!==null){let c=s?e.residualClasses:e.residualStyles;c!=null&&(a=qh(c,r))}return a}function yu(t){return t!==void 0}function aN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=yt(qo(t)))),t}function cN(t,e){return(t.flags&(e?8:16))!==0}var Nf=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function Xh(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function uN(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let c=t.at(s),u=e[s],l=Xh(s,c,s,u,n);if(l!==0){l<0&&t.updateValue(s,u),s++;continue}let d=t.at(o),h=e[a],p=Xh(o,d,a,h,n);if(p!==0){p<0&&t.updateValue(o,h),o--,a--;continue}let v=n(s,c),D=n(o,d),E=n(s,u);if(Object.is(E,D)){let b=n(a,h);Object.is(b,v)?(t.swap(s,o),t.updateValue(o,h),a--,o--):t.move(o,s),t.updateValue(s,u),s++;continue}if(r??=new vu,i??=GE(t,s,o,n),Pf(t,r,s,E))t.updateValue(s,u),s++,o++;else if(i.has(E))r.set(v,t.detach(s)),o--;else{let b=t.create(s,e[s]);t.attach(s,b),s++,o++}}for(;s<=a;)qE(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),c=a.next();for(;!c.done&&s<=o;){let u=t.at(s),l=c.value,d=Xh(s,u,s,l,n);if(d!==0)d<0&&t.updateValue(s,l),s++,c=a.next();else{r??=new vu,i??=GE(t,s,o,n);let h=n(s,l);if(Pf(t,r,s,h))t.updateValue(s,l),s++,o++,c=a.next();else if(!i.has(h))t.attach(s,t.create(s,l)),s++,o++,c=a.next();else{let p=n(s,u);r.set(p,t.detach(s)),o--}}}for(;!c.done;)qE(t,r,n,t.length,c.value),c=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function Pf(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function qE(t,e,n,r,i){if(Pf(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function GE(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var vu=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Ie(t,e,n){ku("NgControlFlow");let r=ce(),i=$o(),s=Vf(r,rn+t),o=0;if(Gn(r,i,e)){let a=ze(null);try{if(j0(s,o),e!==-1){let c=Lf(r[H],rn+e),u=Oo(s,c.tView.ssrId),l=Ou(r,c,n,{dehydratedView:u});Fu(s,l,o,Fo(c,u))}}finally{ze(a)}}else{let a=U0(s,o);a!==void 0&&(a[tt]=n)}}var kf=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-nt}};function st(t){return t}var Of=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function ot(t,e,n,r,i,s,o,a,c,u,l,d,h){ku("NgControlFlow");let p=c!==void 0,v=ce(),D=a?o.bind(v[nn][tt]):o,E=new Of(p,D);v[rn+t]=E,ve(t+1,e,n,r,i,s),p&&ve(t+2,c,u,l,d,h)}var Ff=class extends Nf{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-nt}at(e){return this.getLView(e)[tt].$implicit}attach(e,n){let r=n[bo];this.needsIndexUpdate||=e!==this.length,Fu(this.lContainer,n,e,Fo(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,lN(this.lContainer,e)}create(e,n){let r=Oo(this.lContainer,this.templateTNode.tView.ssrId);return Ou(this.hostLView,this.templateTNode,new kf(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Su(e[H],e)}updateValue(e,n){this.getLView(e)[tt].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[tt].$index=e}getLView(e){return dN(this.lContainer,e)}};function at(t){let e=ze(null),n=gr();try{let r=ce(),i=r[H],s=r[n];if(s.liveCollection===void 0){let a=n+1,c=Vf(r,a),u=Lf(i,a);s.liveCollection=new Ff(c,r,u)}else s.liveCollection.reset();let o=s.liveCollection;if(uN(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=$o(),c=o.length===0;if(Gn(r,a,c)){let u=n+2,l=Vf(r,u);if(c){let d=Lf(i,u),h=Oo(l,d.tView.ssrId),p=Ou(r,d,void 0,{dehydratedView:h});Fu(l,p,0,Fo(d,h))}else j0(l,0)}}}finally{ze(e)}}function Vf(t,e){return t[e]}function lN(t,e){return No(t,e)}function dN(t,e){return U0(t,e)}function Lf(t,e){return tp(t,e)}function hN(t,e,n,r,i,s){let o=e.consts,a=ou(o,i),c=Nu(e,t,2,r,a);return b0(e,n,c,ou(o,s)),c.attrs!==null&&Sf(c,c.attrs,!1),c.mergedAttrs!==null&&Sf(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function m(t,e,n,r){let i=ce(),s=St(),o=rn+t,a=i[Be],c=s.firstCreatePass?hN(o,s,i,e,n,r):s.data[o],u=fN(s,i,c,a,e,t);i[o]=u;let l=ep(c);return Bo(c,!0),a0(a,u,c),(c.flags&32)!==32&&ap()&&Ip(s,i,u,c),Ux()===0&&Qr(u,i),jx(),l&&(w0(s,i,c),I0(s,c,i)),r!==null&&D0(i,c),m}function f(){let t=At();CI()?zx():(t=t.parent,Bo(t,!1));let e=t;Hx(e)&&qx(),Bx();let n=St();return n.firstCreatePass&&(up(n,t),pI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&oR(e)&&$E(n,e,ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&aR(e)&&$E(n,e,ce(),e.stylesWithoutHost,!1),f}function L(t,e,n,r){return m(t,e,n,r),f(),L}var fN=(t,e,n,r,i,s)=>(cp(!0),t0(r,i,nR()));function It(){return ce()}var _u="en-US";var pN=_u;function mN(t){JA(t,"Expected localeId to be defined"),typeof t=="string"&&(pN=t.toLowerCase().replace(/_/g,"-"))}function ei(t){return!!t&&typeof t.then=="function"}function q0(t){return!!t&&typeof t.subscribe=="function"}function k(t,e,n,r){let i=ce(),s=St(),o=At();return yN(s,i,i[Be],o,t,e,r),k}function gN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[So],c=i[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function yN(t,e,n,r,i,s,o){let a=ep(r),u=t.firstCreatePass&&N0(t),l=e[tt],d=M0(e),h=!0;if(r.type&3||o){let D=qt(r,e),E=o?o(D):D,b=d.length,W=o?K=>o(En(K[r.index])):r.index,Z=null;if(!o&&a&&(Z=gN(t,e,i,r.index)),Z!==null){let K=Z.__ngLastListenerFn__||Z;K.__ngNextListenerFn__=s,Z.__ngLastListenerFn__=s,h=!1}else{s=WE(r,e,l,s,!1);let K=n.listen(E,i,s);d.push(s,K),u&&u.push(i,W,b,b+1)}}else s=WE(r,e,l,s,!1);let p=r.outputs,v;if(h&&p!==null&&(v=p[i])){let D=v.length;if(D)for(let E=0;E<D;E+=2){let b=v[E],W=v[E+1],Ee=e[b][W].subscribe(s),oe=d.length;d.push(s,Ee),u&&u.push(i,r.index,oe,-(oe+1))}}}function zE(t,e,n,r){try{return mn(6,e,n),n(r)!==!1}catch(i){return P0(t,i),!1}finally{mn(7,e,n)}}function WE(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?mr(t.index,e):e;Sp(a);let c=zE(e,n,r,o),u=s.__ngNextListenerFn__;for(;u;)c=zE(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return i&&c===!1&&o.preventDefault(),c}}function F(t=1){return tR(t)}function gs(t,e,n){return G0(t,"",e,"",n),gs}function G0(t,e,n,r,i){let s=ce(),o=H0(s,e,n,r);if(o!==In){let a=St(),c=op();T0(a,c,s,t,o,s[Be],i,!1)}return G0}function vN(){return this._results[Symbol.iterator]()}var Uf=class t{get changes(){return this._changes??=new je}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=vN)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=IR(e);(this._changesDetected=!ER(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},hs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=IN;let t=e;return t})(),_N=hs,EN=class extends _N{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Ou(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Yr(i)}};function IN(){return Mp(At(),ce())}function Mp(t,e){return t.type&4?new EN(e,t,ps(t,e)):null}var jf=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Bf=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)W0(e,n).matches!==null&&this.queries[n].setDirty()}},$f=class{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}},Hf=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},qf=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,wN(n,s)),this.matchTNodeWithReadOption(e,n,Xc(n,e,s,!1,!1))}else r===hs?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Xc(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===it||i===Xr||i===hs&&n.type&4)this.addMatch(n.index,-2);else{let s=Xc(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function wN(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function DN(t,e){return t.type&11?ps(t,e):t.type&4?Mp(t,e):null}function CN(t,e,n,r){return n===-1?DN(e,t):n===-2?TN(t,e,r):Kr(t,t[H],n,e)}function TN(t,e,n){if(n===it)return ps(e,t);if(n===hs)return Mp(e,t);if(n===Xr)return $0(e,t)}function z0(t,e,n,r){let i=e[yn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){let u=o[c];if(u<0)a.push(null);else{let l=s[u];a.push(CN(e,l,o[c+1],n.metadata.read))}}i.matches=a}return i.matches}function Gf(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=z0(t,e,i,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)r.push(o[a/2]);else{let u=s[a+1],l=e[-c];for(let d=nt;d<l.length;d++){let h=l[d];h[jo]===h[Ke]&&Gf(h[H],h,u,r)}if(l[as]!==null){let d=l[as];for(let h=0;h<d.length;h++){let p=d[h];Gf(p[H],p,u,r)}}}}}return r}function bN(t,e){return t[yn].queries[e].queryList}function SN(t,e,n){let r=new Uf((n&4)===4);V1(t,e,r,r.destroy),e[yn]===null&&(e[yn]=new Bf),e[yn].queries.push(new jf(r))}function AN(t,e,n){t.queries===null&&(t.queries=new Hf),t.queries.track(new qf(e,n))}function xN(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function W0(t,e){return t.queries.getByIndex(e)}function K0(t,e,n,r){let i=St();if(i.firstCreatePass){let s=At();AN(i,new $f(e,n,r),s.index),xN(i,t),(n&2)===2&&(i.staticContentQueries=!0)}SN(i,ce(),n)}function Q0(t){let e=ce(),n=St(),r=bI();rp(r+1);let i=W0(n,r);if(t.dirty&&kx(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=i.crossesNgTemplate?Gf(n,e,r,[]):z0(n,e,i,r);t.reset(s,I1),t.notifyOnChanges()}return!0}return!1}function Y0(){return bN(ce(),bI())}function g(t,e=""){let n=ce(),r=St(),i=t+rn,s=r.firstCreatePass?Nu(r,i,1,e,null):r.data[i],o=RN(r,n,s,e,t);n[i]=o,ap()&&Ip(r,n,o,s),Bo(s,!1)}var RN=(t,e,n,r,i)=>(cp(!0),$R(e[Be],r));function pe(t){return he("",t,""),pe}function he(t,e,n){let r=ce(),i=H0(r,t,e,n);return i!==In&&k0(r,gr(),i),he}function Go(t,e,n,r,i){let s=ce(),o=zM(s,t,e,n,r,i);return o!==In&&k0(s,gr(),o),Go}function MN(t,e,n){let r=St();if(r.firstCreatePass){let i=fr(t);zf(n,r.data,r.blueprint,i,!0),zf(e,r.data,r.blueprint,i,!1)}}function zf(t,e,n,r,i){if(t=gt(t),Array.isArray(t))for(let s=0;s<t.length;s++)zf(t[s],e,n,r,i);else{let s=St(),o=ce(),a=At(),c=ls(t)?t:gt(t.provide),u=QI(t),l=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(ls(t)||!t.multi){let p=new Wr(u,i,R),v=tf(c,e,i?l:l+h,d);v===-1?(hf(uu(a,o),s,c),ef(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),o.push(p)):(n[v]=p,o[v]=p)}else{let p=tf(c,e,l+h,d),v=tf(c,e,l,l+h),D=p>=0&&n[p],E=v>=0&&n[v];if(i&&!E||!i&&!D){hf(uu(a,o),s,c);let b=kN(i?PN:NN,n.length,i,r,u);!i&&E&&(n[v].providerFactory=b),ef(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(b),o.push(b)}else{let b=Z0(n[i?v:p],u,!i&&r);ef(s,t,p>-1?p:v,b)}!i&&r&&E&&n[v].componentProviders++}}}function ef(t,e,n,r){let i=ls(e),s=AR(e);if(i||s){let c=(s?gt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let l=u.indexOf(n);l===-1?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function Z0(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function tf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function NN(t,e,n,r){return Wf(this.multi,[])}function PN(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Kr(n,n[H],this.providerFactory.index,r);s=a.slice(0,o),Wf(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Wf(i,s);return s}function Wf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function kN(t,e,n,r,i){let s=new Wr(t,n,R);return s.multi=[],s.index=e,s.componentProviders=0,Z0(s,i,r&&!n),s}function Zn(t,e=[]){return n=>{n.providersResolver=(r,i)=>MN(r,i?i(t):t,e)}}var pr=class{},Lo=class{};var Kf=class extends pr{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gu(this);let i=uI(e);this._bootstrapComponents=JI(i.bootstrap),this._r3Injector=YI(e,n,[{provide:pr,useValue:this},{provide:Ru,useValue:this.componentFactoryResolver},...r],yt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Qf=class extends Lo{constructor(e){super(),this.moduleType=e}create(e){return new Kf(this.moduleType,e,[])}};var Eu=class extends pr{constructor(e){super(),this.componentFactoryResolver=new gu(this),this.instance=null;let n=new Mo([...e.providers,{provide:pr,useValue:this},{provide:Ru,useValue:this.componentFactoryResolver}],e.parent||mp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Np(t,e,n=null){return new Eu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ON=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=zI(!1,r.type),s=i.length>0?Np([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=N({token:e,providedIn:"environment",factory:()=>new e(Q(Ht))});let t=e;return t})();function ct(t){ku("NgStandalone"),t.getStandaloneInjector=e=>e.get(ON).getOrCreateStandaloneInjector(t)}function ys(t,e,n,r){return VN(ce(),Wx(),t,e,n,r)}function FN(t,e){let n=t[e];return n===In?void 0:n}function VN(t,e,n,r,i,s){let o=e+n;return Gn(t,o,i)?BM(t,o+1,s?r.call(s,i):r(i)):FN(t,o+1)}var zn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},J0=new zn("17.1.0");var Uu=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Yf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Pp=(()=>{let e=class e{compileModuleSync(r){return new Qf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=uI(r),o=JI(s.declarations).reduce((a,c)=>{let u=Hr(c);return u&&a.push(new ko(u)),a},[]);return new Yf(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ju=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ne(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var X0=new O("");var ew=new O("Application Initializer"),tw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=x(ew,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(ei(o))r.push(o);else if(q0(o)){let a=new Promise((c,u)=>{o.subscribe({complete:c,error:u})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kp=new O("appBootstrapListener");function LN(){B_(()=>{throw new P(600,!1)})}function UN(t){return t.isBoundToModule}function jN(t,e,n){try{let r=n();return ei(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var zo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(m0),this.afterRenderEffectManager=x(L0),this.componentTypes=[],this.components=[],this.isStable=x(ju).hasPendingTasks.pipe(ee(r=>!r)),this._injector=x(Ht)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof pu;if(!this._injector.get(tw).done){let p=!s&&cI(r),v=!1;throw new P(405,v)}let a;s?a=r:a=this._injector.get(Ru).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=UN(a)?void 0:this._injector.get(pr),u=i||a.selector,l=a.create(xt.NULL,[],u,c),d=l.location.nativeElement,h=l.injector.get(X0,null);return h?.registerApplication(d),l.onDestroy(()=>{this.detachView(l.hostView),nf(this.components,l),h?.unregisterApplication(d)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new P(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{try{let r=this.afterRenderEffectManager.execute()}catch(r){this.internalErrorHandler(r)}this._runningTick=!1}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;nf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(kp,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>nf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new P(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var BN=(()=>{let e=class e{constructor(){this.zone=x(ye),this.applicationRef=x(zo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $N(t){return[{provide:ye,useFactory:t},{provide:us,multi:!0,useFactory:()=>{let e=x(BN,{optional:!0});return()=>e.initialize()}},{provide:us,multi:!0,useFactory:()=>{let e=x(zN);return()=>{e.initialize()}}},{provide:m0,useFactory:HN}]}function HN(){let t=x(ye),e=x(qn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function qN(t){let e=$N(()=>new ye(GN(t)));return Tu([[],e])}function GN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var zN=(()=>{let e=class e{constructor(){this.subscription=new Me,this.initialized=!1,this.zone=x(ye),this.pendingTasks=x(ju)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function WN(){return typeof $localize<"u"&&$localize.locale||_u}var Op=new O("LocaleId",{providedIn:"root",factory:()=>x(Op,J.Optional|J.SkipSelf)||WN()});var nw=new O("PlatformDestroyListeners");var nu=null;function KN(t=[],e){return xt.create({name:e,providers:[{provide:bu,useValue:"platform"},{provide:nw,useValue:new Set([()=>nu=null])},...t]})}function QN(t=[]){if(nu)return nu;let e=KN(t);return nu=e,LN(),YN(e),e}function YN(t){t.get(yp,null)?.forEach(n=>n())}function rw(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=QN(r),s=[qN(),...n||[]],a=new Eu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,c=a.get(ye);return c.run(()=>{a.resolveInjectorInitializers();let u=a.get(qn,null),l;c.runOutsideAngular(()=>{l=c.onError.subscribe({next:p=>{u.handleError(p)}})});let d=()=>a.destroy(),h=i.get(nw);return h.add(d),a.onDestroy(()=>{l.unsubscribe(),h.delete(d)}),jN(u,c,()=>{let p=a.get(tw);return p.runInitializers(),p.donePromise.then(()=>{let v=a.get(Op,_u);mN(v||_u);let D=a.get(zo);return e!==void 0&&D.bootstrap(e),D})})})}catch(e){return Promise.reject(e)}}function vs(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Vp=null;function Jn(){return Vp}function cw(t){Vp||(Vp=t)}var Bu=class{},kt=new O("DocumentToken"),uw=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>x(ZN),providedIn:"platform"});let t=e;return t})();var ZN=(()=>{let e=class e extends uw{constructor(){super(),this._doc=x(kt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Jn().getBaseHref(this._doc)}onPopState(r){let i=Jn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Jn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function lw(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function iw(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ti(t){return t&&t[0]!=="?"?"?"+t:t}var _s=(()=>{let e=class e{historyGo(r){throw new Error("Not implemented")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>x(dw),providedIn:"root"});let t=e;return t})(),JN=new O("appBaseHref"),dw=(()=>{let e=class e extends _s{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??x(kt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return lw(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ti(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+ti(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+ti(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(Q(uw),Q(JN,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Wo=(()=>{let e=class e{constructor(r){this._subject=new je,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=tP(iw(sw(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ti(i))}normalize(r){return e.stripTrailingSlash(eP(this._basePath,sw(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ti(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ti(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=ti,e.joinWithSlash=lw,e.stripTrailingSlash=iw,e.\u0275fac=function(i){return new(i||e)(Q(_s))},e.\u0275prov=N({token:e,factory:()=>XN(),providedIn:"root"});let t=e;return t})();function XN(){return new Wo(Q(_s))}function eP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function sw(t){return t.replace(/\/index.html$/,"")}function tP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function hw(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Fp=/\s+/,ow=[],Hu=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=ow,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Fp):ow}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Fp):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Fp).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)(R(it),R(Gt))},e.\u0275dir=Ce({type:e,selectors:[["","ngClass",""]],inputs:{klass:[We.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var fw=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Lp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){aw("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){aw("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(R(Xr),R(hs))},e.\u0275dir=Ce({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Lp=class{constructor(){this.$implicit=null,this.ngIf=null}};function aw(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${yt(e)}'.`)}var an=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_t({type:e}),e.\u0275inj=vt({});let t=e;return t})(),pw="browser",nP="server";function Up(t){return t===nP}var $u=class{};var $p=class extends Bu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Hp=class t extends $p{static makeCurrent(){cw(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=rP();return n==null?null:iP(n)}resetBaseElement(){Ko=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return hw(document.cookie,e)}},Ko=null;function rP(){return Ko=Ko||document.querySelector("base"),Ko?Ko.getAttribute("href"):null}function iP(t){return new URL(t,document.baseURI).pathname}var sP=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),qp=new O("EventManagerPlugins"),vw=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new P(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(Q(qp),Q(ye))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Gu=class{constructor(e){this._doc=e}},jp="ng-app-id",_w=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Up(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${jp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(jp),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(jp,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(Q(kt),Q(gp),Q(vp,8),Q(yr))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Bp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zp=/%COMP%/g,Ew="%COMP%",oP=`_nghost-${Ew}`,aP=`_ngcontent-${Ew}`,cP=!0,uP=new O("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>cP});function lP(t){return aP.replace(zp,t)}function dP(t){return oP.replace(zp,t)}function Iw(t,e){return e.map(n=>n.replace(zp,t))}var mw=(()=>{let e=class e{constructor(r,i,s,o,a,c,u,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Up(c),this.defaultRenderer=new Qo(r,a,u,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===vn.ShadowDom&&(i=ae(S({},i),{encapsulation:vn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof zu?s.applyToHost(r):s instanceof Yo&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,c=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case vn.Emulated:o=new zu(u,l,i,this.appId,d,a,c,h);break;case vn.ShadowDom:return new Gp(u,l,r,i,a,c,this.nonce,h);default:o=new Yo(u,l,i,d,a,c,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(Q(vw),Q(_w),Q(gp),Q(uP),Q(kt),Q(yr),Q(ye),Q(vp))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),Qo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Bp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(gw(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(gw(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new P(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Bp[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Bp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Hn.DashCase|Hn.Important)?e.style.setProperty(n,r,i&Hn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Hn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Jn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function gw(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Gp=class extends Qo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=Iw(i.id,i.styles);for(let l of u){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Yo=class extends Qo{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Iw(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},zu=class extends Yo{constructor(e,n,r,i,s,o,a,c){let u=i+"-"+r.id;super(e,n,r,s,o,a,c,u),this.contentAttr=lP(u),this.hostAttr=dP(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},hP=(()=>{let e=class e extends Gu{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(Q(kt))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})(),yw=["alt","control","meta","shift"],fP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},mP=(()=>{let e=class e extends Gu{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Jn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),yw.forEach(l=>{let d=i.indexOf(l);d>-1&&(i.splice(d,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let s=fP[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),yw.forEach(a=>{if(a!==s){let c=pP[a];c(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(Q(kt))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let t=e;return t})();function ww(t,e){return rw(S({rootComponent:t},gP(e)))}function gP(t){return{appProviders:[...IP,...t?.providers??[]],platformProviders:EP}}function yP(){Hp.makeCurrent()}function vP(){return new qn}function _P(){return ZI(document),document}var EP=[{provide:yr,useValue:pw},{provide:yp,useValue:yP,multi:!0},{provide:kt,useFactory:_P,deps:[]}];var IP=[{provide:bu,useValue:"root"},{provide:qn,useFactory:vP,deps:[]},{provide:qp,useClass:hP,multi:!0,deps:[kt,ye,yr]},{provide:qp,useClass:mP,multi:!0,deps:[kt]},mw,_w,vw,{provide:Po,useExisting:mw},{provide:$u,useClass:sP,deps:[]},[]];function wP(){return new Wp(Q(kt))}var Wp=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(Q(kt))},e.\u0275prov=N({token:e,factory:function(i){let s=null;return i?s=new i:s=wP(),s},providedIn:"root"});let t=e;return t})();var z="primary",da=Symbol("RouteTitle"),Jp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Cs(t){return new Jp(t)}function CP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function TP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!wn(t[n],e[n]))return!1;return!0}function wn(t,e){let n=t?Xp(t):void 0,r=e?Xp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Aw(t[i],e[i]))return!1;return!0}function Xp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Aw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Er(t){return kh(t)?t:ei(t)?Se(Promise.resolve(t)):B(t)}var bP={exact:Rw,subset:Mw},xw={exact:SP,subset:AP,ignored:()=>!0};function Dw(t,e,n){return bP[n.paths](t.root,e.root,n.matrixParams)&&xw[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function SP(t,e){return wn(t,e)}function Rw(t,e,n){if(!ri(t.segments,e.segments)||!Qu(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Rw(t.children[r],e.children[r],n))return!1;return!0}function AP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Aw(t[n],e[n]))}function Mw(t,e,n){return Nw(t,e,e.segments,n)}function Nw(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ri(i,n)||e.hasChildren()||!Qu(i,n,r))}else if(t.segments.length===n.length){if(!ri(t.segments,n)||!Qu(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Mw(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ri(t.segments,i)||!Qu(t.segments,i,r)||!t.children[z]?!1:Nw(t.children[z],e,s,r)}}function Qu(t,e,n){return e.every((r,i)=>xw[n](t[i].parameters,r.parameters))}var vr=class{constructor(e=new fe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Cs(this.queryParams),this._queryParamMap}toString(){return MP.serialize(this)}},fe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yu(this)}},ni=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Cs(this.parameters),this._parameterMap}toString(){return kw(this)}};function xP(t,e){return ri(t,e)&&t.every((n,r)=>wn(n.parameters,e[r].parameters))}function ri(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function RP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==z&&(n=n.concat(e(i,r)))}),n}var Tm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>new Ju,providedIn:"root"});let t=e;return t})(),Ju=class{parse(e){let n=new tm(e);return new vr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Zo(e.root,!0)}`,r=kP(e.queryParams),i=typeof e.fragment=="string"?`#${NP(e.fragment)}`:"";return`${n}${r}${i}`}},MP=new Ju;function Yu(t){return t.segments.map(e=>kw(e)).join("/")}function Zo(t,e){if(!t.hasChildren())return Yu(t);if(e){let n=t.children[z]?Zo(t.children[z],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==z&&r.push(`${i}:${Zo(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=RP(t,(r,i)=>i===z?[Zo(t.children[z],!1)]:[`${i}:${Zo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[z]!=null?`${Yu(t)}/${n[0]}`:`${Yu(t)}/(${n.join("//")})`}}function Pw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wu(t){return Pw(t).replace(/%3B/gi,";")}function NP(t){return encodeURI(t)}function em(t){return Pw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zu(t){return decodeURIComponent(t)}function Cw(t){return Zu(t.replace(/\+/g,"%20"))}function kw(t){return`${em(t.path)}${PP(t.parameters)}`}function PP(t){return Object.entries(t).map(([e,n])=>`;${em(e)}=${em(n)}`).join("")}function kP(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Wu(n)}=${Wu(i)}`).join("&"):`${Wu(n)}=${Wu(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var OP=/^[^\/()?;#]+/;function Kp(t){let e=t.match(OP);return e?e[0]:""}var FP=/^[^\/()?;=#]+/;function VP(t){let e=t.match(FP);return e?e[0]:""}var LP=/^[^=?&#]+/;function UP(t){let e=t.match(LP);return e?e[0]:""}var jP=/^[^&#]+/;function BP(t){let e=t.match(jP);return e?e[0]:""}var tm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new fe([],{}):new fe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[z]=new fe(e,n)),r}parseSegment(){let e=Kp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new ni(Zu(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=VP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Kp(this.remaining);i&&(r=i,this.capture(r))}e[Zu(n)]=Zu(r)}parseQueryParam(e){let n=UP(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=BP(this.remaining);o&&(r=o,this.capture(r))}let i=Cw(n),s=Cw(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Kp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=z);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[z]:new fe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}};function Ow(t){return t.segments.length>0?new fe([],{[z]:t}):t}function Fw(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=Fw(i);if(r===z&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new fe(t.segments,e);return $P(n)}function $P(t){if(t.numberOfChildren===1&&t.children[z]){let e=t.children[z];return new fe(t.segments.concat(e.segments),e.children)}return t}function Ts(t){return t instanceof vr}function HP(t,e,n=null,r=null){let i=Vw(t);return Lw(i,e,n,r)}function Vw(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new fe(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=Ow(r);return e??i}function Lw(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Qp(i,i,i,n,r);let s=qP(e);if(s.toRoot())return Qp(i,i,new fe([],{}),n,r);let o=GP(s,i,t),a=o.processChildren?ea(o.segmentGroup,o.index,s.commands):jw(o.segmentGroup,o.index,s.commands);return Qp(i,o.segmentGroup,a,n,r)}function Xu(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ra(t){return typeof t=="object"&&t!=null&&t.outlets}function Qp(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let o;t===e?o=n:o=Uw(t,e,n);let a=Ow(Fw(o));return new vr(a,s,i)}function Uw(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Uw(s,e,n)}),new fe(t.segments,r)}var el=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Xu(r[0]))throw new P(4003,!1);let i=r.find(ra);if(i&&i!==r.at(-1))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function qP(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new el(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new el(n,e,r)}var ws=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function GP(t,e,n){if(t.isAbsolute)return new ws(e,!0,0);if(!n)return new ws(e,!1,NaN);if(n.parent===null)return new ws(n,!0,0);let r=Xu(t.commands[0])?0:1,i=n.segments.length-1+r;return zP(n,i,t.numberOfDoubleDots)}function zP(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new ws(r,!1,i-s)}function WP(t){return ra(t[0])?t[0].outlets:{[z]:t}}function jw(t,e,n){if(t??=new fe([],{}),t.segments.length===0&&t.hasChildren())return ea(t,e,n);let r=KP(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new fe(t.segments.slice(0,r.pathIndex),{});return s.children[z]=new fe(t.segments.slice(r.pathIndex),t.children),ea(s,0,i)}else return r.match&&i.length===0?new fe(t.segments,{}):r.match&&!t.hasChildren()?nm(t,e,n):r.match?ea(t,0,i):nm(t,e,n)}function ea(t,e,n){if(n.length===0)return new fe(t.segments,{});{let r=WP(n),i={};if(Object.keys(r).some(s=>s!==z)&&t.children[z]&&t.numberOfChildren===1&&t.children[z].segments.length===0){let s=ea(t.children[z],e,n);return new fe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=jw(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new fe(t.segments,i)}}function KP(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(ra(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!bw(c,u,o))return s;r+=2}else{if(!bw(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function nm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(ra(s)){let c=QP(s.outlets);return new fe(r,c)}if(i===0&&Xu(n[0])){let c=t.segments[e];r.push(new ni(c.path,Tw(n[0]))),i++;continue}let o=ra(s)?s.outlets[z]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Xu(a)?(r.push(new ni(o,Tw(a))),i+=2):(r.push(new ni(o,{})),i++)}return new fe(r,{})}function QP(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=nm(new fe([],{}),0,r))}),e}function Tw(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function bw(t,e,n){return t==n.path&&wn(e,n.parameters)}var ta="imperative",Ye=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ye||{}),Wt=class{constructor(e,n){this.id=e,this.url=n}},ia=class extends Wt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ye.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Xn=class extends Wt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ye.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},zt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(zt||{}),rm=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(rm||{}),_r=class extends Wt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ye.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ii=class extends Wt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ye.NavigationSkipped}},sa=class extends Wt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ye.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},tl=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},im=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sm=class extends Wt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ye.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},om=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},am=class extends Wt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ye.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cm=class{constructor(e){this.route=e,this.type=Ye.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},um=class{constructor(e){this.route=e,this.type=Ye.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},lm=class{constructor(e){this.snapshot=e,this.type=Ye.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dm=class{constructor(e){this.snapshot=e,this.type=Ye.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hm=class{constructor(e){this.snapshot=e,this.type=Ye.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fm=class{constructor(e){this.snapshot=e,this.type=Ye.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var oa=class{},aa=class{constructor(e){this.url=e}};var pm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new cl,this.attachRef=null}},cl=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new pm,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=mm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=mm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=gm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return gm(e,this._root).map(n=>n.value)}};function mm(t,e){if(t===e.value)return e;for(let n of e.children){let r=mm(t,n);if(r)return r}return null}function gm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=gm(t,n);if(r.length)return r.unshift(e),r}return[]}var Ot=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Is(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var rl=class extends nl{constructor(e,n){super(e),this.snapshot=n,Sm(this,e)}toString(){return this.snapshot.toString()}};function Bw(t){let e=YP(t),n=new Ne([new ni("",{})]),r=new Ne({}),i=new Ne({}),s=new Ne({}),o=new Ne(""),a=new si(n,r,s,o,i,z,t,e.root);return a.snapshot=e.root,new rl(new Ot(a,[]),e)}function YP(t){let e={},n={},r={},i="",s=new ca([],e,r,i,n,z,t,null,{});return new il("",new Ot(s,[]))}var si=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(u=>u[da]))??B(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>Cs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>Cs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:S(S({},e.params),t.params),data:S(S({},e.data),t.data),resolve:S(S(S(S({},t.data),e.data),i?.data),t._resolvedData)}:r={params:S({},t.params),data:S({},t.data),resolve:S(S({},t.data),t._resolvedData??{})},i&&Hw(i)&&(r.resolve[da]=i.title),r}var ca=class{get title(){return this.data?.[da]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Cs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Cs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},il=class extends nl{constructor(e,n){super(n),this.url=e,Sm(this,n)}toString(){return $w(this._root)}};function Sm(t,e){e.value._routerState=t,e.children.forEach(n=>Sm(t,n))}function $w(t){let e=t.children.length>0?` { ${t.children.map($w).join(", ")} } `:"";return`${t.value}${e}`}function Yp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,wn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),wn(e.params,n.params)||t.paramsSubject.next(n.params),TP(e.url,n.url)||t.urlSubject.next(n.url),wn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ym(t,e){let n=wn(t.params,e.params)&&xP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ym(t.parent,e.parent))}function Hw(t){return typeof t.title=="string"||t.title===null}var Am=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=z,this.activateEvents=new je,this.deactivateEvents=new je,this.attachEvents=new je,this.detachEvents=new je,this.parentContexts=x(cl),this.location=x(Xr),this.changeDetector=x(ms),this.environmentInjector=x(Ht),this.inputBinder=x(xm,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new vm(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qn]});let t=e;return t})(),vm=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===si?this.route:e===cl?this.childContexts:this.parent.get(e,n)}},xm=new O("");function ZP(t,e,n){let r=ua(t,e._root,n?n._root:void 0);return new rl(r,e)}function ua(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=JP(t,e,n);return new Ot(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ua(t,a)),o}}let r=XP(e.value),i=e.children.map(s=>ua(t,s));return new Ot(r,i)}}function JP(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ua(t,r,i);return ua(t,r)})}function XP(t){return new si(new Ne(t.url),new Ne(t.params),new Ne(t.queryParams),new Ne(t.fragment),new Ne(t.data),t.outlet,t.component,t)}var qw="ngNavigationCancelingError";function Gw(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ts(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=zw(!1,zt.Redirect,e);return i.url=n,i.navigationBehaviorOptions=r,i}function zw(t,e,n){let r=new Error("NavigationCancelingError: "+(t||""));return r[qw]=!0,r.cancellationCode=e,n&&(r.url=n),r}function ek(t){return Ww(t)&&Ts(t.url)}function Ww(t){return t&&t[qw]}var tk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=rt({type:e,selectors:[["ng-component"]],standalone:!0,features:[ct],decls:1,vars:0,template:function(i,s){i&1&&L(0,"router-outlet")},dependencies:[Am],encapsulation:2});let t=e;return t})();function nk(t,e){return t.providers&&!t._injector&&(t._injector=Np(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Rm(t){let e=t.children&&t.children.map(Rm),n=e?ae(S({},t),{children:e}):S({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==z&&(n.component=tk),n}function Dn(t){return t.outlet||z}function rk(t,e){let n=t.filter(r=>Dn(r)===e);return n.push(...t.filter(r=>Dn(r)!==e)),n}function ha(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ik=(t,e,n,r)=>ee(i=>(new _m(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),_m=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Yp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Is(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Is(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Is(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Is(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new fm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new dm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Yp(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Yp(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=ha(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},sl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ds=class{constructor(e,n){this.component=e,this.route=n}};function sk(t,e,n){let r=t._root,i=e?e._root:null;return Jo(r,i,n,[r.value])}function ok(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ss(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!ZE(t)?t:e.get(t):r}function Jo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Is(e);return t.children.forEach(o=>{ak(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>na(a,n.getContext(o),i)),i}function ak(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=ck(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new sl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Jo(t,e,a?a.children:null,r,i):Jo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ds(a.outlet.component,o))}else o&&na(e,a,i),i.canActivateChecks.push(new sl(r)),s.component?Jo(t,null,a?a.children:null,r,i):Jo(t,null,n,r,i);return i}function ck(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ri(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ri(t.url,e.url)||!wn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ym(t,e)||!wn(t.queryParams,e.queryParams);case"paramsChange":default:return!ym(t,e)}}function na(t,e,n){let r=Is(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?na(o,e.children.getContext(s),n):na(o,null,n):na(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ds(e.outlet.component,i)):n.canDeactivateChecks.push(new Ds(null,i)):n.canDeactivateChecks.push(new Ds(null,i))}function fa(t){return typeof t=="function"}function uk(t){return typeof t=="boolean"}function lk(t){return t&&fa(t.canLoad)}function dk(t){return t&&fa(t.canActivate)}function hk(t){return t&&fa(t.canActivateChild)}function fk(t){return t&&fa(t.canDeactivate)}function pk(t){return t&&fa(t.canMatch)}function Kw(t){return t instanceof Bn||t?.name==="EmptyError"}var Ku=Symbol("INITIAL_VALUE");function bs(){return Xt(t=>qc(t.map(e=>e.pipe($n(1),Uh(Ku)))).pipe(ee(e=>{for(let n of e)if(n!==!0){if(n===Ku)return Ku;if(n===!1||n instanceof vr)return n}return!0}),Jt(e=>e!==Ku),$n(1)))}function mk(t,e){return Ue(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?B(ae(S({},n),{guardsResult:!0})):gk(o,r,i,t).pipe(Ue(a=>a&&uk(a)?yk(r,s,t,e):B(a)),ee(a=>ae(S({},n),{guardsResult:a})))})}function gk(t,e,n,r){return Se(t).pipe(Ue(i=>wk(i.component,i.route,n,e,r)),pn(i=>i!==!0,!0))}function yk(t,e,n,r){return Se(e).pipe(Ji(i=>Zi(_k(i.route.parent,r),vk(i.route,r),Ik(t,i.path,n),Ek(t,i.route,n))),pn(i=>i!==!0,!0))}function vk(t,e){return t!==null&&e&&e(new hm(t)),B(!0)}function _k(t,e){return t!==null&&e&&e(new lm(t)),B(!0)}function Ek(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return B(!0);let i=r.map(s=>Gc(()=>{let o=ha(e)??n,a=Ss(s,o),c=dk(a)?a.canActivate(e,t):Jr(o,()=>a(e,t));return Er(c).pipe(pn())}));return B(i).pipe(bs())}function Ik(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>ok(o)).filter(o=>o!==null).map(o=>Gc(()=>{let a=o.guards.map(c=>{let u=ha(o.node)??n,l=Ss(c,u),d=hk(l)?l.canActivateChild(r,t):Jr(u,()=>l(r,t));return Er(d).pipe(pn())});return B(a).pipe(bs())}));return B(s).pipe(bs())}function wk(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return B(!0);let o=s.map(a=>{let c=ha(e)??i,u=Ss(a,c),l=fk(u)?u.canDeactivate(t,e,n,r):Jr(c,()=>u(t,e,n,r));return Er(l).pipe(pn())});return B(o).pipe(bs())}function Dk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return B(!0);let s=i.map(o=>{let a=Ss(o,t),c=lk(a)?a.canLoad(e,n):Jr(t,()=>a(e,n));return Er(c)});return B(s).pipe(bs(),Qw(r))}function Qw(t){return bh(ke(e=>{if(Ts(e))throw Gw(t,e)}),ee(e=>e===!0))}function Ck(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return B(!0);let s=i.map(o=>{let a=Ss(o,t),c=pk(a)?a.canMatch(e,n):Jr(t,()=>a(e,n));return Er(c)});return B(s).pipe(bs(),Qw(r))}var la=class{constructor(e){this.segmentGroup=e||null}},ol=class extends Error{constructor(e){super(),this.urlTree=e}};function Es(t){return Qi(new la(t))}function Tk(t){return Qi(new P(4e3,!1))}function bk(t){return Qi(zw(!1,zt.GuardRejected))}var Em=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return B(r);if(i.numberOfChildren>1||!i.children[z])return Tk(e.redirectTo);i=i.children[z]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new ol(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new vr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new fe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Im={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Sk(t,e,n,r,i){let s=Mm(t,e,n);return s.matched?(r=nk(e,r),Ck(r,e,n,i).pipe(ee(o=>o===!0?s:S({},Im)))):B(s)}function Mm(t,e,n){if(e.path==="**")return Ak(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?S({},Im):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||CP)(n,t,e);if(!i)return S({},Im);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?S(S({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Ak(t){return{matched:!0,parameters:t.at(-1)?.parameters??{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Sw(t,e,n,r){return n.length>0&&Mk(t,n,r)?{segmentGroup:new fe(e,Rk(r,new fe(n,t.children))),slicedSegments:[]}:n.length===0&&Nk(t,n,r)?{segmentGroup:new fe(t.segments,xk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new fe(t.segments,t.children),slicedSegments:n}}function xk(t,e,n,r){let i={};for(let s of n)if(ul(t,e,s)&&!r[Dn(s)]){let o=new fe([],{});i[Dn(s)]=o}return S(S({},r),i)}function Rk(t,e){let n={};n[z]=e;for(let r of t)if(r.path===""&&Dn(r)!==z){let i=new fe([],{});n[Dn(r)]=i}return n}function Mk(t,e,n){return n.some(r=>ul(t,e,r)&&Dn(r)!==z)}function Nk(t,e,n){return n.some(r=>ul(t,e,r))}function ul(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Pk(t,e,n,r){return Dn(t)!==r&&(r===z||!ul(e,n,t))?!1:Mm(e,t,n).matched}function kk(t,e,n){return e.length===0&&!t.children[n]}var wm=class{};function Ok(t,e,n,r,i,s,o="emptyOnly"){return new Dm(t,e,n,r,i,o,s).recognize()}var Fk=31,Dm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Em(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new P(4002,`'${e.segmentGroup}'`)}recognize(){let e=Sw(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(n=>{let r=new ca([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,{},z,this.rootComponentType,null,{}),i=new Ot(r,n),s=new il("",i),o=HP(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,z).pipe(lr(r=>{if(r instanceof ol)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof la?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=bm(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(ee(s=>s instanceof Ot?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Se(i).pipe(Ji(s=>{let o=r.children[s],a=rk(n,s);return this.processSegmentGroup(e,a,o,s)}),Lh((s,o)=>(s.push(...o),s)),dr(null),Vh(),Ue(s=>{if(s===null)return Es(r);let o=Yw(s);return Vk(o),B(o)}))}processSegment(e,n,r,i,s,o){return Se(n).pipe(Ji(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(lr(c=>{if(c instanceof la)return B(null);throw c}))),pn(a=>!!a),lr(a=>{if(Kw(a))return kk(r,i,s)?B(new wm):Es(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return Pk(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Es(i):Es(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Mm(n,i,s);if(!a)return Es(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Fk&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ue(h=>this.processSegment(e,r,n,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=Sk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Xt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Xt(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:l,remainingSegments:d,parameters:h}=a,p=new ca(l,h,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Uk(r),Dn(r),r.component??r._loadedComponent??null,r,jk(r)),{segmentGroup:v,slicedSegments:D}=Sw(n,l,d,c);if(D.length===0&&v.hasChildren())return this.processChildren(u,c,v).pipe(ee(b=>b===null?null:new Ot(p,b)));if(c.length===0&&D.length===0)return B(new Ot(p,[]));let E=Dn(r)===s;return this.processSegment(u,c,v,D,E?z:s,!0).pipe(ee(b=>new Ot(p,b instanceof Ot?[b]:[])))}))):Es(n)))}getChildConfig(e,n,r){return n.children?B({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?B({routes:n._loadedRoutes,injector:n._loadedInjector}):Dk(e,n,r,this.urlSerializer).pipe(Ue(i=>i?this.configLoader.loadChildren(e,n).pipe(ke(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):bk(n))):B({routes:[],injector:e})}};function Vk(t){t.sort((e,n)=>e.value.outlet===z?-1:n.value.outlet===z?1:e.value.outlet.localeCompare(n.value.outlet))}function Lk(t){let e=t.value.routeConfig;return e&&e.path===""}function Yw(t){let e=[],n=new Set;for(let r of t){if(!Lk(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Yw(r.children);e.push(new Ot(r.value,i))}return e.filter(r=>!n.has(r))}function Uk(t){return t.data||{}}function jk(t){return t.resolve||{}}function Bk(t,e,n,r,i,s){return Ue(o=>Ok(t,e,n,r,o.extractedUrl,i,s).pipe(ee(({state:a,tree:c})=>ae(S({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function $k(t,e){return Ue(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return B(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of Zw(c))o.add(u);let a=0;return Se(o).pipe(Ji(c=>s.has(c)?Hk(c,r,t,e):(c.data=bm(c,c.parent,t).resolve,B(void 0))),ke(()=>a++),Xi(1),Ue(c=>a===o.size?B(n):jt))})}function Zw(t){let e=t.children.map(n=>Zw(n)).flat();return[t,...e]}function Hk(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Hw(i)&&(s[da]=i.title),qk(s,t,e,r).pipe(ee(o=>(t._resolvedData=o,t.data=bm(t,t.parent,n).resolve,null)))}function qk(t,e,n,r){let i=Xp(t);if(i.length===0)return B({});let s={};return Se(i).pipe(Ue(o=>Gk(t[o],e,n,r).pipe(pn(),ke(a=>{s[o]=a}))),Xi(1),Fh(s),lr(o=>Kw(o)?jt:Qi(o)))}function Gk(t,e,n,r){let i=ha(e)??r,s=Ss(t,i),o=s.resolve?s.resolve(e,n):Jr(i,()=>s(e,n));return Er(o)}function Zp(t){return Xt(e=>{let n=t(e);return n?Se(n).pipe(ee(()=>e)):B(e)})}var Jw=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===z);return i}getResolvedTitleForRoute(r){return r.data[da]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>x(zk),providedIn:"root"});let t=e;return t})(),zk=(()=>{let e=class e extends Jw{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(Q(Wp))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Nm=new O("",{providedIn:"root",factory:()=>({})}),Pm=new O("ROUTES"),Wk=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(Pp)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return B(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Er(r.loadComponent()).pipe(ee(Xw),ke(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Eo(()=>{this.componentLoaders.delete(r)})),s=new Gi(i,()=>new Tt).pipe(qi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return B({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Kk(i,this.compiler,r,this.onLoadEndListener).pipe(Eo(()=>{this.childrenLoaders.delete(i)})),a=new Gi(o,()=>new Tt).pipe(qi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Kk(t,e,n,r){return Er(t.loadChildren()).pipe(ee(Xw),Ue(i=>i instanceof Lo||Array.isArray(i)?B(i):Se(e.compileModuleAsync(i))),ee(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Pm,[],{optional:!0,self:!0}).flat()),{routes:o.map(Rm),injector:s}}))}function Qk(t){return t&&typeof t=="object"&&"default"in t}function Xw(t){return Qk(t)?t.default:t}var km=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>x(Yk),providedIn:"root"});let t=e;return t})(),Yk=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Zk=new O("");var Jk=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Tt,this.transitionAbortSubject=new Tt,this.configLoader=x(Wk),this.environmentInjector=x(Ht),this.urlSerializer=x(Tm),this.rootContexts=x(cl),this.location=x(Wo),this.inputBindingEnabled=x(xm,{optional:!0})!==null,this.titleStrategy=x(Jw),this.options=x(Nm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(km),this.createViewTransition=x(Zk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>B(void 0),this.rootComponentType=null;let r=s=>this.events.next(new cm(s)),i=s=>this.events.next(new um(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ae(S(S({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Ne({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ta,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Jt(o=>o.id!==0),ee(o=>ae(S({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Xt(o=>{this.currentTransition=o;let a=!1,c=!1;return B(o).pipe(ke(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ae(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Xt(u=>{let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&d!=="reload"){let h="";return this.events.next(new ii(u.id,this.urlSerializer.serialize(u.rawUrl),h,rm.IgnoredSameUrlNavigation)),u.resolve(null),jt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return B(u).pipe(Xt(h=>{let p=this.transitions?.getValue();return this.events.next(new ia(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),p!==this.transitions?.getValue()?jt:Promise.resolve(h)}),Bk(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ke(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ae(S({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let p=new tl(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:h,extractedUrl:p,source:v,restoredState:D,extras:E}=u,b=new ia(h,this.urlSerializer.serialize(p),v,D);this.events.next(b);let W=Bw(this.rootComponentType).snapshot;return this.currentTransition=o=ae(S({},u),{targetSnapshot:W,urlAfterRedirects:p,extras:ae(S({},E),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,B(o)}else{let h="";return this.events.next(new ii(u.id,this.urlSerializer.serialize(u.extractedUrl),h,rm.IgnoredByUrlHandlingStrategy)),u.resolve(null),jt}}),ke(u=>{let l=new im(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ee(u=>(this.currentTransition=o=ae(S({},u),{guards:sk(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),mk(this.environmentInjector,u=>this.events.next(u)),ke(u=>{if(o.guardsResult=u.guardsResult,Ts(u.guardsResult))throw Gw(this.urlSerializer,u.guardsResult);let l=new sm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Jt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",zt.GuardRejected),!1)),Zp(u=>{if(u.guards.canActivateChecks.length)return B(u).pipe(ke(l=>{let d=new om(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}),Xt(l=>{let d=!1;return B(l).pipe($k(this.paramsInheritanceStrategy,this.environmentInjector),ke({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(l,"",zt.NoDataFromResolver)}}))}),ke(l=>{let d=new am(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}))}),Zp(u=>{let l=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(ke(p=>{d.component=p}),ee(()=>{})));for(let p of d.children)h.push(...l(p));return h};return qc(l(u.targetSnapshot.root)).pipe(dr(null),$n(1))}),Zp(()=>this.afterPreactivation()),Xt(()=>{let{currentSnapshot:u,targetSnapshot:l}=o,d=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return d?Se(d).pipe(ee(()=>o)):B(o)}),ee(u=>{let l=ZP(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ae(S({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),ke(()=>{this.events.next(new oa)}),ik(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),$n(1),ke({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),jh(this.transitionAbortSubject.pipe(ke(u=>{throw u}))),Eo(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",zt.SupersededByNewNavigation),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),lr(u=>{if(c=!0,Ww(u))this.events.next(new _r(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),ek(u)?this.events.next(new aa(u.url)):o.resolve(!1);else{this.events.next(new sa(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return jt}))}))}cancelNavigationTransition(r,i,s){let o=new _r(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Xk(t){return t!==ta}var eO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>x(tO),providedIn:"root"});let t=e;return t})(),Cm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},tO=(()=>{let e=class e extends Cm{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Yn(e)))(s||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:()=>x(nO),providedIn:"root"});let t=e;return t})(),nO=(()=>{let e=class e extends eD{constructor(){super(...arguments),this.location=x(Wo),this.urlSerializer=x(Tm),this.options=x(Nm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(km),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new vr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Bw(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ia)this.stateMemento=this.createStateMemento();else if(r instanceof ii)this.rawUrlTree=i.initialUrl;else if(r instanceof tl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof oa?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof _r&&(r.code===zt.GuardRejected||r.code===zt.NoDataFromResolver)?this.restoreHistory(i):r instanceof sa?this.restoreHistory(i,!0):r instanceof Xn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=S(S({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=S(S({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Yn(e)))(s||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Xo||{});function rO(t,e){t.events.pipe(Jt(n=>n instanceof Xn||n instanceof _r||n instanceof sa||n instanceof ii),ee(n=>n instanceof Xn||n instanceof ii?Xo.COMPLETE:(n instanceof _r?n.code===zt.Redirect||n.code===zt.SupersededByNewNavigation:!1)?Xo.REDIRECTING:Xo.FAILED),Jt(n=>n!==Xo.REDIRECTING),$n(1)).subscribe(()=>{e()})}function iO(t){throw t}var sO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ll=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=x(Uu),this.stateManager=x(eD),this.options=x(Nm,{optional:!0})||{},this.pendingTasks=x(ju),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(Jk),this.urlSerializer=x(Tm),this.location=x(Wo),this.urlHandlingStrategy=x(km),this._events=new Tt,this.errorHandler=this.options.errorHandler||iO,this.navigated=!1,this.routeReuseStrategy=x(eO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(Pm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(xm,{optional:!0}),this.eventsSubscription=new Me,this.isNgZoneEnabled=x(ye)instanceof ye&&ye.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof _r&&i.code!==zt.Redirect&&i.code!==zt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Xn)this.navigated=!0;else if(i instanceof aa){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||Xk(s.source)};this.scheduleNavigation(a,ta,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}cO(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ta,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=S({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Rm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let p=s?s.snapshot:this.routerState.snapshot.root;h=Vw(p)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return Lw(h,r,d,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Ts(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ta,null,i)}navigate(r,i={skipLocationChange:!1}){return aO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=S({},sO):i===!1?s=S({},oO):s=i,Ts(r))return Dw(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Dw(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,l;a?(c=a.resolve,u=a.reject,l=a.promise):l=new Promise((h,p)=>{c=h,u=p});let d=this.pendingTasks.add();return rO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new P(4008,!1)}function cO(t){return!(t instanceof oa)&&!(t instanceof aa)}var al=(()=>{let e=class e{constructor(r,i,s,o,a,c){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new Tt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=r.events.subscribe(l=>{l instanceof Xn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){if(this.urlTree===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(this.urlTree,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=this.urlTree!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;let r=this.href===null?null:u0(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(R(ll),R(si),dp("tabindex"),R(Gt),R(it),R(_s))},e.\u0275dir=Ce({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&k("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Vu("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[We.HasDecoratorInputTransform,"preserveFragment","preserveFragment",vs],skipLocationChange:[We.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",vs],replaceUrl:[We.HasDecoratorInputTransform,"replaceUrl","replaceUrl",vs],routerLink:"routerLink"},standalone:!0,features:[Rp,Qn]});let t=e;return t})(),tD=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new je,this.routerEventsSubscription=r.events.subscribe(c=>{c instanceof Xn&&this.update()})}ngAfterContentInit(){B(this.links.changes,B(null)).pipe(Yi()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Se(r).pipe(Yi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=uO(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>s.urlTree?r.isActive(s.urlTree,i):!1}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)(R(ll),R(it),R(Gt),R(ms),R(al,8))},e.\u0275dir=Ce({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&K0(o,al,5),i&2){let a;Q0(a=Y0())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Qn]});let t=e;return t})();function uO(t){return!!t.paths}var lO=new O("");function nD(t,...e){return Tu([{provide:Pm,multi:!0,useValue:t},[],{provide:si,useFactory:dO,deps:[ll]},{provide:kp,multi:!0,useFactory:hO},e.map(n=>n.\u0275providers)])}function dO(t){return t.routerState.root}function hO(){let t=x(xt);return e=>{let n=t.get(zo);if(e!==n.components[0])return;let r=t.get(ll),i=t.get(fO);t.get(pO)===1&&r.initialNavigation(),t.get(mO,null,J.Optional)?.setUpPreloading(),t.get(lO,null,J.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fO=new O("",{factory:()=>new Tt}),pO=new O("",{providedIn:"root",factory:()=>1});var mO=new O("");var iD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},gO=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},sD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(h=64)),r.push(n[l],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Fm;let h=s<<2|a>>4;if(r.push(h),u!==64){let p=a<<4&240|u>>2;if(r.push(p),d!==64){let v=u<<6&192|d;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Fm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},yO=function(t){let e=iD(t);return sD.encodeByteArray(e,!0)},pa=function(t){return yO(t).replace(/\./g,"")},Lm=function(t){try{return sD.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var _O=()=>vO().__FIREBASE_DEFAULTS__,EO=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Lm(t[1]);return e&&JSON.parse(e)},hl=()=>{try{return _O()||EO()||IO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oD=t=>{var e,n;return(n=(e=hl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fl=t=>{let e=oD(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Um=()=>{var t;return(t=hl())===null||t===void 0?void 0:t.config},aD=t=>{var e;return(e=hl())===null||e===void 0?void 0:e[`_${t}`]};var dl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function pl(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[pa(JSON.stringify(n)),pa(JSON.stringify(o)),""].join(".")}function ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function wO(){var t;let e=(t=hl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function lD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dD(){return!wO()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ml(){try{return typeof indexedDB=="object"}catch{return!1}}function hD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var DO="FirebaseError",Rt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DO,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,er.prototype.create)}},er=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?CO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Rt(i,a,r)}};function CO(t,e){return t.replace(TO,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var TO=/\{\$([^}]+)}/g;function As(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(rD(s)&&rD(o)){if(!As(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function rD(t){return t!==null&&typeof t=="object"}function jm(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fD(t,e){let n=new Vm(t,e);return n.subscribe.bind(n)}var Vm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Om),i.error===void 0&&(i.error=Om),i.complete===void 0&&(i.complete=Om);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function bO(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Om(){}var Z6=4*60*60*1e3;function $e(t){return t&&t._delegate?t._delegate:t}var Mt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var oi="[DEFAULT]";var Bm=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new dl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AO(e))try{this.getOrInitializeService({instanceIdentifier:oi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return y(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=oi){return this.instances.has(e)}getOptions(e=oi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=oi){return this.component?this.component.multipleInstances?e:oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function SO(t){return t===oi?void 0:t}function AO(t){return t.instantiationMode==="EAGER"}var gl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Bm(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var xO=[],te=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(te||{}),RO={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},MO=te.INFO,NO={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},PO=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=NO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ir=class{constructor(e){this.name=e,this._logLevel=MO,this._logHandler=PO,this._userLogHandler=null,xO.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}};var kO=(t,e)=>e.some(n=>t instanceof n),pD,mD;function OO(){return pD||(pD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FO(){return mD||(mD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var gD=new WeakMap,Hm=new WeakMap,yD=new WeakMap,$m=new WeakMap,Gm=new WeakMap;function VO(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Cn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&gD.set(n,t)}).catch(()=>{}),Gm.set(e,t),e}function LO(t){if(Hm.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Hm.set(t,e)}var qm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vD(t){qm=t(qm)}function UO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(yl(this),e,...n);return yD.set(r,e.sort?e.sort():[e]),Cn(r)}:FO().includes(t)?function(...e){return t.apply(yl(this),e),Cn(gD.get(this))}:function(...e){return Cn(t.apply(yl(this),e))}}function jO(t){return typeof t=="function"?UO(t):(t instanceof IDBTransaction&&LO(t),kO(t,OO())?new Proxy(t,qm):t)}function Cn(t){if(t instanceof IDBRequest)return VO(t);if($m.has(t))return $m.get(t);let e=jO(t);return e!==t&&($m.set(t,e),Gm.set(e,t)),e}var yl=t=>Gm.get(t);function ED(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Cn(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Cn(o.result),c.oldVersion,c.newVersion,Cn(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var BO=["get","getKey","getAll","getAllKeys","count"],$O=["put","add","delete","clear"],zm=new Map;function _D(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zm.get(e))return zm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=$O.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BO.includes(n)))return;let s=function(o,...a){return y(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return zm.set(e,s),s}vD(t=>ae(S({},t),{get:(e,n,r)=>_D(e,n)||t.get(e,n,r),has:(e,n)=>!!_D(e,n)||t.has(e,n)}));var Km=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HO(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function HO(t){let e=t.getComponent();return e?.type==="VERSION"}var Qm="@firebase/app",ID="0.9.26";var ai=new Ir("@firebase/app"),qO="@firebase/app-compat",GO="@firebase/analytics-compat",zO="@firebase/analytics",WO="@firebase/app-check-compat",KO="@firebase/app-check",QO="@firebase/auth",YO="@firebase/auth-compat",ZO="@firebase/database",JO="@firebase/database-compat",XO="@firebase/functions",eF="@firebase/functions-compat",tF="@firebase/installations",nF="@firebase/installations-compat",rF="@firebase/messaging",iF="@firebase/messaging-compat",sF="@firebase/performance",oF="@firebase/performance-compat",aF="@firebase/remote-config",cF="@firebase/remote-config-compat",uF="@firebase/storage",lF="@firebase/storage-compat",dF="@firebase/firestore",hF="@firebase/firestore-compat",fF="firebase",pF="10.7.2";var Ym="[DEFAULT]",mF={[Qm]:"fire-core",[qO]:"fire-core-compat",[zO]:"fire-analytics",[GO]:"fire-analytics-compat",[KO]:"fire-app-check",[WO]:"fire-app-check-compat",[QO]:"fire-auth",[YO]:"fire-auth-compat",[ZO]:"fire-rtdb",[JO]:"fire-rtdb-compat",[XO]:"fire-fn",[eF]:"fire-fn-compat",[tF]:"fire-iid",[nF]:"fire-iid-compat",[rF]:"fire-fcm",[iF]:"fire-fcm-compat",[sF]:"fire-perf",[oF]:"fire-perf-compat",[aF]:"fire-rc",[cF]:"fire-rc-compat",[uF]:"fire-gcs",[lF]:"fire-gcs-compat",[dF]:"fire-fst",[hF]:"fire-fst-compat","fire-js":"fire-js",[fF]:"fire-js-all"};var ma=new Map,Zm=new Map;function gF(t,e){try{t.container.addComponent(e)}catch(n){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tn(t){let e=t.name;if(Zm.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,t);for(let n of ma.values())gF(n,t);return!0}function ya(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var yF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},wr=new er("app","Firebase",yF);var Jm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}};var Dr=pF;function vl(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ym,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wr.create("bad-app-name",{appName:String(i)});if(n||(n=Um()),!n)throw wr.create("no-options");let s=ma.get(i);if(s){if(As(n,s.options)&&As(r,s.config))return s;throw wr.create("duplicate-app",{appName:i})}let o=new gl(i);for(let c of Zm.values())o.addComponent(c);let a=new Jm(n,r,o);return ma.set(i,a),a}function ci(t=Ym){let e=ma.get(t);if(!e&&t===Ym&&Um())return vl();if(!e)throw wr.create("no-app",{appName:t});return e}function _l(){return Array.from(ma.values())}function Te(t,e,n){var r;let i=(r=mF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(a.join(" "));return}Tn(new Mt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var vF="firebase-heartbeat-database",_F=1,ga="firebase-heartbeat-store",Wm=null;function TD(){return Wm||(Wm=ED(vF,_F,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ga)}catch(n){console.warn(n)}}}}).catch(t=>{throw wr.create("idb-open",{originalErrorMessage:t.message})})),Wm}function EF(t){return y(this,null,function*(){try{return yield(yield TD()).transaction(ga).objectStore(ga).get(bD(t))}catch(e){if(e instanceof Rt)ai.warn(e.message);else{let n=wr.create("idb-get",{originalErrorMessage:e?.message});ai.warn(n.message)}}})}function wD(t,e){return y(this,null,function*(){try{let r=(yield TD()).transaction(ga,"readwrite");yield r.objectStore(ga).put(e,bD(t)),yield r.done}catch(n){if(n instanceof Rt)ai.warn(n.message);else{let r=wr.create("idb-set",{originalErrorMessage:n?.message});ai.warn(r.message)}}})}function bD(t){return`${t.name}!${t.options.appId}`}var IF=1024,wF=30*24*60*60*1e3,Xm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new eg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return y(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=DD();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=wF}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return y(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=DD(),{heartbeatsToSend:r,unsentEntries:i}=DF(this._heartbeatsCache.heartbeats),s=pa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function DD(){return new Date().toISOString().substring(0,10)}function DF(t,e=IF){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),CD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),CD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var eg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(this,null,function*(){return ml()?hD().then(()=>!0).catch(()=>!1):!1})}read(){return y(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield EF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return y(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return y(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return wD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function CD(t){return pa(JSON.stringify({version:2,heartbeats:t})).length}function CF(t){Tn(new Mt("platform-logger",e=>new Km(e),"PRIVATE")),Tn(new Mt("heartbeat",e=>new Xm(e),"PRIVATE")),Te(Qm,ID,t),Te(Qm,ID,"esm2017"),Te("fire-js","")}CF("");var TF="firebase",bF="10.7.2";Te(TF,bF,"app");var Cr=new zn("ANGULARFIRE2_VERSION");function va(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var di=(t,e)=>{let n=e?[e]:_l(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},li=class{constructor(){return di(SF)}},SF="app-check";function xs(){}var El=class{zone;delegate;constructor(e,n=Nh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},tg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xs,{},xs,xs)),n.pipe(ke({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},hi=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new El(Zone.current)),this.insideAngular=n.run(()=>new El(Zone.current,Mh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(Q(ye))};static \u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Il(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function AF(t){return Il().ngZone.runOutsideAngular(()=>t())}function ui(t){return Il().ngZone.run(()=>t())}function xF(t){return RF(Il())(t)}function RF(t){return function(n){return n=n.lift(new tg(t.ngZone)),n.pipe(ur(t.outsideAngular),cr(t.insideAngular))}}var MF=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ui(()=>t.apply(void 0,r))},lt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=ui(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xs,{},xs,xs))),r[s]=MF(r[s],n));let i=AF(()=>t.apply(this,r));if(!e)if(i instanceof re){let s=Il();return i.pipe(ur(s.outsideAngular),cr(s.insideAngular))}else return ui(()=>i);return i instanceof re?i.pipe(xF):i instanceof Promise?ui(()=>new Promise((s,o)=>i.then(a=>ui(()=>s(a)),a=>ui(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ui(()=>i)};var tr=class{constructor(e){return e}},fi=class{constructor(){return _l()}};function NF(t){return t&&t.length===1?t[0]:new tr(ci())}var ng=new O("angularfire2._apps"),PF={provide:tr,useFactory:NF,deps:[[new Et,ng]]},kF={provide:fi,deps:[[new Et,ng]]};function OF(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new tr(r)}}var FF=(()=>{class t{constructor(n){Te("angularfire",Cr.full,"core"),Te("angularfire",Cr.full,"app"),Te("angular",J0.full,n.toString())}static \u0275fac=function(r){return new(r||t)(Q(yr))};static \u0275mod=_t({type:t});static \u0275inj=vt({providers:[PF,kF]})}return t})();function SD(t,...e){return{ngModule:FF,providers:[{provide:ng,useFactory:OF(t),multi:!0,deps:[ye,xt,hi,...e]}]}}function kD(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var OD=kD,FD=new er("auth","Firebase",kD());var Cl=new Ir("@firebase/auth");function LF(t,...e){Cl.logLevel<=te.WARN&&Cl.warn(`Auth (${Dr}): ${t}`,...e)}function Dl(t,...e){Cl.logLevel<=te.ERROR&&Cl.error(`Auth (${Dr}): ${t}`,...e)}function AD(t,...e){throw fg(t,...e)}function VD(t,...e){return fg(t,...e)}function UF(t,e,n){let r=Object.assign(Object.assign({},OD()),{[e]:n});return new er("auth","Firebase",r).create(e,{appName:t.name})}function fg(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return FD.create(t,...e)}function me(t,e,...n){if(!t)throw fg(e,...n)}function _a(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Dl(e),new Error(e)}function Tl(t,e){t||_a(e)}function jF(){return xD()==="http:"||xD()==="https:"}function xD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function BF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jF()||uD()||"connection"in navigator)?navigator.onLine:!0}function $F(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var mi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tl(n>e,"Short delay should be less than long delay!"),this.isMobile=cD()||lD()}get(){return BF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function HF(t,e){Tl(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var bl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_a("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_a("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_a("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var qF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var GF=new mi(3e4,6e4);function LD(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Pl(s,o,a,c){return y(this,arguments,function*(t,e,n,r,i={}){return UD(t,i,()=>y(this,null,function*(){let u={},l={};r&&(e==="GET"?l=r:u={body:JSON.stringify(r)});let d=jm(Object.assign({key:t.config.apiKey},l)).slice(1),h=yield t._getAdditionalHeaders();return h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode),bl.fetch()(jD(t,t.config.apiHost,n,d),Object.assign({method:e,headers:h,referrerPolicy:"no-referrer"},u))}))})}function UD(t,e,n){return y(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},qF),e);try{let i=new sg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw wl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw wl(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw wl(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw wl(t,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw UF(t,l,u);AD(t,l)}}catch(i){if(i instanceof Rt)throw i;AD(t,"network-request-failed",{message:String(i)})}})}function jD(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?HF(t.config,i):`${t.config.apiScheme}://${i}`}var sg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(VD(this.auth,"network-request-failed")),GF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function wl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=VD(t,e,r);return i.customData._tokenResponse=n,i}function zF(t,e){return y(this,null,function*(){return Pl(t,"POST","/v1/accounts:delete",e)})}function WF(t,e){return y(this,null,function*(){return Pl(t,"POST","/v1/accounts:lookup",e)})}function Ea(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function pg(t,e=!1){return y(this,null,function*(){let n=$e(t),r=yield n.getIdToken(e),i=BD(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Ea(rg(i.auth_time)),issuedAtTime:Ea(rg(i.iat)),expirationTime:Ea(rg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function rg(t){return Number(t)*1e3}function BD(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Dl("JWT malformed, contained fewer than 3 sections"),null;try{let i=Lm(n);return i?JSON.parse(i):(Dl("Failed to decode base64 JWT payload"),null)}catch(i){return Dl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function KF(t){let e=BD(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function og(t,e,n=!1){return y(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Rt&&QF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function QF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ag=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>y(this,null,function*(){yield this.iteration()}),n)}iteration(){return y(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Sl=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ea(this.lastLoginAt),this.creationTime=Ea(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Al(t){return y(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield og(t,WF(n,{idToken:r}));me(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ZF(s.providerUserInfo):[],a=YF(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Sl(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})}function mg(t){return y(this,null,function*(){let e=$e(t);yield Al(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function YF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ZF(t){return t.map(e=>{var{providerId:n}=e,r=Ph(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function JF(t,e){return y(this,null,function*(){let n=yield UD(t,{},()=>y(this,null,function*(){let r=jm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=jD(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bl.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function XF(t,e){return y(this,null,function*(){return Pl(t,"POST","/v2/accounts:revokeToken",LD(t,e))})}var xl=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){return y(this,null,function*(){return me(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return y(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield JF(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return _a("not implemented")}};function Tr(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Rl=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ph(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ag(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Sl(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return y(this,null,function*(){let n=yield og(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return pg(this,e)}reload(){return mg(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return y(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Al(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return y(this,null,function*(){let e=yield this.getIdToken();return yield og(this,zF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,l;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=n.photoURL)!==null&&o!==void 0?o:void 0,D=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,W=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:Z,emailVerified:K,isAnonymous:Ee,providerData:oe,stsTokenManager:mt}=n;me(Z&&mt,e,"internal-error");let Ut=xl.fromJSON(this.name,mt);me(typeof Z=="string",e,"internal-error"),Tr(d,e.name),Tr(h,e.name),me(typeof K=="boolean",e,"internal-error"),me(typeof Ee=="boolean",e,"internal-error"),Tr(p,e.name),Tr(v,e.name),Tr(D,e.name),Tr(E,e.name),Tr(b,e.name),Tr(W,e.name);let Or=new t({uid:Z,auth:e,email:h,emailVerified:K,displayName:d,isAnonymous:Ee,photoURL:v,phoneNumber:p,tenantId:D,stsTokenManager:Ut,createdAt:b,lastLoginAt:W});return oe&&Array.isArray(oe)&&(Or.providerData=oe.map(Ec=>Object.assign({},Ec))),E&&(Or._redirectEventId=E),Or}static _fromIdTokenResponse(e,n,r=!1){return y(this,null,function*(){let i=new xl;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Al(s),s})}};var RD=new Map;function pi(t){Tl(t instanceof Function,"Expected a class definition");let e=RD.get(t);return e?(Tl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,RD.set(t,e),e)}var eV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(this,null,function*(){return!0})}_set(n,r){return y(this,null,function*(){this.storage[n]=r})}_get(n){return y(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return y(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),cg=eV;function ig(t,e,n){return`firebase:${t}:${e}:${n}`}var Ml=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=ig(this.userKey,i.apiKey,s),this.fullPersistenceKey=ig("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return y(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Rl._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return y(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return y(this,null,function*(){if(!n.length)return new t(pi(cg),e,r);let i=(yield Promise.all(n.map(u=>y(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||pi(cg),o=ig(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let l=yield u._get(o);if(l){let d=Rl._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>y(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function MD(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oV(e))return"Blackberry";if(aV(e))return"Webos";if(nV(e))return"Safari";if((e.includes("chrome/")||rV(e))&&!e.includes("edge/"))return"Chrome";if(sV(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function tV(t=ut()){return/firefox\//i.test(t)}function nV(t=ut()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rV(t=ut()){return/crios\//i.test(t)}function iV(t=ut()){return/iemobile/i.test(t)}function sV(t=ut()){return/android/i.test(t)}function oV(t=ut()){return/blackberry/i.test(t)}function aV(t=ut()){return/webos/i.test(t)}function $D(t,e=[]){let n;switch(t){case"Browser":n=MD(ut());break;case"Worker":n=`${MD(ut())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Dr}/${r}`}var ug=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return y(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function cV(n){return y(this,arguments,function*(t,e={}){return Pl(t,"GET","/v2/passwordPolicy",LD(t,e))})}var uV=6,lg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:uV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var dg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nl(this),this.idTokenSubscription=new Nl(this),this.beforeStateQueue=new ug(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FD,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=pi(n)),this._initializationPromise=this.queue(()=>y(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ml.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return y(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUser(e){return y(this,null,function*(){var n;let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return y(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return y(this,null,function*(){try{yield Al(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=$F()}_delete(){return y(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return y(this,null,function*(){let n=e?$e(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return y(this,null,function*(){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>y(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return y(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(e){return this.queue(()=>y(this,null,function*(){yield this.assertedPersistence.setPersistence(pi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return y(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return y(this,null,function*(){let e=yield cV(this),n=new lg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new er("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return y(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield XF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return y(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return y(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&pi(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=yield Ml.create(this,[pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return y(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>y(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return y(this,null,function*(){if(e===this.currentUser)return this.queue(()=>y(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return y(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$D(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return y(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return y(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&LF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function lV(t){return $e(t)}var Nl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=fD(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function dV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function hV(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(pi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var G9=dV("rcb"),z9=new mi(3e4,6e4);var W9=new mi(2e3,1e4);var K9=10*60*1e3;var Q9=new mi(3e4,6e4);var Y9=new mi(5e3,15e3);var Z9=encodeURIComponent("fac");var ND="@firebase/auth",PD="1.5.1";var hg=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return y(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function fV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function pV(t){Tn(new Mt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$D(t)},u=new dg(r,i,s,c);return hV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tn(new Mt("auth-internal",e=>{let n=lV(e.getProvider("auth").getImmediate());return(r=>new hg(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Te(ND,PD,fV(t)),Te(ND,PD,"esm2017")}var mV=5*60,J9=aD("authIdTokenMaxAge")||mV;pV("Browser");var pL="auth";var Rs=class{constructor(){return di(pL)}};var mL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},un={},C,Vg=Vg||{},j=mL||self;function Wl(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ka(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function gL(t){return Object.prototype.hasOwnProperty.call(t,gg)&&t[gg]||(t[gg]=++yL)}var gg="closure_uid_"+(1e9*Math.random()>>>0),yL=0;function vL(t,e,n){return t.call.apply(t.bind,arguments)}function _L(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?dt=vL:dt=_L,dt.apply(null,arguments)}function kl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function qe(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function br(){this.s=this.s,this.o=this.o}var EL=0;br.prototype.s=!1;br.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),EL!=0)&&gL(this)};br.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var tC=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Lg(t){let e=t.length;if(0<e){let n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function HD(t,e){for(let n=1;n<arguments.length;n++){let r=arguments[n];if(Wl(r)){let i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function ht(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var IL=function(){if(!j.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let n=()=>{};j.addEventListener("test",n,e),j.removeEventListener("test",n,e)}catch{}return t}();function ba(t){return/^[\s\xa0]*$/.test(t)}function Kl(){var t=j.navigator;return t&&(t=t.userAgent)?t:""}function bn(t){return Kl().indexOf(t)!=-1}function Ug(t){return Ug[" "](t),t}Ug[" "]=function(){};function wL(t,e){var n=l2;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var DL=bn("Opera"),ks=bn("Trident")||bn("MSIE"),nC=bn("Edge"),Ig=nC||ks,rC=bn("Gecko")&&!(Kl().toLowerCase().indexOf("webkit")!=-1&&!bn("Edge"))&&!(bn("Trident")||bn("MSIE"))&&!bn("Edge"),CL=Kl().toLowerCase().indexOf("webkit")!=-1&&!bn("Edge");function iC(){var t=j.document;return t?t.documentMode:void 0}var wg;e:{if(Ol="",Fl=function(){var t=Kl();if(rC)return/rv:([^\);]+)(\)|;)/.exec(t);if(nC)return/Edge\/([\d\.]+)/.exec(t);if(ks)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(CL)return/WebKit\/(\S+)/.exec(t);if(DL)return/(?:Version)[ \/]?(\S+)/.exec(t)}(),Fl&&(Ol=Fl?Fl[1]:""),ks&&(Vl=iC(),Vl!=null&&Vl>parseFloat(Ol))){wg=String(Vl);break e}wg=Ol}var Ol,Fl,Vl,Dg;j.document&&ks?(yg=iC(),Dg=yg||parseInt(wg,10)||void 0):Dg=void 0;var yg,TL=Dg;function Sa(t,e){if(ht.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(rC){e:{try{Ug(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:bL[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Sa.$.h.call(this)}}qe(Sa,ht);var bL={2:"touch",3:"pen",4:"mouse"};Sa.prototype.h=function(){Sa.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Oa="closure_listenable_"+(1e6*Math.random()|0),SL=0;function AL(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++SL,this.fa=this.ia=!1}function Ql(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function jg(t,e,n){for(let r in t)e.call(n,t[r],r,t)}function xL(t,e){for(let n in t)e.call(void 0,t[n],n,t)}function sC(t){let e={};for(let n in t)e[n]=t[n];return e}var qD="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oC(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<qD.length;s++)n=qD[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Yl(t){this.src=t,this.g={},this.h=0}Yl.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Tg(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new AL(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Cg(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=tC(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ql(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Tg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Bg="closure_lm_"+(1e6*Math.random()|0),vg={};function aC(t,e,n,r,i){if(r&&r.once)return uC(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)aC(t,e[s],n,r,i);return null}return n=qg(n),t&&t[Oa]?t.O(e,n,ka(r)?!!r.capture:!!r,i):cC(t,e,n,!1,r,i)}function cC(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ka(i)?!!i.capture:!!i,a=Hg(t);if(a||(t[Bg]=a=new Yl(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=RL(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)IL||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(dC(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function RL(){function t(n){return e.call(t.src,t.listener,n)}let e=ML;return t}function uC(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)uC(t,e[s],n,r,i);return null}return n=qg(n),t&&t[Oa]?t.P(e,n,ka(r)?!!r.capture:!!r,i):cC(t,e,n,!0,r,i)}function lC(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)lC(t,e[s],n,r,i);else r=ka(r)?!!r.capture:!!r,n=qg(n),t&&t[Oa]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Tg(s,n,r,i),-1<n&&(Ql(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Hg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Tg(e,n,r,i)),(n=-1<t?e[t]:null)&&$g(n))}function $g(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Oa])Cg(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(dC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Hg(e))?(Cg(n,t),n.h==0&&(n.src=null,e[Bg]=null)):Ql(t)}}}function dC(t){return t in vg?vg[t]:vg[t]="on"+t}function ML(t,e){if(t.fa)t=!0;else{e=new Sa(e,this);var n=t.listener,r=t.la||t.src;t.ia&&$g(t),t=n.call(r,e)}return t}function Hg(t){return t=t[Bg],t instanceof Yl?t:null}var _g="__closure_events_fn_"+(1e9*Math.random()>>>0);function qg(t){return typeof t=="function"?t:(t[_g]||(t[_g]=function(e){return t.handleEvent(e)}),t[_g])}function He(){br.call(this),this.i=new Yl(this),this.S=this,this.J=null}qe(He,br);He.prototype[Oa]=!0;He.prototype.removeEventListener=function(t,e,n,r){lC(this,t,e,n,r)};function Je(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new ht(e,t);else if(e instanceof ht)e.target=e.target||t;else{var i=e;e=new ht(r,t),oC(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Ll(o,r,!0,e)&&i}if(o=e.g=t,i=Ll(o,r,!0,e)&&i,i=Ll(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=Ll(o,r,!1,e)&&i}He.prototype.N=function(){if(He.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ql(n[r]);delete t.g[e],t.h--}}this.J=null};He.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};He.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Ll(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&Cg(t.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var Gg=j.JSON.stringify,bg=class{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}};function NL(){var t=zg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Sg=class{constructor(){this.h=this.g=null}add(e,n){let r=hC.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},hC=new bg(()=>new Ag,t=>t.reset()),Ag=class{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}};function PL(t){var e=1;t=t.split(":");let n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function kL(t){j.setTimeout(()=>{throw t},0)}var Aa,xa=!1,zg=new Sg,fC=()=>{let t=j.Promise.resolve(void 0);Aa=()=>{t.then(OL)}},OL=()=>{for(var t;t=NL();){try{t.h.call(t.g)}catch(n){kL(n)}var e=hC;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}xa=!1};function Zl(t,e){He.call(this),this.h=t||1,this.g=e||j,this.j=dt(this.qb,this),this.l=Date.now()}qe(Zl,He);C=Zl.prototype;C.ga=!1;C.T=null;C.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Je(this,"tick"),this.ga&&(Wg(this),this.start()))}};C.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Wg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}C.N=function(){Zl.$.N.call(this),Wg(this),delete this.g};function Kg(t,e,n){if(typeof t=="function")n&&(t=dt(t,n));else if(t&&typeof t.handleEvent=="function")t=dt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:j.setTimeout(t,e||0)}function pC(t){t.g=Kg(()=>{t.g=null,t.i&&(t.i=!1,pC(t))},t.j);let e=t.h;t.h=null,t.m.apply(null,e)}var xg=class extends br{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pC(this)}N(){super.N(),this.g&&(j.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Ra(t){br.call(this),this.h=t,this.g={}}qe(Ra,br);var GD=[];function mC(t,e,n,r){Array.isArray(n)||(n&&(GD[0]=n.toString()),n=GD);for(var i=0;i<n.length;i++){var s=aC(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function gC(t){jg(t.g,function(e,n){this.g.hasOwnProperty(n)&&$g(e)},t),t.g={}}Ra.prototype.N=function(){Ra.$.N.call(this),gC(this)};Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Jl(){this.g=!0}Jl.prototype.Ea=function(){this.g=!1};function FL(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var d=l.split("_");o=2<=d.length&&d[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function VL(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Ns(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+UL(t,n)+(r?" "+r:"")})}function LL(t,e){t.info(function(){return"TIMEOUT: "+e})}Jl.prototype.info=function(){};function UL(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Gg(n)}catch{return e}}var _i={},zD=null;function Xl(){return zD=zD||new He}_i.Ta="serverreachability";function yC(t){ht.call(this,_i.Ta,t)}qe(yC,ht);function Ma(t){let e=Xl();Je(e,new yC(e))}_i.STAT_EVENT="statevent";function vC(t,e){ht.call(this,_i.STAT_EVENT,t),this.stat=e}qe(vC,ht);function wt(t){let e=Xl();Je(e,new vC(e,t))}_i.Ua="timingevent";function _C(t,e){ht.call(this,_i.Ua,t),this.size=e}qe(_C,ht);function Fa(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return j.setTimeout(function(){t()},e)}var ed={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},EC={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Qg(){}Qg.prototype.h=null;function WD(t){return t.h||(t.h=t.i())}function IC(){}var Va={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yg(){ht.call(this,"d")}qe(Yg,ht);function Zg(){ht.call(this,"c")}qe(Zg,ht);var Rg;function td(){}qe(td,Qg);td.prototype.g=function(){return new XMLHttpRequest};td.prototype.i=function(){return{}};Rg=new td;function La(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ra(this),this.P=jL,t=Ig?125:void 0,this.V=new Zl(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new wC}function wC(){this.i=null,this.g="",this.h=!1}var jL=45e3,DC={},Mg={};C=La.prototype;C.setTimeout=function(t){this.P=t};function Ng(t,e,n){t.L=1,t.A=rd(rr(e)),t.u=n,t.S=!0,CC(t,null)}function CC(t,e){t.G=Date.now(),Ua(t),t.B=rr(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),NC(n.i,"t",r),t.o=0,n=t.l.J,t.h=new wC,t.g=XC(t.l,n?e:null,!t.u),0<t.O&&(t.M=new xg(dt(t.Pa,t,t.g),t.O)),mC(t.U,t.g,"readystatechange",t.nb),e=t.I?sC(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ma(),FL(t.j,t.v,t.B,t.m,t.W,t.u)}C.nb=function(t){t=t.target;let e=this.M;e&&Sn(t)==3?e.l():this.Pa(t)};C.Pa=function(t){try{if(t==this.g)e:{let l=Sn(this.g);var e=this.g.Ia();let d=this.g.da();if(!(3>l)&&(l!=3||Ig||this.g&&(this.h.h||this.g.ja()||ZD(this.g)))){this.J||l!=4||e==7||(e==8||0>=d?Ma(3):Ma(2)),nd(this);var n=this.g.da();this.ca=n;t:if(TC(this)){var r=ZD(this.g);t="";var i=r.length,s=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),Ta(this);var o="";break t}this.h.i=new j.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,VL(this.j,this.v,this.B,this.m,this.W,l,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ba(a)){var u=a;break t}}u=null}if(n=u)Ns(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pg(this,n);else{this.i=!1,this.s=3,wt(12),gi(this),Ta(this);break e}}this.S?(bC(this,l,o),Ig&&this.i&&l==3&&(mC(this.U,this.V,"tick",this.mb),this.V.start())):(Ns(this.j,this.m,o,null),Pg(this,o)),l==4&&gi(this),this.i&&!this.J&&(l==4?QC(this.l,this):(this.i=!1,Ua(this)))}else a2(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),gi(this),Ta(this)}}}catch{}finally{}};function TC(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function bC(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=BL(t,n),i==Mg){e==4&&(t.s=4,wt(14),r=!1),Ns(t.j,t.m,null,"[Incomplete Response]");break}else if(i==DC){t.s=4,wt(15),Ns(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ns(t.j,t.m,i,null),Pg(t,i);TC(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,wt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),ry(e),e.M=!0,wt(11))):(Ns(t.j,t.m,n,"[Invalid Chunked Response]"),gi(t),Ta(t))}C.mb=function(){if(this.g){var t=Sn(this.g),e=this.g.ja();this.o<e.length&&(nd(this),bC(this,t,e),this.i&&t!=4&&Ua(this))}};function BL(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Mg:(n=Number(e.substring(n,r)),isNaN(n)?DC:(r+=1,r+n>e.length?Mg:(e=e.slice(r,r+n),t.o=r+n,e)))}C.cancel=function(){this.J=!0,gi(this)};function Ua(t){t.Y=Date.now()+t.P,SC(t,t.P)}function SC(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=Fa(dt(t.lb,t),e)}function nd(t){t.C&&(j.clearTimeout(t.C),t.C=null)}C.lb=function(){this.C=null;let t=Date.now();0<=t-this.Y?(LL(this.j,this.B),this.L!=2&&(Ma(),wt(17)),gi(this),this.s=2,Ta(this)):SC(this,this.Y-t)};function Ta(t){t.l.H==0||t.J||QC(t.l,t)}function gi(t){nd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Wg(t.V),gC(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Pg(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||kg(n.i,t))){if(!t.K&&kg(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Hl(n),od(n);else break e;ny(n),wt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=Fa(dt(n.ib,n),6e3));if(1>=OC(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else yi(n,11)}else if((t.K||n.g==t)&&Hl(n),!ba(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];let l=u[3];l!=null&&(n.ra=l,n.l.info("VER="+n.ra));let d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));let h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;let p=t.g;if(p){let v=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var s=r.i;s.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Jg(s,s.h),s.h=null))}if(r.F){let D=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;D&&(r.Da=D,De(r.I,r.F,D))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=JC(r,r.J?r.pa:null,r.Y),o.K){FC(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(nd(a),Ua(a)),r.g=o}else WC(r);0<n.j.length&&ad(n)}else u[0]!="stop"&&u[0]!="close"||yi(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?yi(n,7):ty(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ma(4)}catch{}}function $L(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Wl(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function HL(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Wl(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(let r in t)e[n++]=r;return e}}}function AC(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Wl(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=HL(t),r=$L(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var xC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qL(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function vi(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof vi){this.h=t.h,Bl(this,t.j),this.s=t.s,this.g=t.g,$l(this,t.m),this.l=t.l;var e=t.i,n=new Na;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),KD(this,n),this.o=t.o}else t&&(e=String(t).match(xC))?(this.h=!1,Bl(this,e[1]||"",!0),this.s=Da(e[2]||""),this.g=Da(e[3]||"",!0),$l(this,e[4]),this.l=Da(e[5]||"",!0),KD(this,e[6]||"",!0),this.o=Da(e[7]||"")):(this.h=!1,this.i=new Na(null,this.h))}vi.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ca(e,QD,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ca(e,QD,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ca(n,n.charAt(0)=="/"?WL:zL,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ca(n,QL)),t.join("")};function rr(t){return new vi(t)}function Bl(t,e,n){t.j=n?Da(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function $l(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function KD(t,e,n){e instanceof Na?(t.i=e,YL(t.i,t.h)):(n||(e=Ca(e,KL)),t.i=new Na(e,t.h))}function De(t,e,n){t.i.set(e,n)}function rd(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Da(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ca(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,GL),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function GL(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var QD=/[#\/\?@]/g,zL=/[#\?:]/g,WL=/[#\?]/g,KL=/[#\?@]/g,QL=/#/g;function Na(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Sr(t){t.g||(t.g=new Map,t.h=0,t.i&&qL(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}C=Na.prototype;C.add=function(t,e){Sr(this),this.i=null,t=Os(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function RC(t,e){Sr(t),e=Os(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function MC(t,e){return Sr(t),e=Os(t,e),t.g.has(e)}C.forEach=function(t,e){Sr(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};C.ta=function(){Sr(this);let t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){let i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};C.Z=function(t){Sr(this);let e=[];if(typeof t=="string")MC(this,t)&&(e=e.concat(this.g.get(Os(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};C.set=function(t,e){return Sr(this),this.i=null,t=Os(this,t),MC(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};C.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function NC(t,e,n){RC(t,e),0<n.length&&(t.i=null,t.g.set(Os(t,e),Lg(n)),t.h+=n.length)}C.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Os(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function YL(t,e){e&&!t.j&&(Sr(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(RC(this,r),NC(this,i,n))},t)),t.j=e}var ZL=class{constructor(t,e){this.g=t,this.map=e}};function PC(t){this.l=t||JL,j.PerformanceNavigationTiming?(t=j.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(j.g&&j.g.Ka&&j.g.Ka()&&j.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var JL=10;function kC(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function OC(t){return t.h?1:t.g?t.g.size:0}function kg(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Jg(t,e){t.g?t.g.add(e):t.h=e}function FC(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}PC.prototype.cancel=function(){if(this.i=VC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function VC(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(let n of t.g.values())e=e.concat(n.F);return e}return Lg(t.i)}var XL=class{stringify(t){return j.JSON.stringify(t,void 0)}parse(t){return j.JSON.parse(t,void 0)}};function e2(){this.g=new XL}function t2(t,e,n){let r=n||"";try{AC(t,function(i,s){let o=i;ka(i)&&(o=Gg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function n2(t,e){let n=new Jl;if(j.Image){let r=new Image;r.onload=kl(Ul,n,r,"TestLoadImage: loaded",!0,e),r.onerror=kl(Ul,n,r,"TestLoadImage: error",!1,e),r.onabort=kl(Ul,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=kl(Ul,n,r,"TestLoadImage: timeout",!1,e),j.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Ul(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ja(t){this.l=t.ec||null,this.j=t.ob||!1}qe(ja,Qg);ja.prototype.g=function(){return new id(this.l,this.j)};ja.prototype.i=function(t){return function(){return t}}({});function id(t,e){He.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Xg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qe(id,He);var Xg=0;C=id.prototype;C.open=function(t,e){if(this.readyState!=Xg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Pa(this)};C.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||j).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};C.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ba(this)),this.readyState=Xg};C.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Pa(this)),this.g&&(this.readyState=3,Pa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof j.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;LC(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function LC(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}C.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ba(this):Pa(this),this.readyState==3&&LC(this)}};C.Za=function(t){this.g&&(this.response=this.responseText=t,Ba(this))};C.Ya=function(t){this.g&&(this.response=t,Ba(this))};C.ka=function(){this.g&&Ba(this)};function Ba(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Pa(t)}C.setRequestHeader=function(t,e){this.v.append(t,e)};C.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};C.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Pa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(id.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var r2=j.JSON.parse;function Ae(t){He.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=UC,this.L=this.M=!1}qe(Ae,He);var UC="",i2=/^https?$/i,s2=["POST","PUT"];C=Ae.prototype;C.Oa=function(t){this.M=t};C.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Rg.g(),this.C=this.u?WD(this.u):WD(Rg),this.g.onreadystatechange=dt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){YD(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=j.FormData&&t instanceof j.FormData,!(0<=tC(s2,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{$C(this),0<this.B&&((this.L=o2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dt(this.ua,this)):this.A=Kg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){YD(this,s)}};function o2(t){return ks&&typeof t.timeout=="number"&&t.ontimeout!==void 0}C.ua=function(){typeof Vg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Je(this,"timeout"),this.abort(8))};function YD(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,jC(t),sd(t)}function jC(t){t.F||(t.F=!0,Je(t,"complete"),Je(t,"error"))}C.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Je(this,"complete"),Je(this,"abort"),sd(this))};C.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sd(this,!0)),Ae.$.N.call(this)};C.La=function(){this.s||(this.G||this.v||this.l?BC(this):this.kb())};C.kb=function(){BC(this)};function BC(t){if(t.h&&typeof Vg<"u"&&(!t.C[1]||Sn(t)!=4||t.da()!=2)){if(t.v&&Sn(t)==4)Kg(t.La,0,t);else if(Je(t,"readystatechange"),Sn(t)==4){t.h=!1;try{let o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(xC)[1]||null;!i&&j.self&&j.self.location&&(i=j.self.location.protocol.slice(0,-1)),r=!i2.test(i?i.toLowerCase():"")}n=r}if(n)Je(t,"complete"),Je(t,"success");else{t.m=6;try{var s=2<Sn(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",jC(t)}}finally{sd(t)}}}}function sd(t,e){if(t.g){$C(t);let n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Je(t,"ready");try{n.onreadystatechange=r}catch{}}}function $C(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(j.clearTimeout(t.A),t.A=null)}C.isActive=function(){return!!this.g};function Sn(t){return t.g?t.g.readyState:0}C.da=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}};C.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};C.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),r2(e)}};function ZD(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case UC:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function a2(t){let e={};t=(t.g&&2<=Sn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(ba(t[r]))continue;var n=PL(t[r]);let i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();let s=e[i]||[];e[i]=s,s.push(n)}xL(e,function(r){return r.join(", ")})}C.Ia=function(){return this.m};C.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function HC(t){let e="";return jg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function ey(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=HC(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):De(t,e,n))}function Ia(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function qC(t){this.Ga=0,this.j=[],this.l=new Jl,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ia("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ia("baseRetryDelayMs",5e3,t),this.hb=Ia("retryDelaySeedMs",1e4,t),this.eb=Ia("forwardChannelMaxRetries",2,t),this.xa=Ia("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new PC(t&&t.concurrentRequestLimit),this.Ja=new e2,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}C=qC.prototype;C.ra=8;C.H=1;function ty(t){if(GC(t),t.H==3){var e=t.W++,n=rr(t.I);if(De(n,"SID",t.K),De(n,"RID",e),De(n,"TYPE","terminate"),$a(t,n),e=new La(t,t.l,e),e.L=2,e.A=rd(rr(n)),n=!1,j.navigator&&j.navigator.sendBeacon)try{n=j.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&j.Image&&(new Image().src=e.A,n=!0),n||(e.g=XC(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ua(e)}ZC(t)}function od(t){t.g&&(ry(t),t.g.cancel(),t.g=null)}function GC(t){od(t),t.u&&(j.clearTimeout(t.u),t.u=null),Hl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&j.clearTimeout(t.m),t.m=null)}function ad(t){if(!kC(t.i)&&!t.m){t.m=!0;var e=t.Na;Aa||fC(),xa||(Aa(),xa=!0),zg.add(e,t),t.C=0}}function c2(t,e){return OC(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Fa(dt(t.Na,t,e),YC(t,t.C)),t.C++,!0)}C.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;let i=new La(this,this.l,t),s=this.s;if(this.U&&(s?(s=sC(s),oC(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=zC(this,i,e),n=rr(this.I),De(n,"RID",t),De(n,"CVER",22),this.F&&De(n,"X-HTTP-Session-Id",this.F),$a(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(HC(s)))+"&"+e:this.o&&ey(n,this.o,s)),Jg(this.i,i),this.bb&&De(n,"TYPE","init"),this.P?(De(n,"$req",e),De(n,"SID","null"),i.aa=!0,Ng(i,n,null)):Ng(i,n,e),this.H=2}}else this.H==3&&(t?JD(this,t):this.j.length==0||kC(this.i)||JD(this))};function JD(t,e){var n;e?n=e.m:n=t.W++;let r=rr(t.I);De(r,"SID",t.K),De(r,"RID",n),De(r,"AID",t.V),$a(t,r),t.o&&t.s&&ey(r,t.o,t.s),n=new La(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=zC(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Jg(t.i,n),Ng(n,r,e)}function $a(t,e){t.na&&jg(t.na,function(n,r){De(e,r,n)}),t.h&&AC({},function(n,r){De(e,r,n)})}function zC(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dt(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){let o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let u=i[c].g,l=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{t2(l,o,"req"+u+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function WC(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Aa||fC(),xa||(Aa(),xa=!0),zg.add(e,t),t.A=0}}function ny(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Fa(dt(t.Ma,t),YC(t,t.A)),t.A++,!0)}C.Ma=function(){if(this.u=null,KC(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Fa(dt(this.jb,this),t)}};C.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,wt(10),od(this),KC(this))};function ry(t){t.B!=null&&(j.clearTimeout(t.B),t.B=null)}function KC(t){t.g=new La(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=rr(t.wa);De(e,"RID","rpc"),De(e,"SID",t.K),De(e,"AID",t.V),De(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&De(e,"TO",t.qa),De(e,"TYPE","xmlhttp"),$a(t,e),t.o&&t.s&&ey(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=rd(rr(e)),n.u=null,n.S=!0,CC(n,t)}C.ib=function(){this.v!=null&&(this.v=null,od(this),ny(this),wt(19))};function Hl(t){t.v!=null&&(j.clearTimeout(t.v),t.v=null)}function QC(t,e){var n=null;if(t.g==e){Hl(t),ry(t),t.g=null;var r=2}else if(kg(t.i,e))n=e.F,FC(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Xl(),Je(r,new _C(r,n)),ad(t)}else WC(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&c2(t,e)||r==2&&ny(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:yi(t,5);break;case 4:yi(t,10);break;case 3:yi(t,6);break;default:yi(t,2)}}}function YC(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function yi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=dt(t.pb,t);n||(n=new vi("//www.google.com/images/cleardot.gif"),j.location&&j.location.protocol=="http"||Bl(n,"https"),rd(n)),n2(n.toString(),r)}else wt(2);t.H=0,t.h&&t.h.za(e),ZC(t),GC(t)}C.pb=function(t){t?(this.l.info("Successfully pinged google.com"),wt(2)):(this.l.info("Failed to ping google.com"),wt(1))};function ZC(t){if(t.H=0,t.ma=[],t.h){let e=VC(t.i);(e.length!=0||t.j.length!=0)&&(HD(t.ma,e),HD(t.ma,t.j),t.i.i.length=0,Lg(t.j),t.j.length=0),t.h.ya()}}function JC(t,e,n){var r=n instanceof vi?rr(n):new vi(n);if(r.g!="")e&&(r.g=e+"."+r.g),$l(r,r.m);else{var i=j.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new vi(null);r&&Bl(s,r),e&&(s.g=e),i&&$l(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&De(r,n,e),De(r,"VER",t.ra),$a(t,r),r}function XC(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Ae(new ja({ob:n})):new Ae(t.va),e.Oa(t.J),e}C.isActive=function(){return!!this.h&&this.h.isActive(this)};function eT(){}C=eT.prototype;C.Ba=function(){};C.Aa=function(){};C.za=function(){};C.ya=function(){};C.isActive=function(){return!0};C.Va=function(){};function ql(){if(ks&&!(10<=Number(TL)))throw Error("Environmental error: no available transport.")}ql.prototype.g=function(t,e){return new Ft(t,e)};function Ft(t,e){He.call(this),this.g=new qC(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ba(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ba(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Fs(this)}qe(Ft,He);Ft.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;wt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=JC(t,null,t.Y),ad(t)};Ft.prototype.close=function(){ty(this.g)};Ft.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Gg(t),t=n);e.j.push(new ZL(e.fb++,t)),e.H==3&&ad(e)};Ft.prototype.N=function(){this.g.h=null,delete this.j,ty(this.g),delete this.g,Ft.$.N.call(this)};function tT(t){Yg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(let n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}qe(tT,Yg);function nT(){Zg.call(this),this.status=1}qe(nT,Zg);function Fs(t){this.g=t}qe(Fs,eT);Fs.prototype.Ba=function(){Je(this.g,"a")};Fs.prototype.Aa=function(t){Je(this.g,new tT(t))};Fs.prototype.za=function(t){Je(this.g,new nT)};Fs.prototype.ya=function(){Je(this.g,"b")};function u2(){this.blockSize=-1}function cn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}qe(cn,u2);cn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Eg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}cn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)Eg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){Eg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){Eg(this,r),i=0;break}}this.h=i,this.i+=e};cn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ge(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var l2={};function iy(t){return-128<=t&&128>t?wL(t,function(e){return new ge([e|0],0>e?-1:0)}):new ge([t|0],0>t?-1:0)}function An(t){if(isNaN(t)||!isFinite(t))return Ps;if(0>t)return Ze(An(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Og;return new ge(e,0)}function rT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ze(rT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=An(Math.pow(e,8)),r=Ps,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=An(Math.pow(e,s)),r=r.R(s).add(An(o))):(r=r.R(n),r=r.add(An(o)))}return r}var Og=4294967296,Ps=iy(0),Fg=iy(1),XD=iy(16777216);C=ge.prototype;C.ea=function(){if(Kt(this))return-Ze(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Og+r)*e,e*=Og}return t};C.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(nr(this))return"0";if(Kt(this))return"-"+Ze(this).toString(t);for(var e=An(Math.pow(t,6)),n=this,r="";;){var i=zl(n,e).g;n=Gl(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,nr(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};C.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function nr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Kt(t){return t.h==-1}C.X=function(t){return t=Gl(this,t),Kt(t)?-1:nr(t)?0:1};function Ze(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ge(n,~t.h).add(Fg)}C.abs=function(){return Kt(this)?Ze(this):this};C.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new ge(n,n[n.length-1]&-2147483648?-1:0)};function Gl(t,e){return t.add(Ze(e))}C.R=function(t){if(nr(this)||nr(t))return Ps;if(Kt(this))return Kt(t)?Ze(this).R(Ze(t)):Ze(Ze(this).R(t));if(Kt(t))return Ze(this.R(Ze(t)));if(0>this.X(XD)&&0>t.X(XD))return An(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,c=t.D(i)&65535;n[2*r+2*i]+=o*c,jl(n,2*r+2*i),n[2*r+2*i+1]+=s*c,jl(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,jl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,jl(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ge(n,0)};function jl(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function wa(t,e){this.g=t,this.h=e}function zl(t,e){if(nr(e))throw Error("division by zero");if(nr(t))return new wa(Ps,Ps);if(Kt(t))return e=zl(Ze(t),e),new wa(Ze(e.g),Ze(e.h));if(Kt(e))return e=zl(t,Ze(e)),new wa(Ze(e.g),e.h);if(30<t.g.length){if(Kt(t)||Kt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Fg,r=e;0>=r.X(t);)n=eC(n),r=eC(r);var i=Ms(n,1),s=Ms(r,1);for(r=Ms(r,2),n=Ms(n,2);!nr(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Ms(r,1),n=Ms(n,1)}return e=Gl(t,i.R(e)),new wa(i,e)}for(i=Ps;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=An(n),o=s.R(e);Kt(o)||0<o.X(t);)n-=r,s=An(n),o=s.R(e);nr(s)&&(s=Fg),i=i.add(s),t=Gl(t,o)}return new wa(i,t)}C.gb=function(t){return zl(this,t).h};C.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ge(n,this.h&t.h)};C.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ge(n,this.h|t.h)};C.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ge(n,this.h^t.h)};function eC(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ge(n,t.h)}function Ms(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new ge(i,t.h)}ql.prototype.createWebChannel=ql.prototype.g;Ft.prototype.send=Ft.prototype.u;Ft.prototype.open=Ft.prototype.m;Ft.prototype.close=Ft.prototype.close;ed.NO_ERROR=0;ed.TIMEOUT=8;ed.HTTP_ERROR=6;EC.COMPLETE="complete";IC.EventType=Va;Va.OPEN="a";Va.CLOSE="b";Va.ERROR="c";Va.MESSAGE="d";He.prototype.listen=He.prototype.O;Ae.prototype.listenOnce=Ae.prototype.P;Ae.prototype.getLastError=Ae.prototype.Sa;Ae.prototype.getLastErrorCode=Ae.prototype.Ia;Ae.prototype.getStatus=Ae.prototype.da;Ae.prototype.getResponseJson=Ae.prototype.Wa;Ae.prototype.getResponseText=Ae.prototype.ja;Ae.prototype.send=Ae.prototype.ha;Ae.prototype.setWithCredentials=Ae.prototype.Oa;cn.prototype.digest=cn.prototype.l;cn.prototype.reset=cn.prototype.reset;cn.prototype.update=cn.prototype.j;ge.prototype.add=ge.prototype.add;ge.prototype.multiply=ge.prototype.R;ge.prototype.modulo=ge.prototype.gb;ge.prototype.compare=ge.prototype.X;ge.prototype.toNumber=ge.prototype.ea;ge.prototype.toString=ge.prototype.toString;ge.prototype.getBits=ge.prototype.D;ge.fromNumber=An;ge.fromString=rT;var iT=un.createWebChannelTransport=function(){return new ql},sT=un.getStatEventTarget=function(){return Xl()},cd=un.ErrorCode=ed,oT=un.EventType=EC,aT=un.Event=_i,sy=un.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$5=un.FetchXmlHttpFactory=ja,Ha=un.WebChannel=IC,cT=un.XhrIo=Ae,uT=un.Md5=cn,Ei=un.Integer=ge;var lT="@firebase/firestore";var Ge=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");var no="10.7.2";var bi=new Ir("@firebase/firestore");function qa(){return bi.logLevel}function T(t,...e){if(bi.logLevel<=te.DEBUG){let n=e.map(Gv);bi.debug(`Firestore (${no}): ${t}`,...n)}}function kn(t,...e){if(bi.logLevel<=te.ERROR){let n=e.map(Gv);bi.error(`Firestore (${no}): ${t}`,...n)}}function Hs(t,...e){if(bi.logLevel<=te.WARN){let n=e.map(Gv);bi.warn(`Firestore (${no}): ${t}`,...n)}}function Gv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function V(t="Unexpected state"){let e=`FIRESTORE (${no}) INTERNAL ASSERTION FAILED: `+t;throw kn(e),new Error(e)}function we(t,e){t||V()}function G(t,e){return t}var _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},A=class extends Rt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ln=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var fd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ly=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ge.UNAUTHENTICATED))}shutdown(){}},dy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},hy=class{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve(),s=new ln;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ln,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(()=>y(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{T("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ln)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string"),new fd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new Ge(e)}},fy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},py=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new fy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}},my=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},gy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&T("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,T("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{T("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(we(typeof n.token=="string"),this.R=n.token,new my(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function d2(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var pd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=d2(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function ue(t,e){return t<e?-1:t>e?1:0}function qs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var Xe=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new A(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new A(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new A(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new A(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var q=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new Xe(0,0))}static max(){return new t(new Xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var md=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&V(),r===void 0?r=e.length-n:r>e.length-n&&V(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},be=class t extends md{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new A(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},h2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Lt=class t extends md{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return h2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new A(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new A(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new A(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new A(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var M=class t{constructor(e){this.path=e}static fromPath(e){return new t(be.fromString(e))}static fromName(e){return new t(be.fromString(e).popFirst(5))}static empty(){return new t(be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new be(e.slice()))}};var yy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};yy.UNKNOWN_ID=-1;function f2(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=q.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new Si(i,M.empty(),e)}function p2(t){return new Si(t.readTime,t.key,-1)}var Si=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(q.min(),M.empty(),-1)}static max(){return new t(q.max(),M.empty(),-1)}};function m2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=M.comparator(t.documentKey,e.documentKey),n!==0?n:ue(t.largestBatchId,e.largestBatchId))}var g2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function uc(t){return y(this,null,function*(){if(t.code!==_.FAILED_PRECONDITION||t.message!==g2)throw t;T("LocalStore","Unexpectedly lost primary lease")})}var w=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&V(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;n(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};var _y=class t{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ln,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ti(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{let i=zv(r.target.error);this.V.reject(new Ti(e,i))}}static open(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(s){throw new Ti(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(T("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let n=this.transaction.objectStore(e);return new Iy(n)}},gd=class t{constructor(e,n,r){this.name=e,this.version=n,this.p=r,t.S(ut())===12.2&&kn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return T("SimpleDb","Removing database:",e),Ii(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ml())return!1;if(t.C())return!0;let e=ut(),n=t.S(e),r=0<n&&n<10,i=t.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){let n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){let n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){return y(this,null,function*(){return this.db||(T("SimpleDb","Opening database:",this.name),this.db=yield new Promise((n,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;n(o)},i.onblocked=()=>{r(new Ti(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new A(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new A(_.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ti(e,o))},i.onupgradeneeded=s=>{T("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{T("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db})}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,r,i){return y(this,null,function*(){let s=n==="readonly",o=0;for(;;){++o;try{this.db=yield this.O(e);let a=_y.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),w.reject(u))).toPromise();return c.catch(()=>{}),yield a.m,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(T("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}})}close(){this.db&&this.db.close(),this.db=void 0}},Ey=class{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ii(this.k.delete())}},Ti=class extends A{constructor(e,n){super(_.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}};function lc(t){return t.name==="IndexedDbTransactionError"}var Iy=class{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(T("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(T("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ii(r)}add(e){return T("SimpleDb","ADD",this.store.name,e,e),Ii(this.store.add(e))}get(e){return Ii(this.store.get(e)).next(n=>(n===void 0&&(n=null),T("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return T("SimpleDb","DELETE",this.store.name,e),Ii(this.store.delete(e))}count(){return T("SimpleDb","COUNT",this.store.name),Ii(this.store.count())}W(e,n){let r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){let s=i.getAll(r.range);return new w((o,a)=>{s.onerror=c=>{a(c.target.error)},s.onsuccess=c=>{o(c.target.result)}})}{let s=this.cursor(r),o=[];return this.G(s,(a,c)=>{o.push(c)}).next(()=>o)}}j(e,n){let r=this.store.getAll(e,n===null?void 0:n);return new w((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){T("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,n);r.J=!1;let i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);let i=this.cursor(r);return this.G(i,n)}Z(e){let n=this.cursor({});return new w((r,i)=>{n.onerror=s=>{let o=zv(s.target.error);i(o)},n.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){let r=[];return new w((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new Ey(a),u=n(a.primaryKey,a.value,c);if(u instanceof w){let l=u.catch(d=>(c.done(),w.reject(d)));r.push(l)}c.isDone?i():c.$===null?a.continue():a.continue(c.$)}}).next(()=>w.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){let r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}};function Ii(t){return new w((e,n)=>{t.onsuccess=r=>{let i=r.target.result;e(i)},t.onerror=r=>{let i=zv(r.target.error);n(i)}})}var dT=!1;function zv(t){let e=gd.S(ut());if(e>=12.2&&e<13){let n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){let r=new A("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return dT||(dT=!0,setTimeout(()=>{throw r},0)),r}}return t}var $T=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.oe&&this.oe(n),n}}return t._e=-1,t})();function Wd(t){return t==null}function Ya(t){return t===0&&1/t==-1/0}function y2(t){return typeof t=="number"&&Number.isInteger(t)&&!Ya(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var v2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],J5=[...v2,"documentOverlays"],_2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],E2=_2,X5=[...E2,"indexConfiguration","indexState","indexEntries"];function hT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ki(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Re=class t{constructor(e,n){this.comparator=e,this.root=n||Rn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new js(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new js(this.root,e,this.comparator,!1)}getReverseIterator(){return new js(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new js(this.root,e,this.comparator,!0)}},js=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Rn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw V();let e=this.left.check();if(e!==this.right.check())throw V();return e+(this.isRed()?0:1)}};Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw V()}get value(){throw V()}get color(){throw V()}get left(){throw V()}get right(){throw V()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Rn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var pt=class t{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yd(this.data.getIterator())}getIteratorFrom(e){return new yd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},yd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Qt=class t{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new t([])}unionWith(e){let n=new pt(Lt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var vd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ct=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new vd("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ct.EMPTY_BYTE_STRING=new Ct("");var I2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(t){if(we(!!t),typeof t=="string"){let e=0,n=I2.exec(t);if(we(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xe(t.seconds),nanos:xe(t.nanos)}}function xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Rr(t){return typeof t=="string"?Ct.fromBase64String(t):Ct.fromUint8Array(t)}function Wv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Kv(t){let e=t.mapValue.fields.__previous_value__;return Wv(e)?Kv(e):e}function Za(t){let e=xr(t.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}var wy=class{constructor(e,n,r,i,s,o,a,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},_d=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ud={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ai(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Wv(t)?4:qT(t)?9007199254740991:10:V()}function On(t,e){if(t===e)return!0;let n=Ai(t);if(n!==Ai(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Za(t).isEqual(Za(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=xr(i.timestampValue),a=xr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Rr(i.bytesValue).isEqual(Rr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return xe(i.geoPointValue.latitude)===xe(s.geoPointValue.latitude)&&xe(i.geoPointValue.longitude)===xe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return xe(i.integerValue)===xe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=xe(i.doubleValue),a=xe(s.doubleValue);return o===a?Ya(o)===Ya(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return qs(t.arrayValue.values||[],e.arrayValue.values||[],On);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(hT(o)!==hT(a))return!1;for(let c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!On(o[c],a[c])))return!1;return!0}(t,e);default:return V()}}function Ja(t,e){return(t.values||[]).find(n=>On(n,e))!==void 0}function Gs(t,e){if(t===e)return 0;let n=Ai(t),r=Ai(e);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=xe(s.integerValue||s.doubleValue),c=xe(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return fT(t.timestampValue,e.timestampValue);case 4:return fT(Za(t),Za(e));case 5:return ue(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Rr(s),c=Rr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){let l=ue(a[u],c[u]);if(l!==0)return l}return ue(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ue(xe(s.latitude),xe(o.latitude));return a!==0?a:ue(xe(s.longitude),xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){let l=Gs(a[u],c[u]);if(l)return l}return ue(a.length,c.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ud.mapValue&&o===ud.mapValue)return 0;if(s===ud.mapValue)return 1;if(o===ud.mapValue)return-1;let a=s.fields||{},c=Object.keys(a),u=o.fields||{},l=Object.keys(u);c.sort(),l.sort();for(let d=0;d<c.length&&d<l.length;++d){let h=ue(c[d],l[d]);if(h!==0)return h;let p=Gs(a[c[d]],u[l[d]]);if(p!==0)return p}return ue(c.length,l.length)}(t.mapValue,e.mapValue);default:throw V()}}function fT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ue(t,e);let n=xr(t),r=xr(e),i=ue(n.seconds,r.seconds);return i!==0?i:ue(n.nanos,r.nanos)}function zs(t){return Dy(t)}function Dy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=xr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Rr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return M.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Dy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Dy(n.fields[o])}`;return i+"}"}(t.mapValue):V()}function pT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Cy(t){return!!t&&"integerValue"in t}function Qv(t){return!!t&&"arrayValue"in t}function mT(t){return!!t&&"nullValue"in t}function gT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dd(t){return!!t&&"mapValue"in t}function za(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ki(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=za(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=za(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Vt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=za(n)}setAll(e){let n=Lt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=za(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());dd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return On(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];dd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ki(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(za(this.value))}};function GT(t){let e=[];return ki(t.fields,(n,r)=>{let i=new Lt([n]);if(dd(r)){let s=GT(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Qt(e)}var dn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,q.min(),q.min(),q.min(),Vt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,q.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,q.min(),q.min(),Vt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,q.min(),q.min(),Vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(q.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ws=class{constructor(e,n){this.position=e,this.inclusive=n}};function yT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=M.comparator(M.fromName(o.referenceValue),n.key):r=Gs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function vT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!On(t.position[n],e.position[n]))return!1;return!0}var Ks=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function w2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ed=class{},Le=class t extends Ed{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new by(e,n,r):n==="array-contains"?new xy(e,r):n==="in"?new Ry(e,r):n==="not-in"?new My(e,r):n==="array-contains-any"?new Ny(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Sy(e,r):new Ay(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gs(n,this.value)):n!==null&&Ai(this.value)===Ai(n)&&this.matchesComparison(Gs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return V()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},hn=class t extends Ed{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new t(e,n)}matches(e){return zT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}};function zT(t){return t.op==="and"}function WT(t){return D2(t)&&zT(t)}function D2(t){for(let e of t.filters)if(e instanceof hn)return!1;return!0}function Ty(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+zs(t.value);if(WT(t))return t.filters.map(e=>Ty(e)).join(",");{let e=t.filters.map(n=>Ty(n)).join(",");return`${t.op}(${e})`}}function KT(t,e){return t instanceof Le?function(r,i){return i instanceof Le&&r.op===i.op&&r.field.isEqual(i.field)&&On(r.value,i.value)}(t,e):t instanceof hn?function(r,i){return i instanceof hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&KT(o,i.filters[a]),!0):!1}(t,e):void V()}function QT(t){return t instanceof Le?function(n){return`${n.field.canonicalString()} ${n.op} ${zs(n.value)}`}(t):t instanceof hn?function(n){return n.op.toString()+" {"+n.getFilters().map(QT).join(" ,")+"}"}(t):"Filter"}var by=class extends Le{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){let n=M.comparator(e.key,this.key);return this.matchesComparison(n)}},Sy=class extends Le{constructor(e,n){super(e,"in",n),this.keys=YT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Ay=class extends Le{constructor(e,n){super(e,"not-in",n),this.keys=YT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function YT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}var xy=class extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Qv(n)&&Ja(n.arrayValue,this.value)}},Ry=class extends Le{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ja(this.value.arrayValue,n)}},My=class extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ja(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ja(this.value.arrayValue,n)}},Ny=class extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Qv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ja(this.value.arrayValue,r))}};var Py=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}};function _T(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Py(t,e,n,r,i,s,o)}function Yv(t){let e=G(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ty(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Wd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zs(r)).join(",")),e.ce=n}return e.ce}function Zv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!w2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vT(t.startAt,e.startAt)&&vT(t.endAt,e.endAt)}function ky(t){return M.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var xi=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}};function C2(t,e,n,r,i,s,o,a){return new xi(t,e,n,r,i,s,o,a)}function Jv(t){return new xi(t)}function ET(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZT(t){return t.collectionGroup!==null}function Wa(t){let e=G(t);if(e.le===null){e.le=[];let n=new Set;for(let s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new pt(Lt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Ks(s,r))}),n.has(Lt.keyField().canonicalString())||e.le.push(new Ks(Lt.keyField(),r))}return e.le}function Mn(t){let e=G(t);return e.he||(e.he=T2(e,Wa(t))),e.he}function T2(t,e){if(t.limitType==="F")return _T(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Ks(i.field,s)});let n=t.endAt?new Ws(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ws(t.startAt.position,t.startAt.inclusive):null;return _T(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Oy(t,e){let n=t.filters.concat([e]);return new xi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Fy(t,e,n){return new xi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kd(t,e){return Zv(Mn(t),Mn(e))&&t.limitType===e.limitType}function JT(t){return`${Yv(Mn(t))}|lt:${t.limitType}`}function Vs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>QT(i)).join(", ")}]`),Wd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>zs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>zs(i)).join(",")),`Target(${r})`}(Mn(t))}; limitType=${t.limitType})`}function Qd(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):M.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of Wa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){let u=yT(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Wa(r),i)||r.endAt&&!function(o,a,c){let u=yT(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Wa(r),i))}(t,e)}function b2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XT(t){return(e,n)=>{let r=!1;for(let i of Wa(t)){let s=S2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function S2(t,e,n){let r=t.field.isKeyField()?M.comparator(e.key,n.key):function(s,o,a){let c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?Gs(c,u):V()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return V()}}var Mr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return HT(this.inner)}size(){return this.innerSize}};var A2=new Re(M.comparator);function ir(){return A2}var eb=new Re(M.comparator);function Ga(...t){let e=eb;for(let n of t)e=e.insert(n.key,n);return e}function tb(t){let e=eb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wi(){return Ka()}function nb(){return Ka()}function Ka(){return new Mr(t=>t.toString(),(t,e)=>t.isEqual(e))}var x2=new Re(M.comparator),R2=new pt(M.comparator);function ne(...t){let e=R2;for(let n of t)e=e.add(n);return e}var M2=new pt(ue);function N2(){return M2}function rb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ya(e)?"-0":e}}function ib(t){return{integerValue:""+t}}function P2(t,e){return y2(e)?ib(e):rb(t,e)}var Qs=class{constructor(){this._=void 0}};function k2(t,e,n){return t instanceof Ys?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Wv(s)&&(s=Kv(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ri?ob(t,e):t instanceof Mi?ab(t,e):function(i,s){let o=sb(i,s),a=IT(o)+IT(i.Ie);return Cy(o)&&Cy(i.Ie)?ib(a):rb(i.serializer,a)}(t,e)}function O2(t,e,n){return t instanceof Ri?ob(t,e):t instanceof Mi?ab(t,e):n}function sb(t,e){return t instanceof Zs?function(r){return Cy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ys=class extends Qs{},Ri=class extends Qs{constructor(e){super(),this.elements=e}};function ob(t,e){let n=cb(e);for(let r of t.elements)n.some(i=>On(i,r))||n.push(r);return{arrayValue:{values:n}}}var Mi=class extends Qs{constructor(e){super(),this.elements=e}};function ab(t,e){let n=cb(e);for(let r of t.elements)n=n.filter(i=>!On(i,r));return{arrayValue:{values:n}}}var Zs=class extends Qs{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function IT(t){return xe(t.integerValue||t.doubleValue)}function cb(t){return Qv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function F2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ri&&i instanceof Ri||r instanceof Mi&&i instanceof Mi?qs(r.elements,i.elements,On):r instanceof Zs&&i instanceof Zs?On(r.Ie,i.Ie):r instanceof Ys&&i instanceof Ys}(t.transform,e.transform)}var Vy=class{constructor(e,n){this.version=e,this.transformResults=n}},Nn=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function hd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Js=class{};function ub(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Xa(t.key,Nn.none()):new Ni(t.key,t.data,Nn.none());{let n=t.data,r=Vt.empty(),i=new pt(Lt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Fn(t.key,r,new Qt(i.toArray()),Nn.none())}}function V2(t,e,n){t instanceof Ni?function(i,s,o){let a=i.value.clone(),c=DT(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fn?function(i,s,o){if(!hd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=DT(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(lb(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Qa(t,e,n,r){return t instanceof Ni?function(s,o,a,c){if(!hd(s.precondition,o))return a;let u=s.value.clone(),l=CT(s.fieldTransforms,c,o);return u.setAll(l),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fn?function(s,o,a,c){if(!hd(s.precondition,o))return a;let u=CT(s.fieldTransforms,c,o),l=o.data;return l.setAll(lb(s)),l.setAll(u),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return hd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function L2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=sb(r.transform,i||null);s!=null&&(n===null&&(n=Vt.empty()),n.set(r.field,s))}return n||null}function wT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qs(r,i,(s,o)=>F2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ni=class extends Js{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Fn=class extends Js{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function lb(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function DT(t,e,n){let r=new Map;we(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,O2(o,a,n[i]))}return r}function CT(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,k2(s,o,e))}return r}var Xa=class extends Js{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Ly=class extends Js{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Uy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&V2(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qa(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Qa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=nb();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let c=ub(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ne())}isEqual(e){return this.batchId===e.batchId&&qs(this.mutations,e.mutations,(n,r)=>wT(n,r))&&qs(this.baseMutations,e.baseMutations,(n,r)=>wT(n,r))}},jy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){we(e.mutations.length===r.length);let i=function(){return x2}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var By=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var $y=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Fe,se;function U2(t){switch(t){default:return V();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}function db(t){if(t===void 0)return kn("GRPC error has no .code"),_.UNKNOWN;switch(t){case Fe.OK:return _.OK;case Fe.CANCELLED:return _.CANCELLED;case Fe.UNKNOWN:return _.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return _.INTERNAL;case Fe.UNAVAILABLE:return _.UNAVAILABLE;case Fe.UNAUTHENTICATED:return _.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case Fe.NOT_FOUND:return _.NOT_FOUND;case Fe.ALREADY_EXISTS:return _.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return _.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case Fe.ABORTED:return _.ABORTED;case Fe.OUT_OF_RANGE:return _.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return _.UNIMPLEMENTED;case Fe.DATA_LOSS:return _.DATA_LOSS;default:return V()}}(se=Fe||(Fe={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";var TT=null;function j2(){return new TextEncoder}var B2=new Ei([4294967295,4294967295],0);function bT(t){let e=j2().encode(t),n=new uT;return n.update(e),new Uint8Array(n.digest())}function ST(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ei([n,r],0),new Ei([i,s],0)]}var Hy=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Di(`Invalid padding: ${n}`);if(r<0)throw new Di(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Di(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Di(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Ei.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Ei.fromNumber(r)));return i.compare(B2)===1&&(i=new Ei([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;let n=bT(e),[r,i]=ST(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;let n=bT(e),[r,i]=ST(n);for(let s=0;s<this.hashCount;s++){let o=this.de(r,i,s);this.Re(o)}}Re(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Di=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Id=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ec.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(q.min(),i,new Re(ue),ir(),ne())}},ec=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ne(),ne(),ne())}};var Bs=class{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}},wd=class{constructor(e,n){this.targetId=e,this.fe=n}},Dd=class{constructor(e,n,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Cd=class{constructor(){this.ge=0,this.pe=xT(),this.ye=Ct.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ne(),n=ne(),r=ne();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:V()}}),new ec(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=xT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,we(this.ge>=0)}Be(){this.Se=!0,this.we=!0}},qy=class{constructor(e){this.Le=e,this.ke=new Map,this.qe=ir(),this.Qe=AT(),this.Ke=new Re(ue)}$e(e){for(let n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(let n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{let r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:V()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){let n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){let s=i.target;if(ky(s))if(r===0){let o=new M(s.path);this.We(n,o,dn.newNoDocument(o,q.min()))}else we(r===1);else{let o=this.Ze(n);if(o!==r){let a=this.Xe(e),c=a?this.et(a,e,o):1;if(c!==0){this.He(n);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}TT?.tt(function(l,d,h,p,v){var D,E,b,W,Z,K;let Ee={localCacheCount:l,existenceFilterCount:d.count,databaseId:h.database,projectId:h.projectId},oe=d.unchangedNames;return oe&&(Ee.bloomFilter={applied:v===0,hashCount:(D=oe?.hashCount)!==null&&D!==void 0?D:0,bitmapLength:(W=(b=(E=oe?.bits)===null||E===void 0?void 0:E.bitmap)===null||b===void 0?void 0:b.length)!==null&&W!==void 0?W:0,padding:(K=(Z=oe?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&K!==void 0?K:0,mightContain:mt=>{var Ut;return(Ut=p?.mightContain(mt))!==null&&Ut!==void 0&&Ut}}),Ee}(o,e.fe,this.Le.nt(),a,c))}}}}Xe(e){let n=e.fe.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=Rr(r).toUint8Array()}catch(c){if(c instanceof vd)return Hs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Hy(o,i,s)}catch(c){return Hs(c instanceof Di?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){let n=new Map;this.ke.forEach((s,o)=>{let a=this.Ye(o);if(a){if(s.current&&ky(a.target)){let c=new M(a.target.path);this.qe.get(c)!==null||this.st(o,c)||this.We(o,c,dn.newNoDocument(c,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=ne();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Ye(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));let i=new Id(e,n,this.Ke,this.qe,r);return this.qe=ir(),this.Qe=AT(),this.Ke=new Re(ue),i}Ue(e,n){if(!this.je(e))return;let r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;let i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){let n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new Cd,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new pt(ue),this.Qe=this.Qe.insert(e,n)),n}je(e){let n=this.Ye(e)!==null;return n||T("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){let n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new Cd),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function AT(){return new Re(M.comparator)}function xT(){return new Re(M.comparator)}var $2={asc:"ASCENDING",desc:"DESCENDING"},H2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q2={and:"AND",or:"OR"},Gy=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function zy(t,e){return t.useProto3Json||Wd(e)?e:{value:e}}function Td(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function G2(t,e){return Td(t,e.toTimestamp())}function Pn(t){return we(!!t),q.fromTimestamp(function(n){let r=xr(n);return new Xe(r.seconds,r.nanos)}(t))}function Xv(t,e){return Wy(t,e).canonicalString()}function Wy(t,e){let n=function(i){return new be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function fb(t){let e=be.fromString(t);return we(vb(e)),e}function Ky(t,e){return Xv(t.databaseId,e.path)}function oy(t,e){let n=fb(e);if(n.get(1)!==t.databaseId.projectId)throw new A(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new A(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(mb(n))}function pb(t,e){return Xv(t.databaseId,e)}function z2(t){let e=fb(t);return e.length===4?be.emptyPath():mb(e)}function Qy(t){return new be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function mb(t){return we(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function RT(t,e,n){return{name:Ky(t,e),fields:n.value.mapValue.fields}}function W2(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:V()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,l){return u.useProto3Json?(we(l===void 0||typeof l=="string"),Ct.fromBase64String(l||"")):(we(l===void 0||l instanceof Uint8Array),Ct.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let l=u.code===void 0?_.UNKNOWN:db(u.code);return new A(l,u.message||"")}(o);n=new Dd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=oy(t,r.document.name),s=Pn(r.document.updateTime),o=r.document.createTime?Pn(r.document.createTime):q.min(),a=new Vt({mapValue:{fields:r.document.fields}}),c=dn.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Bs(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=oy(t,r.document),s=r.readTime?Pn(r.readTime):q.min(),o=dn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Bs([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=oy(t,r.document),s=r.removedTargetIds||[];n=new Bs([],s,i,null)}else{if(!("filter"in e))return V();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new $y(i,s),a=r.targetId;n=new wd(a,o)}}return n}function K2(t,e){let n;if(e instanceof Ni)n={update:RT(t,e.key,e.value)};else if(e instanceof Xa)n={delete:Ky(t,e.key)};else if(e instanceof Fn)n={update:RT(t,e.key,e.data),updateMask:rU(e.fieldMask)};else{if(!(e instanceof Ly))return V();n={verify:Ky(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Ys)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ri)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Mi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Zs)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw V()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:G2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:V()}(t,e.precondition)),n}function Q2(t,e){return t&&t.length>0?(we(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Pn(i.updateTime):Pn(s);return o.isEqual(q.min())&&(o=Pn(s)),new Vy(o,i.transformResults||[])}(n,e))):[]}function Y2(t,e){return{documents:[pb(t,e.path)]}}function Z2(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pb(t,i);let s=function(u){if(u.length!==0)return yb(hn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(l=>function(h){return{field:Ls(h.field),direction:eU(h.dir)}}(l))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=zy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function J2(t){let e=z2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){we(r===1);let l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(d){let h=gb(d);return h instanceof hn&&WT(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(v){return new Ks(Us(v.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Wd(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(d){let h=!!d.before,p=d.values||[];return new Ws(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){let h=!d.before,p=d.values||[];return new Ws(p,h)}(n.endAt)),C2(e,i,o,s,a,"F",c,u)}function X2(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return V()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Us(n.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Us(n.unaryFilter.field);return Le.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Us(n.unaryFilter.field);return Le.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Us(n.unaryFilter.field);return Le.create(o,"!=",{nullValue:"NULL_VALUE"});default:return V()}}(t):t.fieldFilter!==void 0?function(n){return Le.create(Us(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return V()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hn.create(n.compositeFilter.filters.map(r=>gb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return V()}}(n.compositeFilter.op))}(t):V()}function eU(t){return $2[t]}function tU(t){return H2[t]}function nU(t){return q2[t]}function Ls(t){return{fieldPath:t.canonicalString()}}function Us(t){return Lt.fromServerFormat(t.fieldPath)}function yb(t){return t instanceof Le?function(n){if(n.op==="=="){if(gT(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NAN"}};if(mT(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gT(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NAN"}};if(mT(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(n.field),op:tU(n.op),value:n.value}}}(t):t instanceof hn?function(n){let r=n.getFilters().map(i=>yb(i));return r.length===1?r[0]:{compositeFilter:{op:nU(n.op),filters:r}}}(t):V()}function rU(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var tc=class t{constructor(e,n,r,i,s=q.min(),o=q.min(),a=Ct.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Yy=class{constructor(e){this.ct=e}};function iU(t){let e=J2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fy(e,e.limit,"L"):e}var bd=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(xe(e.integerValue));else if("doubleValue"in e){let r=xe(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Ya(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"?n.At(r):(n.At(`${r.seconds||""}`),n.dt(r.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Rr(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?qT(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):V()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),M.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};bd.bt=new bd;var Zy=class{constructor(){this._n=new Jy}addToCollectionParentIndex(e,n){return this._n.add(n),w.resolve()}getCollectionParents(e,n){return w.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return w.resolve()}deleteFieldIndex(e,n){return w.resolve()}deleteAllFieldIndexes(e){return w.resolve()}createTargetIndexes(e,n){return w.resolve()}getDocumentsMatchingTarget(e,n){return w.resolve(null)}getIndexType(e,n){return w.resolve(0)}getFieldIndexes(e,n){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,n){return w.resolve(Si.min())}getMinOffsetFromCollectionGroup(e,n){return w.resolve(Si.min())}updateCollectionGroup(e,n,r){return w.resolve()}updateIndexEntries(e,n){return w.resolve()}},Jy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(be.comparator)).toArray()}};var tW=new Uint8Array(0);var xn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(41943040,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);var nc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Bn(){return new t(-1)}};var Xy=class{constructor(){this.changes=new Mr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?w.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ev=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var tv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Qa(r.mutation,i,Qt.empty(),Xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ne()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ne()){let i=wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ga();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ne()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ir(),o=Ka(),a=function(){return Ka()}();return n.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Fn)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),Qa(l.mutation,u,l.mutation.getFieldMask(),Xe.now())):o.set(u.key,Qt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),n.forEach((u,l)=>{var d;return a.set(u,new ev(l,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ka(),i=new Re((o,a)=>o-a),s=ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=n.get(c);if(u===null)return;let l=r.get(c)||Qt.empty();l=a.applyToLocalView(u,l),r.set(c,l);let d=(i.get(a.batchId)||ne()).add(c);i=i.insert(a.batchId,d)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,d=nb();l.forEach(h=>{if(!s.has(h)){let p=ub(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return w.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return M.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):w.resolve(wi()),a=-1,c=s;return o.next(u=>w.forEach(u,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?w.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{c=c.insert(l,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ne())).next(l=>({batchId:a,changes:tb(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new M(n)).next(r=>{let i=Ga();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Ga();return this.indexManager.getCollectionParents(e,s).next(a=>w.forEach(a,c=>{let u=function(d,h){return new xi(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(l=>{l.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{let l=u.getKey();o.get(l)===null&&(o=o.insert(l,dn.newInvalidDocument(l)))});let a=Ga();return o.forEach((c,u)=>{let l=s.get(c);l!==void 0&&Qa(l.mutation,u,Qt.empty(),Xe.now()),Qd(n,u)&&(a=a.insert(c,u))}),a})}};var nv=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return w.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pn(i.createTime)}}(n)),w.resolve()}getNamedQuery(e,n){return w.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:iU(i.bundledQuery),readTime:Pn(i.readTime)}}(n)),w.resolve()}};var rv=class{constructor(){this.overlays=new Re(M.comparator),this.hr=new Map}getOverlay(e,n){return w.resolve(this.overlays.get(n))}getOverlays(e,n){let r=wi();return w.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),w.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),w.resolve()}getOverlaysForCollection(e,n,r){let i=wi(),s=n.length+1,o=new M(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return w.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Re((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=wi(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=wi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return w.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new By(n,r));let s=this.hr.get(n);s===void 0&&(s=ne(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var rc=class{constructor(){this.Pr=new pt(Ve.Ir),this.Tr=new pt(Ve.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new Ve(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ve(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new M(new be([])),r=new Ve(n,e),i=new Ve(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new M(new be([])),r=new Ve(n,e),i=new Ve(n,e+1),s=ne();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new Ve(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ve=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return M.comparator(e.key,n.key)||ue(e.pr,n.pr)}static Er(e,n){return ue(e.pr,n.pr)||M.comparator(e.key,n.key)}};var iv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new pt(Ve.Ir)}checkEmpty(e){return w.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Uy(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new Ve(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,n){return w.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return w.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ve(n,0),i=new Ve(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),w.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(ue);return n.forEach(i=>{let s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),w.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;M.isDocumentKey(s)||(s=s.child(""));let o=new Ve(new M(s),0),a=new pt(ue);return this.wr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.pr)),!0)},o),w.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){we(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return w.forEach(n.mutations,i=>{let s=new Ve(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new Ve(n,0),i=this.wr.firstAfterOrEqual(r);return w.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,w.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var sv=class{constructor(e){this.vr=e,this.docs=function(){return new Re(M.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return w.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=ir();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():dn.newInvalidDocument(i))}),w.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ir(),o=n.path,a=new M(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||m2(p2(l),r)<=0||(i.has(l.key)||Qd(n,l))&&(s=s.insert(l.key,l.mutableCopy()))}return w.resolve(s)}getAllFromCollectionGroup(e,n,r,i){V()}Fr(e,n){return w.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ov(this)}getSize(e){return w.resolve(this.size)}},ov=class extends Xy{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),w.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var av=class{constructor(e){this.persistence=e,this.Mr=new Mr(n=>Yv(n),Zv),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.Or=0,this.Nr=new rc,this.targetCount=0,this.Br=nc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),w.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Br=new nc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,w.resolve()}updateTargetData(e,n){return this.qn(n),w.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),w.waitFor(s).next(()=>i)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return w.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),w.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),w.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),w.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return w.resolve(r)}containsKey(e,n){return w.resolve(this.Nr.containsKey(n))}};var cv=class{constructor(e,n){this.Lr={},this.overlays={},this.kr=new $T(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new av(this),this.indexManager=new Zy,this.remoteDocumentCache=function(i){return new sv(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Yy(n),this.$r=new nv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new iv(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){T("MemoryPersistence","Starting transaction:",e);let i=new uv(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return w.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}},uv=class extends vy{constructor(e){super(),this.currentSequenceNumber=e}},lv=class t{constructor(e){this.persistence=e,this.zr=new rc,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw V()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),w.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),w.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),w.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Jr,r=>{let i=M.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,q.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return w.or([()=>w.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var dv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ne(),i=ne();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var hv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var fv=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return dD()?8:gd.v(ut())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new hv;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(qa()<=te.DEBUG&&T("QueryEngine","SDK will not create cache indexes for query:",Vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),w.resolve()):(qa()<=te.DEBUG&&T("QueryEngine","Query:",Vs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(qa()<=te.DEBUG&&T("QueryEngine","The SDK decides to create cache indexes for query:",Vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(n))):w.resolve())}ji(e,n){if(ET(n))return w.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Fy(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ne(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Zi(n,a);return this.Xi(n,u,o,c.readTime)?this.ji(e,Fy(n,null,"F")):this.es(e,u,n,c)}))})))}Hi(e,n,r,i){return ET(n)||i.isEqual(q.min())?w.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?w.resolve(null):(qa()<=te.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vs(n)),this.es(e,o,n,f2(i,-1)).next(a=>a))})}Zi(e,n){let r=new pt(XT(e));return n.forEach((i,s)=>{Qd(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return qa()<=te.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",Vs(n)),this.zi.getDocumentsMatchingQuery(e,n,Si.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var pv=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Re(ue),this.rs=new Mr(s=>Yv(s),Zv),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tv(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function sU(t,e,n,r){return new pv(t,e,n,r)}function _b(t,e){return y(this,null,function*(){let n=G(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=ne();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return n.localDocuments.getDocuments(r,c).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})})}function oU(t,e){let n=G(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,c,u,l){let d=u.batch,h=d.keys(),p=w.resolve();return h.forEach(v=>{p=p.next(()=>l.getEntry(c,v)).next(D=>{let E=u.docVersions.get(v);we(E!==null),D.version.compareTo(E)<0&&(d.applyToRemoteDocument(D,u),D.isValidDocument()&&(D.setReadTime(u.commitVersion),l.addEntry(D)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ne();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Eb(t){let e=G(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function aU(t,e){let n=G(t),r=e.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;let a=[];e.targetChanges.forEach((l,d)=>{let h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,l.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Ct.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):l.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(l.resumeToken,r)),i=i.insert(d,p),function(D,E,b){return D.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,l)&&a.push(n.Qr.updateTargetData(s,p))});let c=ir(),u=ne();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(cU(s,o,e.documentUpdates).next(l=>{c=l.cs,u=l.ls})),!r.isEqual(q.min())){let l=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return w.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.ns=i,s))}function cU(t,e,n){let r=ne(),i=ne();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ir();return n.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(q.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):T("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{cs:o,ls:i}})}function uU(t,e){let n=G(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lU(t,e){let n=G(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,w.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new tc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}function mv(t,e,n){return y(this,null,function*(){let r=G(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!lc(o))throw o;T("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)})}function MT(t,e,n){let r=G(t),i=q.min(),s=ne();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,l){let d=G(c),h=d.rs.get(l);return h!==void 0?w.resolve(d.ns.get(h)):d.Qr.getTargetData(u,l)}(r,o,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:q.min(),n?s:ne())).next(a=>(dU(r,b2(e),a),{documents:a,hs:s})))}function dU(t,e,n){let r=t.ss.get(e)||q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}var Sd=class{constructor(){this.activeTargetIds=N2()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var gv=class{constructor(){this.no=new Sd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Sd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var yv=class{io(e){}shutdown(){}};var Ad=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ld=null;function ay(){return ld===null?ld=function(){return 268435456+Math.round(2147483648*Math.random())}():ld++,"0x"+ld.toString(16)}var hU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var vv=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}};var ft="WebChannelConnection",_v=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){let a=ay(),c=this.bo(n,r.toUriEncodedString());T("RestConnection",`Sending RPC '${n}' ${a}:`,c,i);let u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,c,u,i).then(l=>(T("RestConnection",`Received RPC '${n}' ${a}: `,l),l),l=>{throw Hs("RestConnection",`RPC '${n}' ${a} failed with error: `,l,"url: ",c,"request:",i),l})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+no}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){let i=hU[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){let s=ay();return new Promise((o,a)=>{let c=new cT;c.setWithCredentials(!0),c.listenOnce(oT.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case cd.NO_ERROR:let l=c.getResponseJson();T(ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case cd.TIMEOUT:T(ft,`RPC '${e}' ${s} timed out`),a(new A(_.DEADLINE_EXCEEDED,"Request time out"));break;case cd.HTTP_ERROR:let d=c.getStatus();if(T(ft,`RPC '${e}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);let p=h?.error;if(p&&p.status&&p.message){let v=function(E){let b=E.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(b)>=0?b:_.UNKNOWN}(p.status);a(new A(v,p.message))}else a(new A(_.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new A(_.UNAVAILABLE,"Connection failed."));break;default:V()}}finally{T(ft,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);T(ft,`RPC '${e}' ${s} sending request:`,i),c.send(n,"POST",u,r,15)})}Fo(e,n,r){let i=ay(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iT(),a=sT(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;let l=s.join("");T(ft,`Creating RPC '${e}' stream ${i}: ${l}`,c);let d=o.createWebChannel(l,c),h=!1,p=!1,v=new vv({lo:E=>{p?T(ft,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(h||(T(ft,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),T(ft,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},ho:()=>d.close()}),D=(E,b,W)=>{E.listen(b,Z=>{try{W(Z)}catch(K){setTimeout(()=>{throw K},0)}})};return D(d,Ha.EventType.OPEN,()=>{p||T(ft,`RPC '${e}' stream ${i} transport opened.`)}),D(d,Ha.EventType.CLOSE,()=>{p||(p=!0,T(ft,`RPC '${e}' stream ${i} transport closed`),v.Vo())}),D(d,Ha.EventType.ERROR,E=>{p||(p=!0,Hs(ft,`RPC '${e}' stream ${i} transport errored:`,E),v.Vo(new A(_.UNAVAILABLE,"The operation could not be completed")))}),D(d,Ha.EventType.MESSAGE,E=>{var b;if(!p){let W=E.data[0];we(!!W);let Z=W,K=Z.error||((b=Z[0])===null||b===void 0?void 0:b.error);if(K){T(ft,`RPC '${e}' stream ${i} received error:`,K);let Ee=K.status,oe=function(Or){let Ec=Fe[Or];if(Ec!==void 0)return db(Ec)}(Ee),mt=K.message;oe===void 0&&(oe=_.INTERNAL,mt="Unknown error status: "+Ee+" with message "+K.message),p=!0,v.Vo(new A(oe,mt)),d.close()}else T(ft,`RPC '${e}' stream ${i} received:`,W),v.mo(W)}}),D(a,aT.STAT_EVENT,E=>{E.stat===sy.PROXY?T(ft,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===sy.NOPROXY&&T(ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.Ro()},0),v}};function cy(){return typeof document<"u"?document:null}function Yd(t){return new Gy(t,!0)}var xd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();let n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}};var Rd=class{constructor(e,n,r,i,s,o,a,c){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new xd(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}stop(){return y(this,null,function*(){this.Ho()&&(yield this.close(0))})}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}e_(){return y(this,null,function*(){if(this.Jo())return this.close(0)})}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}close(e,n){return y(this,null,function*(){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(kn(n.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===_.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.To(n)})}i_(){}auth(){this.state=1;let e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{let i=new A(_.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){let r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(()=>y(this,null,function*(){this.state=0,this.start()}))}__(e){return T("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Ev=class extends Rd{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();let n=W2(this.serializer,e),r=function(s){if(!("targetChange"in s))return q.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?q.min():o.readTime?Pn(o.readTime):q.min()}(e);return this.listener.u_(n,r)}c_(e){let n={};n.database=Qy(this.serializer),n.addTarget=function(s,o){let a,c=o.target;if(a=ky(c)?{documents:Y2(s,c)}:{query:Z2(s,c).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=hb(s,o.resumeToken);let u=zy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(q.min())>0){a.readTime=Td(s,o.snapshotVersion.toTimestamp());let u=zy(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=X2(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){let n={};n.database=Qy(this.serializer),n.removeTarget=e,this.t_(n)}},Iv=class extends Rd{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();let n=Q2(e.writeResults,e.commitTime),r=Pn(e.commitTime);return this.listener.T_(r,n)}return we(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){let e={};e.database=Qy(this.serializer),this.t_(e)}I_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>K2(this.serializer,r))};this.t_(n)}};var wv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new A(_.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,Wy(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new A(_.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,Wy(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new A(_.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}};var Dv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(kn(n),this.g_=!1):T("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}};var Cv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(()=>y(this,null,function*(){Oi(this)&&(T("RemoteStore","Restarting streams for network reachability change."),yield function(c){return y(this,null,function*(){let u=G(c);u.v_.add(4),yield dc(u),u.x_.set("Unknown"),u.v_.delete(4),yield Zd(u)})}(this))}))}),this.x_=new Dv(r,i)}};function Zd(t){return y(this,null,function*(){if(Oi(t))for(let e of t.F_)yield e(!0)})}function dc(t){return y(this,null,function*(){for(let e of t.F_)yield e(!1)})}function Ib(t,e){let n=G(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),n_(n)?t_(n):ro(n).Jo()&&e_(n,e))}function wb(t,e){let n=G(t),r=ro(n);n.C_.delete(e),r.Jo()&&Db(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Oi(n)&&n.x_.set("Unknown"))}function e_(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(q.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ro(t).c_(e)}function Db(t,e){t.O_.Oe(e),ro(t).l_(e)}function t_(t){t.O_=new qy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ro(t).start(),t.x_.p_()}function n_(t){return Oi(t)&&!ro(t).Ho()&&t.C_.size>0}function Oi(t){return G(t).v_.size===0}function Cb(t){t.O_=void 0}function fU(t){return y(this,null,function*(){t.C_.forEach((e,n)=>{e_(t,e)})})}function pU(t,e){return y(this,null,function*(){Cb(t),n_(t)?(t.x_.S_(e),t_(t)):t.x_.set("Unknown")})}function mU(t,e,n){return y(this,null,function*(){if(t.x_.set("Online"),e instanceof Dd&&e.state===2&&e.cause)try{yield function(i,s){return y(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.C_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))})}(t,e)}catch(r){T("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Md(t,r)}else if(e instanceof Bs?t.O_.$e(e):e instanceof wd?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(q.min()))try{let r=yield Eb(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.O_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let l=s.C_.get(u);l&&s.C_.set(u,l.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{let l=s.C_.get(c);if(!l)return;s.C_.set(c,l.withResumeToken(Ct.EMPTY_BYTE_STRING,l.snapshotVersion)),Db(s,c);let d=new tc(l.target,c,u,l.sequenceNumber);e_(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){T("RemoteStore","Failed to raise snapshot:",r),yield Md(t,r)}})}function Md(t,e,n){return y(this,null,function*(){if(!lc(e))throw e;t.v_.add(1),yield dc(t),t.x_.set("Offline"),n||(n=()=>Eb(t.localStore)),t.asyncQueue.enqueueRetryable(()=>y(this,null,function*(){T("RemoteStore","Retrying IndexedDB access"),yield n(),t.v_.delete(1),yield Zd(t)}))})}function Tb(t,e){return e().catch(n=>Md(t,n,e))}function Jd(t){return y(this,null,function*(){let e=G(t),n=Nr(e),r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;gU(e);)try{let i=yield uU(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,yU(e,i)}catch(i){yield Md(e,i)}bb(e)&&Sb(e)})}function gU(t){return Oi(t)&&t.D_.length<10}function yU(t,e){t.D_.push(e);let n=Nr(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function bb(t){return Oi(t)&&!Nr(t).Ho()&&t.D_.length>0}function Sb(t){Nr(t).start()}function vU(t){return y(this,null,function*(){Nr(t).d_()})}function _U(t){return y(this,null,function*(){let e=Nr(t);for(let n of t.D_)e.I_(n.mutations)})}function EU(t,e,n){return y(this,null,function*(){let r=t.D_.shift(),i=jy.from(r,e,n);yield Tb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Jd(t)})}function IU(t,e){return y(this,null,function*(){e&&Nr(t).P_&&(yield function(r,i){return y(this,null,function*(){if(function(o){return U2(o)&&o!==_.ABORTED}(i.code)){let s=r.D_.shift();Nr(r).Zo(),yield Tb(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Jd(r)}})}(t,e)),bb(t)&&Sb(t)})}function NT(t,e){return y(this,null,function*(){let n=G(t);n.asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials");let r=Oi(n);n.v_.add(3),yield dc(n),r&&n.x_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),yield Zd(n)})}function wU(t,e){return y(this,null,function*(){let n=G(t);e?(n.v_.delete(2),yield Zd(n)):e||(n.v_.add(2),yield dc(n),n.x_.set("Unknown"))})}function ro(t){return t.N_||(t.N_=function(n,r,i){let s=G(n);return s.R_(),new Ev(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:fU.bind(null,t),To:pU.bind(null,t),u_:mU.bind(null,t)}),t.F_.push(e=>y(this,null,function*(){e?(t.N_.Zo(),n_(t)?t_(t):t.x_.set("Unknown")):(yield t.N_.stop(),Cb(t))}))),t.N_}function Nr(t){return t.B_||(t.B_=function(n,r,i){let s=G(n);return s.R_(),new Iv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:vU.bind(null,t),To:IU.bind(null,t),E_:_U.bind(null,t),T_:EU.bind(null,t)}),t.F_.push(e=>y(this,null,function*(){e?(t.B_.Zo(),yield Jd(t)):(yield t.B_.stop(),t.D_.length>0&&(T("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))}))),t.B_}var Tv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new A(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function r_(t,e){if(kn("AsyncQueue",`${e}: ${t}`),lc(t))return new A(_.UNAVAILABLE,`${e}: ${t}`);throw t}var Nd=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Ga(),this.sortedSet=new Re(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Pd=class{constructor(){this.L_=new Re(M.comparator)}track(e){let n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):V():this.L_=this.L_.insert(n,e)}k_(){let e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}},Xs=class t{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Nd.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var bv=class{constructor(){this.q_=void 0,this.Q_=[]}},Sv=class{constructor(){this.queries=new Mr(e=>JT(e),Kd),this.onlineState="Unknown",this.K_=new Set}};function Ab(t,e){return y(this,null,function*(){let n=G(t),r=e.query,i=!1,s=n.queries.get(r);if(s||(i=!0,s=new bv),i)try{s.q_=yield n.onListen(r)}catch(o){let a=r_(o,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&i_(n)})}function xb(t,e){return y(this,null,function*(){let n=G(t),r=e.query,i=!1,s=n.queries.get(r);if(s){let o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)})}function DU(t,e){let n=G(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&i_(n)}function CU(t,e,n){let r=G(t),i=r.queries.get(e);if(i)for(let s of i.Q_)s.onError(n);r.queries.delete(e)}function i_(t){t.K_.forEach(e=>{e.next()})}var kd=class{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Xs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;let r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;let n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Xs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}};var Od=class{constructor(e){this.key=e}},Fd=class{constructor(e){this.key=e}},Av=class{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=ne(),this.mutatedKeys=ne(),this.ua=XT(e),this.ca=new Nd(this.ua)}get la(){return this.oa}ha(e,n){let r=n?n.Pa:new Pd,i=n?n.ca:this.ca,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{let h=i.get(l),p=Qd(this.query,d)?d:null,v=!!h&&this.mutatedKeys.has(h.key),D=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),E=!1;h&&p?h.data.isEqual(p.data)?v!==D&&(r.track({type:3,doc:p}),E=!0):this.Ia(h,p)||(r.track({type:2,doc:p}),E=!0,(c&&this.ua(p,c)>0||u&&this.ua(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),E=!0):h&&!p&&(r.track({type:1,doc:h}),E=!0,(c||u)&&(a=!0)),E&&(p?(o=o.add(p),s=D?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;let o=e.Pa.k_();o.sort((l,d)=>function(p,v){let D=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return V()}};return D(p)-D(v)}(l.type,d.type)||this.ua(l.doc,d.doc)),this.Ta(r),i=i!=null&&i;let a=n&&!i?this.Ea():[],c=this.aa.size===0&&this.current&&!i?1:0,u=c!==this._a;return this._a=c,o.length!==0||u?{snapshot:new Xs(this.query,e.ca,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new Pd,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];let e=this.aa;this.aa=ne(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});let n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new Fd(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new Od(r))}),n}Ra(e){this.oa=e.hs,this.aa=ne();let n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Xs.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}},xv=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Rv=class{constructor(e){this.key=e,this.ma=!1}},Mv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Mr(a=>JT(a),Kd),this.pa=new Map,this.ya=new Set,this.wa=new Re(M.comparator),this.Sa=new Map,this.ba=new rc,this.Da={},this.Ca=new Map,this.va=nc.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}};function TU(t,e){return y(this,null,function*(){let n=OU(t),r,i,s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{let o=yield lU(n.localStore,Mn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield bU(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Ib(n.remoteStore,o)}return i})}function bU(t,e,n,r,i){return y(this,null,function*(){t.Ma=(d,h,p)=>function(D,E,b,W){return y(this,null,function*(){let Z=E.view.ha(b);Z.Xi&&(Z=yield MT(D.localStore,E.query,!1).then(({documents:mt})=>E.view.ha(mt,Z)));let K=W&&W.targetChanges.get(E.targetId),Ee=W&&W.targetMismatches.get(E.targetId)!=null,oe=E.view.applyChanges(Z,D.isPrimaryClient,K,Ee);return kT(D,E.targetId,oe.da),oe.snapshot})}(t,d,h,p);let s=yield MT(t.localStore,e,!0),o=new Av(e,s.hs),a=o.ha(s.documents),c=ec.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);kT(t,n,u.da);let l=new xv(e,n,o);return t.ga.set(e,l),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot})}function SU(t,e){return y(this,null,function*(){let n=G(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Kd(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield mv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),wb(n.remoteStore,r.targetId),Nv(n,r.targetId)}).catch(uc))):(Nv(n,r.targetId),yield mv(n.localStore,r.targetId,!0))})}function AU(t,e,n){return y(this,null,function*(){let r=FU(t);try{let i=yield function(o,a){let c=G(o),u=Xe.now(),l=a.reduce((p,v)=>p.add(v.key),ne()),d,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let v=ir(),D=ne();return c.os.getEntries(p,l).next(E=>{v=E,v.forEach((b,W)=>{W.isValidDocument()||(D=D.add(b))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,v)).next(E=>{d=E;let b=[];for(let W of a){let Z=L2(W,d.get(W.key).overlayedDocument);Z!=null&&b.push(new Fn(W.key,Z,GT(Z.value.mapValue),Nn.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,b,a)}).next(E=>{h=E;let b=E.applyToLocalDocumentSet(d,D);return c.documentOverlayCache.saveOverlays(p,E.batchId,b)})}).then(()=>({batchId:h.batchId,changes:tb(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Da[o.currentUser.toKey()];u||(u=new Re(ue)),u=u.insert(a,c),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),yield hc(r,i.changes),yield Jd(r.remoteStore)}catch(i){let s=r_(i,"Failed to persist write");n.reject(s)}})}function Rb(t,e){return y(this,null,function*(){let n=G(t);try{let r=yield aU(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Sa.get(s);o&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?we(o.ma):i.removedDocuments.size>0&&(we(o.ma),o.ma=!1))}),yield hc(n,r,e)}catch(r){yield uc(r)}})}function PT(t,e,n){let r=G(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ga.forEach((s,o)=>{let a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let c=G(o);c.onlineState=a;let u=!1;c.queries.forEach((l,d)=>{for(let h of d.Q_)h.U_(a)&&(u=!0)}),u&&i_(c)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function xU(t,e,n){return y(this,null,function*(){let r=G(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Sa.get(e),s=i&&i.key;if(s){let o=new Re(M.comparator);o=o.insert(s,dn.newNoDocument(s,q.min()));let a=ne().add(s),c=new Id(q.min(),new Map,new Re(ue),o,a);yield Rb(r,c),r.wa=r.wa.remove(s),r.Sa.delete(e),s_(r)}else yield mv(r.localStore,e,!1).then(()=>Nv(r,e,n)).catch(uc)})}function RU(t,e){return y(this,null,function*(){let n=G(t),r=e.batch.batchId;try{let i=yield oU(n.localStore,e);Nb(n,r,null),Mb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield hc(n,i)}catch(i){yield uc(i)}})}function MU(t,e,n){return y(this,null,function*(){let r=G(t);try{let i=yield function(o,a){let c=G(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let l;return c.mutationQueue.lookupMutationBatch(u,a).next(d=>(we(d!==null),l=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,l,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,l)).next(()=>c.localDocuments.getDocuments(u,l))})}(r.localStore,e);Nb(r,e,n),Mb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield hc(r,i)}catch(i){yield uc(i)}})}function Mb(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function Nb(t,e,n){let r=G(t),i=r.Da[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function Nv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||Pb(t,r)})}function Pb(t,e){t.ya.delete(e.path.canonicalString());let n=t.wa.get(e);n!==null&&(wb(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),s_(t))}function kT(t,e,n){for(let r of n)r instanceof Od?(t.ba.addReference(r.key,e),NU(t,r)):r instanceof Fd?(T("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||Pb(t,r.key)):V()}function NU(t,e){let n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(T("SyncEngine","New document in limbo: "+n),t.ya.add(r),s_(t))}function s_(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){let e=t.ya.values().next().value;t.ya.delete(e);let n=new M(be.fromString(e)),r=t.va.next();t.Sa.set(r,new Rv(n)),t.wa=t.wa.insert(n,r),Ib(t.remoteStore,new tc(Mn(Jv(n.path)),r,"TargetPurposeLimboResolution",$T._e))}}function hc(t,e,n){return y(this,null,function*(){let r=G(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,c)=>{o.push(r.Ma(c,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);let l=dv.Ki(c.targetId,u);s.push(l)}}))}),yield Promise.all(o),r.fa.u_(i),yield function(c,u){return y(this,null,function*(){let l=G(c);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>w.forEach(u,h=>w.forEach(h.qi,p=>l.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>w.forEach(h.Qi,p=>l.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!lc(d))throw d;T("LocalStore","Failed to update sequence numbers: "+d)}for(let d of u){let h=d.targetId;if(!d.fromCache){let p=l.ns.get(h),v=p.snapshotVersion,D=p.withLastLimboFreeSnapshotVersion(v);l.ns=l.ns.insert(h,D)}}})}(r.localStore,s))})}function PU(t,e){return y(this,null,function*(){let n=G(t);if(!n.currentUser.isEqual(e)){T("SyncEngine","User change. New user:",e.toKey());let r=yield _b(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(c=>{c.reject(new A(_.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield hc(n,r.us)}})}function kU(t,e){let n=G(t),r=n.Sa.get(e);if(r&&r.ma)return ne().add(r.key);{let i=ne(),s=n.pa.get(e);if(!s)return i;for(let o of s){let a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function OU(t){let e=G(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Rb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xU.bind(null,e),e.fa.u_=DU.bind(null,e.eventManager),e.fa.xa=CU.bind(null,e.eventManager),e}function FU(t){let e=G(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MU.bind(null,e),e}var Vd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return y(this,null,function*(){this.serializer=Yd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return sU(this.persistence,new fv,e.initialUser,this.serializer)}createPersistence(e){return new cv(lv.Hr,this.serializer)}createSharedClientState(e){return new gv}terminate(){return y(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Pv=class{initialize(e,n){return y(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>PT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PU.bind(null,this.syncEngine),yield wU(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Sv}()}createDatastore(e){let n=Yd(e.databaseInfo.databaseId),r=function(s){return new _v(s)}(e.databaseInfo);return function(s,o,a,c){return new wv(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Cv(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>PT(this.syncEngine,n,0),function(){return Ad.D()?new Ad:new yv}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,l){let d=new Mv(i,s,o,a,c,u);return l&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return y(this,null,function*(){var e;yield function(r){return y(this,null,function*(){let i=G(r);T("RemoteStore","RemoteStore shutting down."),i.v_.add(5),yield dc(i),i.M_.shutdown(),i.x_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Ld=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):kn("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var kv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ge.UNAUTHENTICATED,this.clientId=pd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>y(this,null,function*(){T("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(T("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>y(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=r_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function uy(t,e){return y(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>y(this,null,function*(){r.isEqual(i)||(yield _b(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function OT(t,e){return y(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield LU(t);T("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>NT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>NT(e.remoteStore,i)),t._onlineComponents=e})}function VU(t){return t.name==="FirebaseError"?t.code===_.FAILED_PRECONDITION||t.code===_.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function LU(t){return y(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){T("FirestoreClient","Using user provided OfflineComponentProvider");try{yield uy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!VU(n))throw n;Hs("Error using user provided cache. Falling back to memory cache: "+n),yield uy(t,new Vd)}}else T("FirestoreClient","Using default OfflineComponentProvider"),yield uy(t,new Vd);return t._offlineComponents})}function kb(t){return y(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(T("FirestoreClient","Using user provided OnlineComponentProvider"),yield OT(t,t._uninitializedComponentsProvider._online)):(T("FirestoreClient","Using default OnlineComponentProvider"),yield OT(t,new Pv))),t._onlineComponents})}function UU(t){return kb(t).then(e=>e.syncEngine)}function Ov(t){return y(this,null,function*(){let e=yield kb(t),n=e.eventManager;return n.onListen=TU.bind(null,e.syncEngine),n.onUnlisten=SU.bind(null,e.syncEngine),n})}function jU(t,e,n={}){let r=new ln;return t.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return function(s,o,a,c,u){let l=new Ld({next:h=>{o.enqueueAndForget(()=>xb(s,d)),h.fromCache&&c.source==="server"?u.reject(new A(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new kd(a,l,{includeMetadataChanges:!0,Z_:!0});return Ab(s,d)}(yield Ov(t),t.asyncQueue,e,n,r)})),r.promise}function Ob(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var FT=new Map;function Fb(t,e,n){if(!n)throw new A(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BU(t,e,n,r){if(e===!0&&r===!0)throw new A(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VT(t){if(!M.isDocumentKey(t))throw new A(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function LT(t){if(M.isDocumentKey(t))throw new A(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Xd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":V()}function Yt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new A(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Xd(t);throw new A(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Ud=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new A(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new A(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ob((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new A(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new A(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new A(_.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},eo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ud({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new A(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new A(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ud(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ly;switch(r.type){case"firstParty":return new py(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new A(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=FT.get(n);r&&(T("ComponentProvider","Removing Datastore"),FT.delete(n),r.terminate())}(this),Promise.resolve()}};function Vb(t,e,n,r={}){var i;let s=(t=Yt(t,eo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=Ge.MOCK_USER;else{a=pl(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new A(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ge(u)}t._authCredentials=new dy(new fd(a,c))}}var Pi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Dt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Ar=class t extends Pi{constructor(e,n,r){super(e,n,Jv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new M(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Lb(t,e,...n){if(t=$e(t),Fb("collection","path",e),t instanceof eo){let r=be.fromString(e,...n);return LT(r),new Ar(t,null,r)}{if(!(t instanceof Dt||t instanceof Ar))throw new A(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(be.fromString(e,...n));return LT(r),new Ar(t.firestore,null,r)}}function o_(t,e,...n){if(t=$e(t),arguments.length===1&&(e=pd.newId()),Fb("doc","path",e),t instanceof eo){let r=be.fromString(e,...n);return VT(r),new Dt(t,null,new M(r))}{if(!(t instanceof Dt||t instanceof Ar))throw new A(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(be.fromString(e,...n));return VT(r),new Dt(t.firestore,t instanceof Ar?t.converter:null,new M(r))}}var Fv=class{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new xd(this,"async_queue_retry"),this._u=()=>{let n=cy();n&&T("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};let e=cy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;let n=cy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});let n=new ln;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}cu(){return y(this,null,function*(){if(this.eu.length!==0){try{yield this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!lc(e))throw e;T("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}})}uu(e){let n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw kn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);let i=Tv.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&V()}verifyOperationInProgress(){}hu(){return y(this,null,function*(){let e;do e=this.Xa,yield e;while(e!==this.Xa)})}Pu(e){for(let n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){let n=this.nu.indexOf(e);this.nu.splice(n,1)}};function UT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Vn=class extends eo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Fv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jb(this),this._firestoreClient.terminate()}};function Ub(t,e){let n=typeof t=="object"?t:ci(),r=typeof t=="string"?t:e||"(default)",i=ya(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=fl("firestore");s&&Vb(i,...s)}return i}function a_(t){return t._firestoreClient||jb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jb(t){var e,n,r;let i=t._freezeSettings(),s=function(a,c,u,l){return new wy(a,c,u,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Ob(l.experimentalLongPollingOptions),l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new kv(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var ic=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ct.fromBase64String(e))}catch(n){throw new A(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var to=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new A(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var sc=class{constructor(e){this._methodName=e}};var oc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new A(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new A(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}};var $U=/^__.*__$/,Vv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ni(e,this.data,n,this.fieldTransforms)}},jd=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function Bb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw V()}}var Lv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return $d(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(Bb(this.du)&&$U.test(e))throw this.pu('Document fields cannot begin and end with "__"')}},Uv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yd(e)}Su(e,n,r,i=!1){return new Lv({du:e,methodName:n,wu:r,path:Lt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function eh(t){let e=t._freezeSettings(),n=Yd(t._databaseId);return new Uv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $b(t,e,n,r,i,s={}){let o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);c_("Data must be an object, but it was:",o,r);let a=Hb(r,o),c,u;if(s.merge)c=new Qt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let d of s.mergeFields){let h=jv(e,d,n);if(!o.contains(h))throw new A(_.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Gb(l,h)||l.push(h)}c=new Qt(l),u=o.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=o.fieldTransforms;return new Vv(new Vt(a),c,u)}var Bd=class t extends sc{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function HU(t,e,n,r){let i=t.Su(1,e,n);c_("Data must be an object, but it was:",i,r);let s=[],o=Vt.empty();ki(r,(c,u)=>{let l=u_(e,c,n);u=$e(u);let d=i.fu(l);if(u instanceof Bd)s.push(l);else{let h=fc(u,d);h!=null&&(s.push(l),o.set(l,h))}});let a=new Qt(s);return new jd(o,a,i.fieldTransforms)}function qU(t,e,n,r,i,s){let o=t.Su(1,e,n),a=[jv(e,r,n)],c=[i];if(s.length%2!=0)throw new A(_.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(jv(e,s[h])),c.push(s[h+1]);let u=[],l=Vt.empty();for(let h=a.length-1;h>=0;--h)if(!Gb(u,a[h])){let p=a[h],v=c[h];v=$e(v);let D=o.fu(p);if(v instanceof Bd)u.push(p);else{let E=fc(v,D);E!=null&&(u.push(p),l.set(p,E))}}let d=new Qt(u);return new jd(l,d,o.fieldTransforms)}function GU(t,e,n,r=!1){return fc(n,t.Su(r?4:3,e))}function fc(t,e){if(qb(t=$e(t)))return c_("Unsupported field value:",e,t),Hb(t,e);if(t instanceof sc)return function(r,i){if(!Bb(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let c=fc(a,i.gu(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=$e(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return P2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Xe.fromDate(r);return{timestampValue:Td(i.serializer,s)}}if(r instanceof Xe){let s=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Td(i.serializer,s)}}if(r instanceof oc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ic)return{bytesValue:hb(i.serializer,r._byteString)};if(r instanceof Dt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Xv(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Xd(r)}`)}(t,e)}function Hb(t,e){let n={};return HT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(t,(r,i)=>{let s=fc(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function qb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof oc||t instanceof ic||t instanceof Dt||t instanceof sc)}function c_(t,e,n){if(!qb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Xd(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function jv(t,e,n){if((e=$e(e))instanceof to)return e._internalPath;if(typeof e=="string")return u_(t,e);throw $d("Field path arguments must be of type string or ",t,!1,void 0,n)}var zU=new RegExp("[~\\*/\\[\\]]");function u_(t,e,n){if(e.search(zU)>=0)throw $d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new to(...e.split("."))._internalPath}catch{throw $d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function $d(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new A(_.INVALID_ARGUMENT,a+t+c)}function Gb(t,e){return t.some(n=>n.isEqual(e))}var Hd=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Bv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(l_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Bv=class extends Hd{data(){return super.data()}};function l_(t,e){return typeof e=="string"?u_(t,e):e instanceof to?e._internalPath:e._delegate._internalPath}function zb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new A(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ac=class{},$v=class extends ac{};function Wb(t,e,...n){let r=[];e instanceof ac&&r.push(e),r=r.concat(n),function(s){let o=s.filter(c=>c instanceof Hv).length,a=s.filter(c=>c instanceof qd).length;if(o>1||o>0&&a>0)throw new A(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var qd=class t extends $v{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return Qb(e._query,n),new Pi(e.firestore,e.converter,Oy(e._query,n))}_parse(e){let n=eh(e.firestore);return function(s,o,a,c,u,l,d){let h;if(u.isKeyField()){if(l==="array-contains"||l==="array-contains-any")throw new A(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${l}' queries on documentId().`);if(l==="in"||l==="not-in"){BT(d,l);let p=[];for(let v of d)p.push(jT(c,s,v));h={arrayValue:{values:p}}}else h=jT(c,s,d)}else l!=="in"&&l!=="not-in"&&l!=="array-contains-any"||BT(d,l),h=GU(a,o,d,l==="in"||l==="not-in");return Le.create(u,l,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function Kb(t,e,n){let r=e,i=l_("where",t);return qd._create(i,r,n)}var Hv=class t extends ac{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let c of a)Qb(o,c),o=Oy(o,c)}(e._query,n),new Pi(e.firestore,e.converter,Oy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function jT(t,e,n){if(typeof(n=$e(n))=="string"){if(n==="")throw new A(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZT(e)&&n.indexOf("/")!==-1)throw new A(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(be.fromString(n));if(!M.isDocumentKey(r))throw new A(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return pT(t,new M(r))}if(n instanceof Dt)return pT(t,n._key);throw new A(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xd(n)}.`)}function BT(t,e){if(!Array.isArray(t)||t.length===0)throw new A(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Qb(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new A(_.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new A(_.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var qv=class{convertValue(e,n="none"){switch(Ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw V()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ki(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new oc(xe(e.latitude),xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Kv(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Za(e));default:return null}}convertTimestamp(e){let n=xr(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=be.fromString(e);we(vb(r));let i=new _d(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||kn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function Yb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Ci=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Gd=class extends Hd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new $s(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(l_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},$s=class extends Gd{data(e={}){return super.data(e)}},zd=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ci(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new $s(this._firestore,this._userDataWriter,r.key,r,new Ci(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new A(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let c=new $s(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ci(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let c=new $s(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ci(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,l=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),l=o.indexOf(a.doc.key)),{type:WU(a.type),doc:c,oldIndex:u,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function WU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return V()}}var cc=class extends qv{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}};function Zb(t){t=Yt(t,Pi);let e=Yt(t.firestore,Vn),n=a_(e),r=new cc(e);return zb(t._query),jU(n,t._query).then(i=>new zd(e,r,t,i))}function Jb(t,e,n){t=Yt(t,Dt);let r=Yt(t.firestore,Vn),i=Yb(t.converter,e,n);return th(r,[$b(eh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Nn.none())])}function Xb(t,e,n,...r){t=Yt(t,Dt);let i=Yt(t.firestore,Vn),s=eh(i),o;return o=typeof(e=$e(e))=="string"||e instanceof to?qU(s,"updateDoc",t._key,e,n,r):HU(s,"updateDoc",t._key,e),th(i,[o.toMutation(t._key,Nn.exists(!0))])}function eS(t){return th(Yt(t.firestore,Vn),[new Xa(t._key,Nn.none())])}function tS(t,e){let n=Yt(t.firestore,Vn),r=o_(t),i=Yb(t.converter,e);return th(n,[$b(eh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Nn.exists(!1))]).then(()=>r)}function nS(t,...e){var n,r,i;t=$e(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||UT(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(UT(e[o])){let d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let c,u,l;if(t instanceof Dt)u=Yt(t.firestore,Vn),l=Jv(t._key.path),c={next:d=>{e[o]&&e[o](KU(u,t,d))},error:e[o+1],complete:e[o+2]};else{let d=Yt(t,Pi);u=Yt(d.firestore,Vn),l=d._query;let h=new cc(u);c={next:p=>{e[o]&&e[o](new zd(u,h,d,p))},error:e[o+1],complete:e[o+2]},zb(t._query)}return function(h,p,v,D){let E=new Ld(D),b=new kd(p,E,v);return h.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return Ab(yield Ov(h),b)})),()=>{E.La(),h.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return xb(yield Ov(h),b)}))}}(a_(u),l,a,c)}function th(t,e){return function(r,i){let s=new ln;return r.asyncQueue.enqueueAndForget(()=>y(this,null,function*(){return AU(yield UU(r),i,s)})),s.promise}(a_(t),e)}function KU(t,e,n){let r=n.docs.get(e._key),i=new cc(t);return new Gd(t,i,e._key,r,new Ci(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){no=i})(Dr),Tn(new Mt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Vn(new hy(r.getProvider("auth-internal")),new gy(r.getProvider("app-check-internal")),function(u,l){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new A(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _d(u.options.projectId,l)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Te(lT,"4.4.1",e),Te(lT,"4.4.1","esm2017")})();var fn=class{constructor(e){return e}},rS="firestore",d_=class{constructor(){return di(rS)}};var h_=new O("angularfire2.firestore-instances");function QU(t,e){let n=va(rS,t,e);return n&&new fn(n)}function YU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new fn(r)}}var ZU={provide:d_,deps:[[new Et,h_]]},JU={provide:fn,useFactory:QU,deps:[[new Et,h_],tr]},XU=(()=>{class t{constructor(){Te("angularfire",Cr.full,"fst")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=_t({type:t});static \u0275inj=vt({providers:[JU,ZU]})}return t})();function iS(t,...e){return{ngModule:XU,providers:[{provide:h_,useFactory:YU(t),multi:!0,deps:[ye,xt,hi,fi,[new Et,Rs],[new Et,li],...e]}]}}var sS=lt(tS,!0);var nh=lt(Lb,!0);var oS=lt(eS,!0);var rh=lt(o_,!0);var f_=lt(Zb,!0);var ih=lt(Ub,!0);var sh=lt(nS,!0);var aS=lt(Wb,!0);var cS=lt(Jb,!0);var uS=lt(Xb,!0);var lS=lt(Kb,!0);var gS="firebasestorage.googleapis.com",tj="storageBucket",nj=2*60*1e3,rj=10*60*1e3;var Ln=class t extends Rt{constructor(e,n,r=0){super(p_(e),`Firebase Storage: ${n} (${p_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return p_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},or=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(or||{});function p_(t){return"storage/"+t}function ij(){let t="An unknown error occurred, please check the error payload for server response.";return new Ln(or.UNKNOWN,t)}function sj(){return new Ln(or.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function oj(){return new Ln(or.CANCELED,"User canceled the upload/download.")}function aj(t){return new Ln(or.INVALID_URL,"Invalid URL '"+t+"'.")}function cj(t){return new Ln(or.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dS(t){return new Ln(or.INVALID_ARGUMENT,t)}function yS(){return new Ln(or.APP_DELETED,"The Firebase app was deleted.")}function uj(t){return new Ln(or.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var sr=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw cj(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(K){K.path.charAt(K.path.length-1)==="/"&&(K.path_=K.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(K){K.path_=decodeURIComponent(K.path)}let l="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${l}/b/${i}/o${h}`,"i"),v={bucket:1,path:3},D=n===gS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",b=new RegExp(`^https?://${D}/${i}/${E}`,"i"),Z=[{regex:a,indices:c,postModify:s},{regex:p,indices:v,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let K=0;K<Z.length;K++){let Ee=Z[K],oe=Ee.regex.exec(e);if(oe){let mt=oe[Ee.indices.bucket],Ut=oe[Ee.indices.path];Ut||(Ut=""),r=new t(mt,Ut),Ee.postModify(r);break}}if(r==null)throw aj(e);return r}},m_=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function lj(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function l(...E){u||(u=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(p,c())},E)}function h(){s&&clearTimeout(s)}function p(E,...b){if(u){h();return}if(E){h(),l.call(null,E,...b);return}if(c()||o){h(),l.call(null,E,...b);return}r<64&&(r*=2);let Z;a===1?(a=2,Z=0):Z=(r+Math.random())*1e3,d(Z)}let v=!1;function D(E){v||(v=!0,h(),!u&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,D(!0)},n),D}function dj(t){t(!1)}function hj(t){return t!==void 0}function hS(t,e,n,r){if(r<e)throw dS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw dS(`Invalid value for '${t}'. Expected ${n} or less.`)}function fj(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var g_=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(g_||{});function pj(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var y_=class{constructor(e,n,r,i,s,o,a,c,u,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,v)=>{this.resolve_=p,this.reject_=v,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new io(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===g_.NO_ERROR,c=s.getStatus();if(!a||pj(c,this.additionalRetryCodes_)&&this.retry){let l=s.getErrorCode()===g_.ABORT;r(!1,new io(!1,null,l));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new io(u,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());hj(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=ij();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?yS():oj();o(c)}else{let c=sj();o(c)}};this.canceled_?n(!1,new io(!1,null,!0)):this.backoffId_=lj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&dj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},io=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function mj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function gj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function yj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function vj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function _j(t,e,n,r,i,s,o=!0){let a=fj(t.urlParams),c=t.url+a,u=Object.assign({},t.headers);return yj(u,e),mj(u,n),gj(u,s),vj(u,r),new y_(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function Ej(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Ij(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var I8=256*1024;var v_=class t{constructor(e,n){this._service=e,n instanceof sr?this._location=n:this._location=sr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new sr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ij(this._location.path)}get storage(){return this._service}get parent(){let e=Ej(this._location.path);if(e===null)return null;let n=new sr(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uj(e)}};function fS(t,e){let n=e?.[tj];return n==null?null:sr.makeFromBucketSpec(n,t)}function wj(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:pl(i,t.app.options.projectId))}var __=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=gS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nj,this._maxUploadRetryTime=rj,this._requests=new Set,i!=null?this._bucket=sr.makeFromBucketSpec(i,this._host):this._bucket=fS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sr.makeFromBucketSpec(this._url,e):this._bucket=fS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return y(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return y(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new v_(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new m_(yS());{let o=_j(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return y(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},pS="@firebase/storage",mS="0.12.0";var vS="storage";function _S(t=ci(),e){t=$e(t);let r=ya(t,vS).getImmediate({identifier:e}),i=fl("storage");return i&&ES(r,...i),r}function ES(t,e,n,r={}){wj(t,e,n,r)}function Dj(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new __(n,r,i,e,Dr)}function Cj(){Tn(new Mt(vS,Dj,"PUBLIC").setMultipleInstances(!0)),Te(pS,mS,""),Te(pS,mS,"esm2017")}Cj();var pc=class{constructor(e){return e}},IS="storage",E_=class{constructor(){return di(IS)}};var I_=new O("angularfire2.storage-instances");function Tj(t,e){let n=va(IS,t,e);return n&&new pc(n)}function bj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new pc(r)}}var Sj={provide:E_,deps:[[new Et,I_]]},Aj={provide:pc,useFactory:Tj,deps:[[new Et,I_],tr]},xj=(()=>{class t{constructor(){Te("angularfire",Cr.full,"gcs")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=_t({type:t});static \u0275inj=vt({providers:[Aj,Sj]})}return t})();function wS(t,...e){return{ngModule:xj,providers:[{provide:I_,useFactory:bj(t),multi:!0,deps:[ye,xt,hi,fi,[new Et,Rs],[new Et,li],...e]}]}}var DS=lt(_S,!0);var PS=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(R(Gt),R(it))},e.\u0275dir=Ce({type:e});let t=e;return t})(),uo=(()=>{let e=class e extends PS{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Yn(e)))(s||e)}})(),e.\u0275dir=Ce({type:e,features:[Pt]});let t=e;return t})(),Fi=new O("NgValueAccessor"),Rj={provide:Fi,useExisting:sn(()=>T_),multi:!0},T_=(()=>{let e=class e extends uo{writeValue(r){this.setProperty("checked",r)}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Yn(e)))(s||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,s){i&1&&k("change",function(a){return s.onChange(a.target.checked)})("blur",function(){return s.onTouched()})},features:[Zn([Rj]),Pt]});let t=e;return t})(),Mj={provide:Fi,useExisting:sn(()=>kr),multi:!0};function Nj(){let t=Jn()?Jn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var Pj=new O("CompositionEventMode"),kr=(()=>{let e=class e extends PS{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Nj())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(R(Gt),R(it),R(Pj,8))},e.\u0275dir=Ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&k("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Zn([Mj]),Pt]});let t=e;return t})();function Pr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function kS(t){return t!=null&&typeof t.length=="number"}var OS=new O("NgValidators"),FS=new O("NgAsyncValidators"),kj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,et=class{static min(e){return Oj(e)}static max(e){return Fj(e)}static required(e){return Vj(e)}static requiredTrue(e){return Lj(e)}static email(e){return Uj(e)}static minLength(e){return jj(e)}static maxLength(e){return Bj(e)}static pattern(e){return $j(e)}static nullValidator(e){return VS(e)}static compose(e){return HS(e)}static composeAsync(e){return GS(e)}};function Oj(t){return e=>{if(Pr(e.value)||Pr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function Fj(t){return e=>{if(Pr(e.value)||Pr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Vj(t){return Pr(t.value)?{required:!0}:null}function Lj(t){return t.value===!0?null:{required:!0}}function Uj(t){return Pr(t.value)||kj.test(t.value)?null:{email:!0}}function jj(t){return e=>Pr(e.value)||!kS(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function Bj(t){return e=>kS(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function $j(t){if(!t)return VS;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Pr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function VS(t){return null}function LS(t){return t!=null}function US(t){return ei(t)?Se(t):t}function jS(t){let e={};return t.forEach(n=>{e=n!=null?S(S({},e),n):e}),Object.keys(e).length===0?null:e}function BS(t,e){return e.map(n=>n(t))}function Hj(t){return!t.validate}function $S(t){return t.map(e=>Hj(e)?e:n=>e.validate(n))}function HS(t){if(!t)return null;let e=t.filter(LS);return e.length==0?null:function(n){return jS(BS(n,e))}}function qS(t){return t!=null?HS($S(t)):null}function GS(t){if(!t)return null;let e=t.filter(LS);return e.length==0?null:function(n){let r=BS(n,e).map(US);return Oh(r).pipe(ee(jS))}}function zS(t){return t!=null?GS($S(t)):null}function CS(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function WS(t){return t._rawValidators}function KS(t){return t._rawAsyncValidators}function w_(t){return t?Array.isArray(t)?t:[t]:[]}function ch(t,e){return Array.isArray(t)?t.includes(e):t===e}function TS(t,e){let n=w_(e);return w_(t).forEach(i=>{ch(n,i)||n.push(i)}),n}function bS(t,e){return w_(e).filter(n=>!ch(t,n))}var uh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=qS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=zS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},oo=class extends uh{get formDirective(){return null}get path(){return null}},ao=class extends uh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},lh=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},qj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},uK=ae(S({},qj),{"[class.ng-submitted]":"isSubmitted"}),lo=(()=>{let e=class e extends lh{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(R(ao,2))},e.\u0275dir=Ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Lu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Pt]});let t=e;return t})(),ho=(()=>{let e=class e extends lh{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(R(oo,10))},e.\u0275dir=Ce({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Lu("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Pt]});let t=e;return t})();var mc="VALID",oh="INVALID",so="PENDING",gc="DISABLED";function b_(t){return(ph(t)?t.validators:t)||null}function Gj(t){return Array.isArray(t)?qS(t):t||null}function S_(t,e){return(ph(e)?e.asyncValidators:t)||null}function zj(t){return Array.isArray(t)?zS(t):t||null}function ph(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function QS(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new P(1e3,"");if(!r[n])throw new P(1001,"")}function YS(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new P(1002,"")})}var co=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===mc}get invalid(){return this.status===oh}get pending(){return this.status==so}get disabled(){return this.status===gc}get enabled(){return this.status!==gc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(TS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(bS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(bS(e,this._rawAsyncValidators))}hasValidator(e){return ch(this._rawValidators,e)}hasAsyncValidator(e){return ch(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=so,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=gc,this.errors=null,this._forEachChild(r=>{r.disable(ae(S({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ae(S({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=mc,this._forEachChild(r=>{r.enable(ae(S({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ae(S({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===mc||this.status===so)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gc:mc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=so,this._hasOwnPendingAsyncValidator=!0;let n=US(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new je,this.statusChanges=new je}_calculateStatus(){return this._allControlsDisabled()?gc:this.errors?oh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(so)?so:this._anyControlsHaveStatus(oh)?oh:mc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ph(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Gj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=zj(this._rawAsyncValidators)}},dh=class extends co{constructor(e,n,r){super(b_(n),S_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){YS(this,!0,e),Object.keys(e).forEach(r=>{QS(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var D_=class extends dh{};var mh=new O("CallSetDisabledState",{providedIn:"root",factory:()=>yc}),yc="always";function Wj(t,e){return[...e.path,t]}function SS(t,e,n=yc){A_(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Qj(t,e),Zj(t,e),Yj(t,e),Kj(t,e)}function AS(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),fh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function hh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Kj(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function A_(t,e){let n=WS(t);e.validator!==null?t.setValidators(CS(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=KS(t);e.asyncValidator!==null?t.setAsyncValidators(CS(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();hh(e._rawValidators,i),hh(e._rawAsyncValidators,i)}function fh(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=WS(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=KS(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return hh(e._rawValidators,r),hh(e._rawAsyncValidators,r),n}function Qj(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&ZS(t,e)})}function Yj(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&ZS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function ZS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Zj(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Jj(t,e){t==null,A_(t,e)}function Xj(t,e){return fh(t,e)}function eB(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function tB(t){return Object.getPrototypeOf(t.constructor)===uo}function nB(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function rB(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===kr?n=s:tB(s)?r=s:i=s}),i||r||n||null}function iB(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function xS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function RS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ah=class extends co{constructor(e=null,n,r){super(b_(n),S_(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ph(n)&&(n.nonNullable||n.initialValueIsDefault)&&(RS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){RS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var sB=t=>t instanceof ah;var fo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ce({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),oB={provide:Fi,useExisting:sn(()=>x_),multi:!0},x_=(()=>{let e=class e extends uo{writeValue(r){let i=r??"";this.setProperty("value",i)}registerOnChange(r){this.onChange=i=>{r(i==""?null:parseFloat(i))}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Yn(e)))(s||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,s){i&1&&k("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Zn([oB]),Pt]});let t=e;return t})(),aB={provide:Fi,useExisting:sn(()=>R_),multi:!0};var JS=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_t({type:e}),e.\u0275inj=vt({});let t=e;return t})(),cB=(()=>{let e=class e{constructor(){this._accessors=[]}add(r,i){this._accessors.push([r,i])}remove(r){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===r){this._accessors.splice(i,1);return}}select(r){this._accessors.forEach(i=>{this._isSameGroup(i,r)&&i[1]!==r&&i[1].fireUncheck(r.value)})}_isSameGroup(r,i){return r[0].control?r[0]._parent===i._control._parent&&r[1].name===i.name:!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:JS});let t=e;return t})(),R_=(()=>{let e=class e extends uo{constructor(r,i,s,o){super(r,i),this._registry=s,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=x(mh,{optional:!0})??yc}ngOnInit(){this._control=this._injector.get(ao),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(r){this._state=r===this.value,this.setProperty("checked",this._state)}registerOnChange(r){this._fn=r,this.onChange=()=>{r(this.value),this._registry.select(this)}}setDisabledState(r){(this.setDisabledStateFired||r||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",r),this.setDisabledStateFired=!0}fireUncheck(r){this.writeValue(r)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};e.\u0275fac=function(i){return new(i||e)(R(Gt),R(it),R(cB),R(xt))},e.\u0275dir=Ce({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,s){i&1&&k("change",function(){return s.onChange()})("blur",function(){return s.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Zn([aB]),Pt]});let t=e;return t})();var XS=new O("NgModelWithFormControlWarning");var uB={provide:oo,useExisting:sn(()=>Vi)},Vi=(()=>{let e=class e extends oo{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new je,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(fh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return SS(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){AS(r.control||null,r,!1),iB(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,nB(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(AS(i||null,r),sB(s)&&(SS(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);Jj(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&Xj(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){A_(this.form,this),this._oldForm&&fh(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)(R(OS,10),R(FS,10),R(mh,8))},e.\u0275dir=Ce({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&k("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[We.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Zn([uB]),Pt,Qn]});let t=e;return t})();var lB={provide:ao,useExisting:sn(()=>Li)},Li=(()=>{let e=class e extends ao{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new je,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=rB(this,o)}ngOnChanges(r){this._added||this._setUpControl(),eB(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return Wj(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)(R(oo,13),R(OS,10),R(FS,10),R(Fi,10),R(XS,8))},e.\u0275dir=Ce({type:e,selectors:[["","formControlName",""]],inputs:{name:[We.None,"formControlName","name"],isDisabled:[We.None,"disabled","isDisabled"],model:[We.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Zn([lB]),Pt,Qn]});let t=e;return t})(),dB={provide:Fi,useExisting:sn(()=>gh),multi:!0};function eA(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function hB(t){return t.split(":")[0]}var gh=(()=>{let e=class e extends uo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i=this._getOptionId(r),s=eA(i,r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){let i=hB(r);return this._optionMap.has(i)?this._optionMap.get(i):r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Yn(e)))(s||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,s){i&1&&k("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zn([dB]),Pt]});let t=e;return t})(),po=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){this._select!=null&&(this._select._optionMap.set(this.id,r),this._setElementValue(eA(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(R(it),R(Gt),R(gh,9))},e.\u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),fB={provide:Fi,useExisting:sn(()=>tA),multi:!0};function MS(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function pB(t){return t.split(":")[0]}var tA=(()=>{let e=class e extends uo{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;let i;if(Array.isArray(r)){let s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{let s=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let c=0;c<a.length;c++){let u=a[c],l=this._getOptionValue(u.value);s.push(l)}}else{let a=i.options;for(let c=0;c<a.length;c++){let u=a[c];if(u.selected){let l=this._getOptionValue(u.value);s.push(l)}}}this.value=s,r(s)}}_registerOption(r){let i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){let i=pB(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Yn(e)))(s||e)}})(),e.\u0275dir=Ce({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,s){i&1&&k("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Zn([fB]),Pt]});let t=e;return t})(),mo=(()=>{let e=class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){this._select!=null&&(this._value=r,this._setElementValue(MS(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(MS(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(i){return new(i||e)(R(it),R(Gt),R(tA,9))},e.\u0275dir=Ce({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var nA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_t({type:e}),e.\u0275inj=vt({imports:[JS]});let t=e;return t})(),C_=class extends co{constructor(e,n,r){super(b_(n),S_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){YS(this,!1,e),e.forEach((r,i)=>{QS(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function NS(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var go=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return NS(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new dh(s,o)}record(r,i=null){let s=this._reduceControls(r);return new D_(s,i)}control(r,i,s){let o={};return this.useNonNullable?(NS(i)?o=i:(o.validators=i,o.asyncValidators=s),new ah(r,ae(S({},o),{nonNullable:!0}))):new ah(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new C_(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof ah)return r;if(r instanceof co)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rA=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:mh,useValue:r.callSetDisabledState??yc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_t({type:e}),e.\u0275inj=vt({imports:[nA]});let t=e;return t})(),yo=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:XS,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:mh,useValue:r.callSetDisabledState??yc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=_t({type:e}),e.\u0275inj=vt({imports:[nA]});let t=e;return t})();var Un=(()=>{let e=class e{constructor(){this.firestore=x(fn),this.db=ih(),this.changeSource=new Ne(null),this.changeListener=this.changeSource.asObservable(),this.infoSource=new Ne(null),this.currentInfo=this.infoSource.asObservable()}clearChange(){this.changeSource.next(null)}sendInfo(r){this.infoSource.next(r)}createDocument(r,i,s,o){return y(this,null,function*(){let a=nh(this.db,r);s==null?yield sS(a,i):yield cS(rh(this.db,r,s),i);let c=sh(a,u=>{let l=[];u.forEach(d=>l.push(d.data())),this.changeSource.next({component:o,target:l})});return()=>c()})}getCollection(r){return y(this,null,function*(){let i=[];return(yield f_(nh(this.db,r))).forEach(o=>{let a=S({id:o.id},o.data());i.push(a)}),i})}findInCollection(r,i,s,o){return y(this,null,function*(){let a=nh(this.db,r),c=aS(a,lS(i,s,o)),u=[];return(yield f_(c)).forEach(d=>{let h=S({id:d.id},d.data());u.push(h)}),u})}updateDocument(r,i,s,o){let a=rh(this.firestore,r,i);uS(a,s);let c=sh(a,u=>{this.changeSource.next({component:o,target:S({id:u.id},u.data())})});return()=>c()}deleteDocument(r,i,s){let o=rh(this.firestore,r,i);oS(o);let a=sh(o,c=>{this.changeSource.next({component:s,target:S({id:c.id},c.data())})});return()=>a()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jn=(()=>{let e=class e{getCurrentDay(){let r=new Date,i=String(r.getDate()).padStart(2,"0"),s=String(r.getMonth()+1).padStart(2,"0"),o=r.getFullYear();return`${s}/${i}/${o}`}getCurrentTime(){let r=new Date().toLocaleTimeString("en-US",{hour12:!0,hour:"numeric",minute:"numeric"}),i=r.split(" ")[0],s=r.split(" ")[1],o=parseInt(i.split(":")[0]);return s=="PM"?o!=12?`${o+12}:${i.split(":")[1]}`:`${o}:${i.split(":")[1]}`:o==12?`00:${i.split(":")[1]}`:i}getTimeDiff(r,i){let s=r.split(":").map(Number),o=i.split(":").map(Number),a=(s[0]-o[0])*60+(s[1]-o[1]),c=Math.floor(a/60),u=a%60;return c>0&&(u<=10?u=0:u>30&&u<=40&&(u=30)),(c+u/60).toFixed(1)}sortTime(r){return r.sort((i,s)=>parseInt(i.checkIn.split(":")[0])<parseInt(s.checkIn.split(":")[0])?-1:parseInt(i.checkIn.split(":")[0])>parseInt(s.checkIn.split(":")[0])?1:parseInt(i.checkIn.split(":")[1])<parseInt(s.checkIn.split(":")[1])?-1:parseInt(i.checkIn.split(":")[1])>parseInt(i.checkIn.split(":")[1])?1:0),r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mB(t,e){t&1&&L(0,"img",25)}function gB(t,e){t&1&&(m(0,"div",26),g(1,"Thi\u1EBFu th\xF4ng tin"),f())}function yB(t,e){t&1&&(m(0,"div",26),g(1,"S\u0110T sai \u0111\u1ECBnh d\u1EA1ng"),f())}function vB(t,e){if(t&1&&L(0,"option",27),t&2){let n=e.$implicit;gs("value",n)}}function _B(t,e){if(t&1){let n=It();m(0,"div",0)(1,"h1",1),g(2),f(),m(3,"button",2),k("click",function(){le(n);let i=F();return de(i.cleanForm())}),f()(),m(4,"div",3)(5,"form",4)(6,"div")(7,"label",5),g(8,"H\u1ECD t\xEAn:"),f(),L(9,"input",6),ve(10,mB,1,0,"img",7)(11,gB,2,0,"div",8),f(),m(12,"div",9)(13,"label",10),g(14,"S\u0110T:"),f(),m(15,"input",11),k("change",function(){le(n);let i=F();return de(i.getName(i.infoForm.get("sdt").value))}),f(),ve(16,yB,2,0,"div",8),m(17,"datalist",12),ot(18,vB,1,1,"option",27,st),f()(),m(20,"div")(21,"label",13),g(22,"Th\u1EDDi gian v\xE0o:"),f(),L(23,"input",14),f(),m(24,"div",9)(25,"label",15),g(26,"Th\u1EDDi gian ra:"),f(),L(27,"input",16),f(),m(28,"div",17)(29,"div",18)(30,"input",19),k("change",function(){le(n);let i=F();return de(i.checkVot(i.infoForm.get("thueVot").value))}),f(),m(31,"label",20),g(32,"Thu\xEA v\u1EE3t"),f()(),m(33,"input",21),k("change",function(i){le(n);let s=F();return de(s.checkSlVot(i))}),f()()()(),m(34,"div",22)(35,"button",23),k("click",function(){le(n);let i=F();return de(i.cleanForm())}),g(36,"H\u1EE7y"),f(),m(37,"button",24),k("click",function(){le(n);let i=F();return de(i.xacNhan("new"))}),g(38,"X\xE1c nh\u1EADn"),f()()}if(t&2){let n=F(),r,i;I(2),he(" \u0110\u1EB7t l\u1ECBch s\xE2n ",n.maSan," "),I(3),Oe("formGroup",n.infoForm),I(5),Ie(10,n.VIP?10:-1),I(),Ie(11,(r=n.infoForm.get("nguoiDat"))!=null&&r.invalid&&n.infoForm.get("nguoiDat").touched?11:-1),I(5),Ie(16,(i=n.infoForm.get("sdt"))!=null&&i.invalid&&n.infoForm.get("sdt").touched?16:-1),I(2),at(n.sdt_lst)}}function EB(t,e){t&1&&L(0,"img",25)}function IB(t,e){t&1&&(m(0,"div",26),g(1,"Thi\u1EBFu th\xF4ng tin"),f())}function wB(t,e){t&1&&(m(0,"div",26),g(1,"S\u0110T sai \u0111\u1ECBnh d\u1EA1ng"),f())}function DB(t,e){if(t&1&&L(0,"option",27),t&2){let n=e.$implicit;gs("value",n)}}function CB(t,e){if(t&1){let n=It();m(0,"div",0)(1,"h1",1),g(2),f(),L(3,"button",28),f(),m(4,"div",3)(5,"form",4)(6,"div")(7,"label",5),g(8,"H\u1ECD t\xEAn:"),f(),L(9,"input",29),ve(10,EB,1,0,"img",7)(11,IB,2,0,"div",8),f(),m(12,"div",9)(13,"label",10),g(14,"S\u0110T:"),f(),m(15,"input",30),k("change",function(){le(n);let i=F();return de(i.getName(i.infoForm.get("sdt").value))}),f(),ve(16,wB,2,0,"div",8),m(17,"datalist",12),ot(18,DB,1,1,"option",27,st),f()(),m(20,"div")(21,"label",13),g(22,"Th\u1EDDi gian v\xE0o:"),f(),L(23,"input",14),f(),m(24,"div",31)(25,"div",18)(26,"input",32),k("change",function(){le(n);let i=F();return de(i.checkVot(i.infoForm.get("thueVot").value))}),f(),m(27,"label",20),g(28,"Thu\xEA v\u1EE3t"),f()(),m(29,"input",21),k("change",function(i){le(n);let s=F();return de(s.checkSlVot(i))}),f()()()(),m(30,"div",22)(31,"button",33),g(32,"H\u1EE7y"),f(),m(33,"button",24),k("click",function(){le(n);let i=F();return de(i.xacNhan("edit"))}),g(34,"C\u1EADp nh\u1EADt"),f()()}if(t&2){let n=F();I(2),he(" Ch\u1EC9nh s\u1EEDa th\xF4ng tin KH s\xE2n ",n.maSan," "),I(3),Oe("formGroup",n.infoForm),I(4),Oe("value",n.infoKH.nguoiDat),I(),Ie(10,n.VIP?10:-1),I(),Ie(11,n.infoForm.get("nguoiDat").invalid?11:-1),I(4),Oe("value",n.infoKH.sdt),I(),Ie(16,n.infoForm.get("sdt").invalid?16:-1),I(2),at(n.sdt_lst)}}function TB(t,e){t&1&&(m(0,"span",26),g(1," (\u0111\xE3 s\u1EEDa)"),f())}function bB(t,e){if(t&1){let n=It();m(0,"div",0)(1,"h1",1),g(2),f(),L(3,"button",28),f(),m(4,"div",3)(5,"div",34)(6,"div",35)(7,"p"),g(8,"T\xEAn KH:"),f(),m(9,"p"),g(10,"S\u1ED1 \u0111i\u1EC7n tho\u1EA1i:"),f(),m(11,"p"),g(12,"Gi\u1EDD v\xE0o:"),f(),m(13,"p"),g(14,"Gi\u1EDD ra:"),f(),m(15,"p"),g(16,"T\u1ED5ng th\u1EDDi gian:"),f(),m(17,"p"),g(18,"Ti\u1EC1n thu\xEA s\xE2n:"),f(),m(19,"p"),g(20,"Ti\u1EC1n thu\xEA v\u1EE3t "),m(21,"span"),g(22),f(),g(23,":"),f(),m(24,"label",36),k("click",function(){le(n);let i=F();return de(i.editTT())}),m(25,"span",37),g(26,"T\u1ED5ng ti\u1EC1n"),f(),ve(27,TB,2,0,"span",38),g(28,":"),f(),m(29,"p"),g(30,"H\xECnh th\u1EE9c thanh to\xE1n:"),f()(),m(31,"div",39)(32,"p"),g(33),f(),m(34,"p"),g(35),f(),m(36,"p"),g(37),f(),m(38,"p"),g(39),f(),m(40,"p"),g(41),f(),m(42,"p"),g(43),f(),m(44,"p"),g(45),f(),m(46,"input",40),k("keyup.enter",function(i){le(n);let s=F();return de(s.newTT(i))}),f(),g(47,"vn\u0111 "),m(48,"div")(49,"div"),L(50,"input",41),m(51,"label",42),g(52,"Ti\u1EC1n m\u1EB7t"),f()(),m(53,"div"),L(54,"input",43),m(55,"label",44),g(56,"Chuy\u1EC3n kho\u1EA3n"),f()()()()()(),m(57,"div",22)(58,"button",24),k("click",function(){le(n);let i=F();return de(i.rsTT())}),g(59,"Tho\xE1t"),f(),m(60,"button",45),k("click",function(){le(n);let i=F();return de(i.saveBill(i.maSan))}),g(61,"Thanh to\xE1n"),f()()}if(t&2){let n=F();I(2),he(" Thanh to\xE1n s\xE2n ",n.maSan," "),I(20),he("(",n.infoKH.thueVot," c\xE1i)"),I(5),Oe("ngIf",n.mark_txt),I(4),Oe("formGroup",n.billForm),I(2),pe(n.infoKH.nguoiDat),I(2),pe(n.infoKH.sdt),I(2),pe(n.infoKH.checkIn),I(2),pe(n._time.getCurrentTime()),I(2),he("",n.infoKH.sogioThue," h"),I(2),he("",n.infoKH.tongTien[0].toLocaleString("vi-VN")," vn\u0111"),I(2),he("",n.infoKH.tongTien[1].toLocaleString("vi-VN")," vn\u0111")}}var iA=(()=>{let e=class e{constructor(r,i,s,o){this.fb=r,this.firestore=i,this._service=s,this._time=o,this.maSan="",this.VIP=!1,this.sdt_lst=[],this.payment="Ti\u1EC1n m\u1EB7t",this.mark_txt=!1,this.disabledInp=!0,this.infoForm=this.fb.group({nguoiDat:["",et.required],sdt:["",[et.required,et.pattern("0[0-9]{9}")]],checkIn:"",checkOut:"",thueVot:!1,slVot:0}),this.billForm=this.fb.group({total:{value:"",disabled:!0},payment:"Ti\u1EC1n m\u1EB7t"}),s.getCollection("khach").then(a=>{this.khach_lst=a,this.khach_lst.forEach(c=>{this.sdt_lst.push(c.sdt)})}),this.subscript=s.currentInfo.subscribe(a=>{this.infoKH=a,a!=null?(this.infoForm.setValue({nguoiDat:this.infoKH.nguoiDat,sdt:this.infoKH.sdt,checkIn:this.infoKH.checkIn,checkOut:"",thueVot:this.infoKH.thueVot>0,slVot:this.infoKH.thueVot}),this.infoKH.thueVot>0?this.infoForm.get("slVot").enable():this.infoForm.get("slVot").disable(),a.hasOwnProperty("tongTien")&&this.billForm.get("total").setValue(a.tongTien[2].toLocaleString("vi-VN"))):(this.infoForm.setValue({nguoiDat:"",sdt:"",checkIn:this._time.getCurrentTime(),checkOut:"",thueVot:!1,slVot:0}),this.infoForm.get("slVot").disable())})}ngOnDestroy(){this.subscript.unsubscribe()}getName(r){let i=this.khach_lst.find(s=>s.sdt===r);i!=null?(this.infoForm.get("nguoiDat").setValue(i.ten),i.hang=="VIP"&&(this.VIP=!0)):(this.infoForm.get("nguoiDat").setValue(""),this.VIP=!1)}cleanForm(){this.infoForm.reset()}xacNhan(r){if(this.infoForm.get("nguoiDat").valid&&this.infoForm.get("sdt").valid){let i=this.infoForm.getRawValue();i.thueVot=i.slVot,i.VIP=this.VIP,delete i.slVot;let s={chiTiet:i,trangThai:"\u0110ang ho\u1EA1t \u0111\u1ED9ng"};this._service.updateDocument("san",this.maSan,s,"san"),r=="new"&&this.cleanForm()}}checkVot(r){r==!0?this.infoForm.get("slVot").enable():this.infoForm.get("slVot").disable()}checkSlVot(r){r.target.value<=0&&(this.infoForm.get("thueVot").setValue(!1),this.infoForm.get("slVot").disable(),this.infoForm.get("slVot").setValue(0))}editTT(){this.billForm.get("total").enable()}newTT(r){this.mark_txt=!0,this.billForm.get("total").disable()}rsTT(){this.mark_txt=!1}saveBill(r){let i;if(i={san:r,ten:this.infoKH.nguoiDat,sdt:this.infoKH.sdt,checkIn:this.infoKH.checkIn,sogioThue:this.infoKH.sogioThue,thueVot:this.infoKH.thueVot,soTien:parseInt(this.billForm.get("total").value)*1e3-this.infoKH.tongTien[1],hinhthucTT:this.billForm.get("payment").value,danhMuc:"S\xE2n"},this._service.createDocument("doanhthuNgay",i),this.infoKH.thueVot>0&&(i={tenDV:"Thu\xEA v\u1EE3t",soLuong:this.infoKH.thueVot,thoiGian:this.infoKH.checkIn,soTien:this.infoKH.tongTien[1],danhMuc:"D\u1ECBch v\u1EE5",hinhthucTT:this.billForm.get("payment").value},this._service.createDocument("doanhthuNgay",i)),this.sdt_lst.includes(this.infoKH.sdt)){let s;this._service.findInCollection("khach","sdt","==",this.infoKH.sdt).then(o=>{s=o[0],i={gioThue:s.gioThue+parseInt(this.infoKH.sogioThue),tongTien:parseInt(this.billForm.get("total").value)*1e3+s.tongTien},this._service.updateDocument("khach",s.id,i,"khach")})}i={activeHours:parseFloat(this.infoKH.sogioThue)+this.infoKH.activeHours,chiTiet:{nguoiDat:"",sdt:"",checkIn:""},trangThai:"S\u1EB5n s\xE0ng"},this._service.updateDocument("san",r,i,"san")}};e.\u0275fac=function(i){return new(i||e)(R(go),R(fn),R(Un),R(jn))},e.\u0275cmp=rt({type:e,selectors:[["app-san-detail"]],inputs:{maSan:"maSan",state:"state"},standalone:!0,features:[ct],decls:3,vars:1,consts:[[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],["for","name","for","name",2,"width","120px"],["type","text","id","name","formControlName","nguoiDat"],["class","mb-1","width","29px","height","27px","src","/assets/vip.png"],["class","text-danger"],[1,"my-2"],["for","sdt",2,"width","120px"],["list","sdt_lst","type","tel","formControlName","sdt","id","sdt",3,"change"],["id","sdt_lst"],["for","checkIn",2,"width","120px"],["type","time","formControlName","checkIn","id","checkIn"],["for","checkOut",2,"width","120px"],["type","time","formControlName","checkOut","id","checkOut"],[1,"d-flex"],[2,"width","120px"],["type","checkbox","formControlName","thueVot","id","vot",1,"me-1",3,"change"],["for","vot"],["type","number","formControlName","slVot",2,"width","50px",3,"change"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["width","29px","height","27px","src","/assets/vip.png",1,"mb-1"],[1,"text-danger"],[3,"value"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["type","text","id","name","formControlName","nguoiDat",3,"value"],["list","sdt_lst","type","tel","formControlName","sdt","id","sdt",3,"value","change"],[1,"d-flex","my-2"],["type","checkbox","id","vot","formControlName","thueVot",1,"me-1",3,"change"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger"],[1,"d-flex","justify-content-center","gap-3"],[1,"d-flex-column","flex-shrink-1","fw-bold"],["for","tt",2,"margin-bottom","16px",3,"click"],[1,"text-decoration-underline"],["class","text-danger",4,"ngIf"],[1,"d-flex-column",3,"formGroup"],["type","string","id","tt","formControlName","total",2,"width","90px","border","none","margin-bottom","16px",3,"keyup.enter"],["type","radio","id","cash","value","Ti\u1EC1n m\u1EB7t","formControlName","payment",1,"me-1"],["for","cash"],["type","radio","id","bank","value","Chuy\u1EC3n kho\u1EA3n","formControlName","payment",1,"me-1"],["for","bank"],["type","button","data-bs-dismiss","modal",1,"btn","btn-success",3,"click"]],template:function(i,s){if(i&1&&ve(0,_B,39,5)(1,CB,35,7)(2,bB,62,11),i&2){let o;Ie(0,(o=s.state)==="\u0110\u1EB7t ngay"?0:o==="Ch\u1EC9nh s\u1EEDa"?1:o==="Thanh to\xE1n"?2:-1)}},dependencies:[yo,fo,po,mo,kr,x_,T_,R_,lo,ho,Vi,Li,an,fw,rA],styles:["input[_ngcontent-%COMP%]{padding-left:5px}label[_ngcontent-%COMP%]{cursor:pointer}"]});let t=e;return t})();function SB(t,e){if(t&1){let n=It();m(0,"div",16),g(1),f(),m(2,"div",17)(3,"button",18),k("click",function(){le(n);let i=F().$implicit,s=F();return de(s.datSan(i.id))}),g(4,"\u0110\u1EB7t ngay"),f()()}if(t&2){let n=F().$implicit;I(),he("S\u1ED1 gi\u1EDD \u0111\xE3 \u0111\u01B0\u1EE3c thu\xEA: ",n.activeHours,"")}}function AB(t,e){t&1&&L(0,"img",27)}function xB(t,e){if(t&1&&g(0),t&2){let n=F(2).$implicit;he(" - ",n.chiTiet.checkOut,"")}}function RB(t,e){if(t&1){let n=It();m(0,"div",19)(1,"button",20),k("click",function(){le(n);let i=F().$implicit,s=F();return de(s.edit(i.id,"\u0110ang ho\u1EA1t \u0111\u1ED9ng"))}),g(2,"Ch\u1EC9nh s\u1EEDa"),f(),m(3,"div",21)(4,"span",22),g(5,"KH: "),f(),g(6),ve(7,AB,1,0,"img",23),f(),m(8,"div",21)(9,"span",22),g(10,"S\u0110T: "),f(),g(11),f(),m(12,"div",21)(13,"span",22),g(14,"Th\u1EDDi gian: "),f(),g(15),ve(16,xB,1,1),f(),m(17,"div",21)(18,"span",22),g(19,"Thu\xEA v\u1EE3t: "),f(),g(20),f()(),m(21,"div",24)(22,"button",25),k("click",function(){le(n);let i=F().$implicit,s=F();return de(s.bill(i.id))}),g(23,"Thanh to\xE1n"),f(),m(24,"button",26),k("click",function(){le(n);let i=F().$implicit,s=F();return de(s.selected=i.id)}),g(25,"H\u1EE7y s\xE2n"),f()()}if(t&2){let n=F().$implicit;I(6),he(" ",n.chiTiet.nguoiDat," "),I(),Ie(7,n.chiTiet.VIP?7:-1),I(4),pe(n.chiTiet.sdt),I(4),he("",n.chiTiet.checkIn," "),I(),Ie(16,n.checkOut!=""?16:-1),I(4),pe(n.chiTiet.thueVot)}}function MB(t,e){if(t&1&&(m(0,"div",13)(1,"div",14)(2,"div",15),g(3),f(),ve(4,SB,5,1)(5,RB,26,6),f()()),t&2){let n=e.$implicit,r;I(3),Go(" S\xE2n ",n.id," - ",n.trangThai," "),I(),Ie(4,(r=n.trangThai)==="S\u1EB5n s\xE0ng"?4:r==="\u0110ang ho\u1EA1t \u0111\u1ED9ng"?5:-1)}}var sA=(()=>{let e=class e{constructor(r,i){this._service=r,this._time=i,this.infoKH={nguoiDat:"",sdt:"",checkIn:""},this.selected="",r.getCollection("san").then(s=>{this.sans$=s}),this.subscript=this._service.changeListener.subscribe(s=>{if(s!=null&&s.component=="san"){this.sans$[(parseInt(s.target.id)-1).toString()]=s.target;let o=this.sans$.findIndex(a=>a.id==s.target.id);this.sans$[o]=s.target,this._service.clearChange()}})}ngOnDestroy(){this.subscript.unsubscribe()}datSan(r){this.selected=r,this.state="\u0110\u1EB7t ngay",this._service.sendInfo(null)}bill(r){let i=7e4,s=2e4;this.selected=r;let o=this.sans$.find(l=>l.id==r),a=this._time.getTimeDiff(this._time.getCurrentTime(),o.chiTiet.checkIn),c=a*i,u=o.chiTiet.thueVot*s;this._service.sendInfo(ae(S({},o.chiTiet),{activeHours:o.activeHours,sogioThue:a,tongTien:[c,u,c+u]})),this.state="Thanh to\xE1n"}huySan(r){let i={chiTiet:{nguoiDat:"",sdt:"",checkIn:"",checkOut:""},trangThai:"S\u1EB5n s\xE0ng"};this._service.updateDocument("san",this.selected,i,"san")}edit(r,i){this.selected=r,this.state="Ch\u1EC9nh s\u1EEDa";let s=this.sans$.find(o=>o.id==r);this._service.sendInfo(ae(S({},s.chiTiet),{trangThai:s.trangThai,component:"san"}))}};e.\u0275fac=function(i){return new(i||e)(R(Un),R(jn))},e.\u0275cmp=rt({type:e,selectors:[["app-san-list"]],standalone:!0,features:[ct],decls:22,vars:4,consts:[[1,"row","row-cols-auto","justify-content-center","my-auto"],["id","mainModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","mainModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[3,"maSan","state"],["id","huyModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","mainModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],[1,"col","mx-5"],[1,"san"],[1,"mx-auto","my-3"],[1,"mx-auto",2,"margin-top","80px"],[1,"mx-auto","mt-auto","mb-3","p-2"],["data-bs-toggle","modal","data-bs-target","#mainModal",1,"btn","btn-primary",3,"click"],[1,"text-start","ps-2","pt-4","mx-2","mt-4","fs-6","position-relative",2,"background-color","rgb(166, 164, 196)","min-width","235px"],["data-bs-toggle","modal","data-bs-target","#mainModal",1,"btn","btn-info","position-absolute","top-0","start-50","translate-middle",3,"click"],[1,"fw-normal","mb-2"],[1,"fw-bold"],["class","mb-2","width","25px","height","22px","src","\\assets\\vip.png"],[1,"hstack","mt-auto","mx-auto","mb-3","pt-2","gap-2"],["data-bs-toggle","modal","data-bs-target","#mainModal",1,"btn","btn-success",3,"click"],["data-bs-toggle","modal","data-bs-target","#huyModal",1,"btn","btn-danger",3,"click"],["width","25px","height","22px","src","\\assets\\vip.png",1,"mb-2"],["class","col mx-5"]],template:function(i,s){i&1&&(m(0,"div",0),ot(1,MB,6,3,"div",28,st),f(),m(3,"div",1)(4,"div",2)(5,"div",3),L(6,"app-san-detail",4),f()()(),m(7,"div",5)(8,"div",2)(9,"div",3)(10,"div",6)(11,"h1",7),g(12),f(),L(13,"button",8),f(),m(14,"div",9)(15,"h4"),g(16),f()(),m(17,"div",10)(18,"button",11),g(19,"Tho\xE1t"),f(),m(20,"button",12),k("click",function(){return s.huySan(s.selected)}),g(21,"X\xE1c nh\u1EADn"),f()()()()()),i&2&&(I(),at(s.sans$),I(5),Oe("maSan",s.selected)("state",s.state),I(6),he("H\u1EE7y l\u1ECBch \u0111\u1EB7t tr\u01B0\u1EDBc s\xE2n ",s.selected,""),I(4),he("X\xE1c nh\u1EADn h\u1EE7y l\u1ECBch s\xE2n ",s.selected,"?"))},dependencies:[an,iA],styles:[".san[_ngcontent-%COMP%]{justify-self:center;display:flex;flex-direction:column;align-items:end;width:250px;height:320px;background-color:#b1aeae;text-align:center;font-size:large;font-weight:700}.col[_ngcontent-%COMP%]{margin:20px 0;display:flex;justify-content:center}.btn[_ngcontent-%COMP%]{padding:0;width:100px;height:38px}"]});let t=e;return t})();function NB(t,e){t&1&&(m(0,"div",35)(1,"div",36)(2,"span",37),g(3,"Loading..."),f()()())}function PB(t,e){t&1&&L(0,"img",42)}function kB(t,e){if(t&1){let n=It();m(0,"tr",39),k("click",function(){let i=le(n),s=i.$implicit,o=i.$index,a=F(2);return de(a.getDetail(s.id,o))}),m(1,"td"),g(2),f(),m(3,"td",40),g(4),f(),m(5,"td"),g(6),f(),m(7,"td"),g(8),f(),m(9,"td"),g(10),f(),m(11,"td",41),g(12),f(),m(13,"td"),ve(14,PB,1,0,"img",42),f()()}if(t&2){let n=e.$implicit,r=e.$index;I(2),pe(r+1),I(2),pe(n.ten),I(2),pe(n.sdt),I(2),pe(n.ngayDK),I(2),pe(n.gioThue),I(2),he("",n==null?null:n.tongTien.toLocaleString("vi-VN")," vn\u0111"),I(2),Ie(14,n.hang=="VIP"?14:-1)}}function OB(t,e){if(t&1&&(m(0,"div")(1,"button",38),g(2,"\u0110\u0103ng k\xED m\u1EDBi"),f()(),m(3,"div")(4,"table")(5,"thead")(6,"th"),g(7,"STT"),f(),m(8,"th"),g(9,"H\u1ECD t\xEAn"),f(),m(10,"th"),g(11,"S\u0110T"),f(),m(12,"th"),g(13,"Ng\xE0y \u0111\u0103ng k\xED"),f(),m(14,"th"),g(15,"T\u1ED5ng gi\u1EDD thu\xEA"),f(),m(16,"th"),g(17,"T\u1ED5ng h\xF3a \u0111\u01A1n"),f(),m(18,"th"),g(19,"H\u1EA1ng"),f()(),m(20,"tbody"),ot(21,kB,15,7,"tr",43,st),f()()()),t&2){let n=F();I(21),at(n.kh$)}}function FB(t,e){t&1&&(m(0,"div",44),g(1,"Thi\u1EBFu th\xF4ng tin"),f())}function VB(t,e){t&1&&(m(0,"div",44),g(1,"S\u0110T sai \u0111\u1ECBnh d\u1EA1ng"),f())}function LB(t,e){t&1&&(m(0,"div",44),g(1,"Thi\u1EBFu th\xF4ng tin"),f())}function UB(t,e){t&1&&(m(0,"div",44),g(1,"S\u0110T sai \u0111\u1ECBnh d\u1EA1ng"),f())}var oA=(()=>{let e=class e{constructor(r,i,s){this._service=r,this._time=i,this.fb=s,this.infoForm=s.group({ten:["",et.required],sdt:["",[et.required,et.pattern("0[0-9]{9}")]],ngayDK:{value:"",disabled:!0},gioThue:{value:"",disabled:!0},tongTien:{value:"",disabled:!0},hang:""}),this.dkiForm=s.group({ten:["",et.required],sdt:["",[et.required,et.pattern("0[0-9]{9}")]]}),this._service.getCollection("khach").then(o=>{this.kh$=o})}ngOnInit(){this.subscript=this._service.changeListener.subscribe(r=>{r!=null&&(r.component=="khach-new"?this.kh$=r.target:r.component=="khach-edit"?this.kh$[this.idx]=r.target:r.component=="khach-del"&&this.kh$.splice(this.idx,1),this._service.clearChange())})}getDetail(r,i){this.selected=r,this.idx=i;let s=this.kh$.find(o=>o.id==r);this.infoForm.setValue({ten:s.ten,sdt:s.sdt,ngayDK:s.ngayDK,gioThue:`${s.gioThue} h`,tongTien:s.tongTien.toLocaleString("vi-VN")+" vn\u0111",hang:s.hang})}func(r){if(r=="new"){if(this.dkiForm.get("ten").valid&&this.dkiForm.get("sdt").valid){let i={ten:this.dkiForm.get("ten").value,sdt:this.dkiForm.get("sdt").value,ngayDK:this._time.getCurrentDay(),gioThue:0,tongTien:0,hang:"Th\u01B0\u1EDDng"};this._service.createDocument("khach",i,void 0,"khach-new"),this.dkiForm.reset()}}else if(r=="edit"){let i={ten:this.infoForm.get("ten").value,sdt:this.infoForm.get("sdt").value,hang:this.infoForm.get("hang").value};this._service.updateDocument("khach",this.selected,i,"khach-edit")}else this._service.deleteDocument("khach",this.selected,"khach-del")}ngOnDestroy(){this.subscript.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)(R(Un),R(jn),R(go))},e.\u0275cmp=rt({type:e,selectors:[["app-customer"]],standalone:!0,features:[ct],decls:72,vars:7,consts:[["data-bs-toggle","modal","data-bs-target","#dkiModal",1,"container"],["class","text-center w-100","style","margin-top: 100px;"],["id","mainModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","mainModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","staticBackdropLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"ms-5",3,"formGroup"],["for","name","for","name",2,"width","120px"],["type","text","id","name","formControlName","ten"],["class","text-danger"],[1,"my-2"],["for","sdt",2,"width","120px"],["type","tel","formControlName","sdt","id","sdt"],["for","ngayDki",2,"width","120px"],["type","string","formControlName","ngayDK","id","ngayDki"],["for","activeHours",2,"width","120px"],["type","string","formControlName","gioThue","id","activeHours"],["for","total",2,"width","120px"],["type","string","formControlName","tongTien","id","total"],[1,"mt-2"],["for","level",2,"width","120px"],["formControlName","hang","id","level",1,"pe-2"],["value","VIP"],["value","Th\u01B0\u1EDDng"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["id","dkiModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1","aria-labelledby","mainModalLabel","aria-hidden","true",1,"modal","fade"],["for","name","for","name",2,"width","80px"],["for","sdt",2,"width","80px"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],[1,"text-center","w-100",2,"margin-top","100px"],["role","status",1,"spinner-border",2,"width","100px","height","100px"],[1,"visually-hidden"],[1,"btn","btn-primary"],["data-bs-toggle","modal","data-bs-target","#mainModal",3,"click"],[1,"text-start"],[1,"text-end"],["width","25px","height","22px","src","/assets/vip.png"],["data-bs-toggle","modal","data-bs-target","#mainModal"],[1,"text-danger"]],template:function(i,s){i&1&&(m(0,"div",0),ve(1,NB,4,0,"div",1)(2,OB,23,0),f(),m(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h1",6),g(8," Chi ti\u1EBFt th\xF4ng tin kh\xE1ch h\xE0ng "),f(),L(9,"button",7),f(),m(10,"div",8)(11,"form",9)(12,"div")(13,"label",10),g(14,"H\u1ECD t\xEAn:"),f(),L(15,"input",11),ve(16,FB,2,0,"div",12),f(),m(17,"div",13)(18,"label",14),g(19,"S\u0110T:"),f(),L(20,"input",15),ve(21,VB,2,0,"div",12),f(),m(22,"div")(23,"label",16),g(24,"Ng\xE0y \u0111\u0103ng k\xED:"),f(),L(25,"input",17),f(),m(26,"div",13)(27,"label",18),g(28,"T\u1ED5ng gi\u1EDD thu\xEA:"),f(),L(29,"input",19),f(),m(30,"div")(31,"label",20),g(32,"T\u1ED5ng h\xF3a \u0111\u01A1n:"),f(),L(33,"input",21),f(),m(34,"div",22)(35,"label",23),g(36,"H\u1EA1ng:"),f(),m(37,"select",24)(38,"option",25),g(39,"VIP"),f(),m(40,"option",26),g(41,"Th\u01B0\u1EDDng"),f()()()()(),m(42,"div",27)(43,"button",28),k("click",function(){return s.func("edit")}),g(44,"C\u1EADp nh\u1EADt"),f(),m(45,"button",29),k("click",function(){return s.func("del")}),g(46,"X\xF3a"),f(),m(47,"button",30),g(48,"Tho\xE1t"),f()()()()(),m(49,"div",31)(50,"div",3)(51,"div",4)(52,"div",5)(53,"h1",6),g(54," \u0110\u0103ng k\xED kh\xE1ch h\xE0ng m\u1EDBi "),f()(),m(55,"div",8)(56,"form",9)(57,"div")(58,"label",32),g(59,"H\u1ECD t\xEAn:"),f(),L(60,"input",11),ve(61,LB,2,0,"div",12),f(),m(62,"div",13)(63,"label",33),g(64,"S\u0110T:"),f(),L(65,"input",15),ve(66,UB,2,0,"div",12),f()()(),m(67,"div",27)(68,"button",34),k("click",function(){return s.dkiForm.reset()}),g(69,"Tho\xE1t"),f(),m(70,"button",28),k("click",function(){return s.func("new")}),g(71,"X\xE1c nh\u1EADn"),f()()()()()),i&2&&(I(),Ie(1,s.kh$==null?1:2),I(10),Oe("formGroup",s.infoForm),I(5),Ie(16,s.infoForm.get("ten").invalid?16:-1),I(5),Ie(21,s.infoForm.get("sdt").invalid?21:-1),I(35),Oe("formGroup",s.dkiForm),I(5),Ie(61,s.dkiForm.get("ten").invalid&&s.dkiForm.get("ten").touched?61:-1),I(5),Ie(66,s.dkiForm.get("sdt").invalid&&s.dkiForm.get("sdt").touched?66:-1))},dependencies:[yo,fo,po,mo,kr,gh,lo,ho,Vi,Li],styles:["td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{text-align:center;padding:5px 10px}th[_ngcontent-%COMP%]{border:1px solid black}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#add8e6}tr[_ngcontent-%COMP%]:hover{background-color:#f0eded;cursor:pointer}"]});let t=e;return t})();function jB(t,e){t&1&&(m(0,"div",2)(1,"div",3)(2,"span",4),g(3,"Loading..."),f()()())}function BB(t,e){if(t&1&&(m(0,"tr")(1,"th"),g(2),f(),m(3,"td"),g(4),f()()),t&2){let n=e.$implicit,r=e.$index,i=F(2);I(2),pe(n),I(2),he("",i.calcRevenue(i.dbLst[r]).toLocaleString("vi-VN")," vn\u0111")}}var $B=t=>({active_tab:t});function HB(t,e){if(t&1){let n=It();m(0,"p",12),k("click",function(){let s=le(n).$implicit,o=F(2);return de(o.changeTab(s))}),g(1),f()}if(t&2){let n=e.$implicit,r=F(2);Oe("ngClass",ys(2,$B,r.currentTab==n)),I(),pe(n)}}function qB(t,e){if(t&1&&(m(0,"tr")(1,"td"),g(2),f(),m(3,"td"),g(4),f(),m(5,"td"),g(6),f(),m(7,"td",15),g(8),f(),m(9,"td"),g(10),f(),m(11,"td"),g(12),f(),m(13,"td"),g(14),f(),m(15,"td",16),g(16),f()()),t&2){let n=e.$implicit,r=e.$index;I(2),pe(r+1),I(2),pe(n.checkIn),I(2),pe(n.san),I(2),pe(n.ten),I(2),pe(n.sdt),I(2),pe(n.sogioThue),I(2),pe(n.hinhthucTT),I(2),he("",n.soTien.toLocaleString("vi-VN")," vn\u0111")}}function GB(t,e){if(t&1&&(m(0,"thead")(1,"th"),g(2,"STT"),f(),m(3,"th"),g(4,"Gi\u1EDD v\xE0o"),f(),m(5,"th"),g(6,"S\xE2n"),f(),m(7,"th",13),g(8,"Kh\xE1ch h\xE0ng"),f(),m(9,"th",14),g(10,"S\u0110T"),f(),m(11,"th"),g(12,"S\u1ED1 gi\u1EDD thu\xEA"),f(),m(13,"th"),g(14,"Ph\u01B0\u01A1ng th\u1EE9c"),f(),m(15,"th",14),g(16,"T\u1ED5ng ti\u1EC1n"),f()(),m(17,"tbody"),ot(18,qB,17,8,"tr",null,st),f()),t&2){let n=F(2);I(18),at(n.currentRev)}}function zB(t,e){if(t&1&&(m(0,"tr")(1,"td"),g(2),f(),m(3,"td"),g(4),f(),m(5,"td"),g(6),f(),m(7,"td"),g(8),f(),m(9,"td",16),g(10),f()()),t&2){let n=e.$implicit,r=e.$index;I(2),pe(r+1),I(2),pe(n.tenDV),I(2),pe(n.thoiGian),I(2),pe(n.soLuong),I(2),he("",n.soTien.toLocaleString("vi-VN")," vn\u0111")}}function WB(t,e){if(t&1&&(m(0,"thead")(1,"th"),g(2,"STT"),f(),m(3,"th"),g(4,"T\xEAn d\u1ECBch v\u1EE5"),f(),m(5,"th"),g(6,"Th\u1EDDi gian"),f(),m(7,"th"),g(8,"S\u1ED1 l\u01B0\u1EE3ng"),f(),m(9,"th"),g(10,"T\u1ED5ng ti\u1EC1n"),f()(),m(11,"tbody"),ot(12,zB,11,5,"tr",null,st),f()),t&2){let n=F(2);I(12),at(n.currentRev)}}function KB(t,e){if(t&1&&(m(0,"h1"),g(1),f(),m(2,"div")(3,"div",5)(4,"h2"),g(5),f(),m(6,"button",6),L(7,"img",7),g(8," Xu\u1EA5t file excel "),f()(),m(9,"div",8)(10,"table"),ot(11,BB,5,2,"tr",null,st),f(),m(13,"table")(14,"tr")(15,"th"),g(16,"Ti\u1EC1n m\u1EB7t"),f(),m(17,"td"),g(18),f()(),m(19,"tr")(20,"th"),g(21,"Chuy\u1EC3n kho\u1EA3n"),f(),m(22,"td"),g(23),f()()()()(),m(24,"div")(25,"div",9),ot(26,HB,2,4,"p",17,st),f(),m(28,"div",10)(29,"table",11),ve(30,GB,20,0)(31,WB,14,0),f()()()),t&2){let n=F();I(),he("Doanh thu ng\xE0y ",n.today,""),I(4),he("",n.totalRevenue.toLocaleString("vi-VN")," vn\u0111"),I(6),at(n.tabLst),I(7),he("",n.calcRevenue(n.tienMat$).toLocaleString("vi-VN")," vn\u0111"),I(5),he("",n.calcRevenue(n.chuyenKhoan$).toLocaleString("vi-VN")," vn\u0111"),I(3),at(n.tabLst),I(4),Ie(30,n.currentTab=="S\xE2n"?30:31)}}var aA=(()=>{let e=class e{constructor(r,i){this._service=r,this._time=i,this.currentTab="S\xE2n",this.totalRevenue=0,this.tabLst=[],this.dbLst=[],this.loading=!0,this.today=i.getCurrentDay(),this.tabLst=["S\xE2n","D\u1ECBch v\u1EE5","\u0102n u\u1ED1ng"],this.tabLst.forEach(s=>{r.findInCollection("doanhthuNgay","danhMuc","==",s).then(o=>{this.dbLst.push(o),this.totalRevenue+=this.calcRevenue(o),s=="S\xE2n"&&(this.currentRev=o),setTimeout(()=>this.loading=!1,200)})}),r.findInCollection("doanhthuNgay","hinhthucTT","==","Ti\u1EC1n m\u1EB7t").then(s=>{this.tienMat$=s}),r.findInCollection("doanhthuNgay","hinhthucTT","==","Chuy\u1EC3n kho\u1EA3n").then(s=>{this.chuyenKhoan$=s})}calcRevenue(r){let i=0;return r?.forEach(s=>{i+=s.soTien}),i}changeTab(r){this.currentTab=r;let i=this.tabLst.indexOf(r);this.currentRev=this.dbLst[i]}};e.\u0275fac=function(i){return new(i||e)(R(Un),R(jn))},e.\u0275cmp=rt({type:e,selectors:[["app-doanh-thu"]],standalone:!0,features:[ct],decls:3,vars:1,consts:[[1,"container"],["class","text-center w-100","style","margin-top: 100px;"],[1,"text-center","w-100",2,"margin-top","100px"],["role","status",1,"spinner-border",2,"width","100px","height","100px"],[1,"visually-hidden"],[1,"d-flex","my-3"],[1,"excel"],["width","36px","height","36px","src","/assets/xls.png"],[1,"d-flex","gap-3"],[1,"detail-nav"],[1,"d-flex","justify-content-center"],["id","revenue"],[3,"ngClass","click"],[2,"min-width","200px"],[2,"min-width","150px"],[1,"text-start"],[1,"text-end"],[3,"ngClass"]],template:function(i,s){i&1&&(m(0,"div",0),ve(1,jB,4,0,"div",1)(2,KB,32,5),f()),i&2&&(I(),Ie(1,s.loading?1:2))},dependencies:[an,Hu],styles:["th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:0 10px;border:1px solid black}th[_ngcontent-%COMP%]{background-color:#a9dcde;text-align:start;padding-right:20px}td[_ngcontent-%COMP%]{text-align:end}.detail-nav[_ngcontent-%COMP%]{margin:25px 40px;justify-content:center;display:flex;border-bottom:1px solid black;gap:25px}.detail-nav[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0;cursor:pointer}.active_tab[_ngcontent-%COMP%]{font-weight:700;color:#000}#revenue[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #revenue[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-left:none;border-right:none;text-align:center}#revenue[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#dbe6e9}.excel[_ngcontent-%COMP%]{background-color:transparent;margin-left:30px;padding:5px;border-radius:10px}"]});let t=e;return t})();function QB(t,e){t&1&&(m(0,"div",24)(1,"div",25)(2,"span",26),g(3,"Loading..."),f()()())}function YB(t,e){if(t&1){let n=It();m(0,"div",37),k("click",function(){let s=le(n).$implicit,o=F(3);return de(o.getInfo(s))}),g(1),f()}if(t&2){let n=e.$implicit;I(),Go(" ",n.checkIn," - ",n.checkOut,"")}}function ZB(t,e){if(t&1){let n=It();m(0,"div",34)(1,"h4",35),k("click",function(){let s=le(n).$index,o=F(2);return de(o.newBooking(s))}),g(2),f(),m(3,"div",36),ot(4,YB,2,2,"div",38,st),f()()}if(t&2){let n=e.$implicit,r=e.$index;I(2),he("S\xE2n ",r+1,""),I(2),at(n)}}var N_=t=>({activeBtn:t});function JB(t,e){if(t&1){let n=It();m(0,"div",27)(1,"div",28)(2,"button",29),k("click",function(){le(n);let i=F();return de(i.getCurrentDB("all"))}),L(3,"img",30),g(4," C\u1EA3 ng\xE0y (05:00 - 21:59)"),f(),m(5,"button",29),k("click",function(){le(n);let i=F();return de(i.getCurrentDB("am"))}),L(6,"img",31),g(7," S\xE1ng (05:00 - 11:59)"),f(),m(8,"button",29),k("click",function(){le(n);let i=F();return de(i.getCurrentDB("pm"))}),L(9,"img",32),g(10," Chi\u1EC1u (12:00 - 21:59)"),f()()(),m(11,"div",33),ot(12,ZB,6,1,"div",39,st),f()}if(t&2){let n=F();I(2),Oe("ngClass",ys(3,N_,n.currentTab=="all")),I(3),Oe("ngClass",ys(5,N_,n.currentTab=="am")),I(3),Oe("ngClass",ys(7,N_,n.currentTab=="pm")),I(4),at(n.lich$)}}function XB(t,e){t&1&&(m(0,"div",40),g(1,"Thi\u1EBFu th\xF4ng tin"),f())}function e$(t,e){t&1&&(m(0,"div",40),g(1,"S\u0110T sai \u0111\u1ECBnh d\u1EA1ng"),f())}function t$(t,e){if(t&1&&L(0,"option",41),t&2){let n=e.$implicit;gs("value",n)}}var cA=(()=>{let e=class e{constructor(r,i,s){this._service=r,this._time=i,this.fb=s,this.khach_lst=[],this.sdt_lst=[],this.soSan=5,this.currentTab="all",this.lichAM$=[],this.lichPM$=[],this.lich$=[],this.lichAll$=[],this.infoForm=this.fb.group({nguoiDat:["",et.required],sdt:["",[et.required,et.pattern("0[0-9]{9}")]],checkIn:"",checkOut:""}),this.getdb(),this.lich$=this.lichAll$,this._service.getCollection("khach").then(o=>{this.khach_lst=o,this.khach_lst.forEach(a=>{this.sdt_lst.push(a.sdt)})})}ngOnInit(){this.subscript=this._service.changeListener.subscribe(r=>{r!=null&&r.component=="booking"&&(this.getdb(),console.log("ye"),this.getCurrentDB(this.currentTab),this._service.clearChange())})}ngOnDestroy(){this.subscript.unsubscribe()}getdb(){let r,i,s;this.lichAll$=[],this.lichAM$=[],this.lichPM$=[];for(let o=1;o<=this.soSan;o++)this._service.findInCollection("datTruoc","san","==",o.toString()).then(a=>{r=this._time.sortTime(a),this.lichAll$.push(r),i=[],s=[],r.forEach(c=>{c.time=="am"?i.push(c):s.push(c)}),this.lichAM$.push(i),this.lichPM$.push(s)})}getCurrentDB(r){r!=null&&(this.currentTab=r),r=="am"?this.lich$=this.lichAM$:r=="pm"?this.lich$=this.lichPM$:this.lich$=this.lichAll$}getName(r){let i=this.khach_lst.find(s=>s.sdt===r);i!=null?this.infoForm.get("nguoiDat").setValue(i.ten):this.infoForm.get("nguoiDat").setValue("")}newBooking(r){this.selected=r+1,this.infoForm.reset()}saveBooking(){let r;this.infoForm.valid&&(r={san:this.selected?.toString(),ten:this.infoForm.get("nguoiDat").value,sdt:this.infoForm.get("sdt").value,checkIn:this.infoForm.get("checkIn").value,checkOut:this.infoForm.get("checkOut").value,time:parseInt(this.infoForm.get("checkIn").value.split(":")[0])<12?"am":"pm"},this._service.createDocument("datTruoc",r,void 0,"booking"))}getInfo(r){this.infoForm.setValue({nguoiDat:r.ten,sdt:r.sdt,checkIn:r.checkIn,checkOut:r.checkOut})}};e.\u0275fac=function(i){return new(i||e)(R(Un),R(jn),R(go))},e.\u0275cmp=rt({type:e,selectors:[["app-pre-book"]],standalone:!0,features:[ct],decls:38,vars:5,consts:[[1,"container"],["class","text-center w-100","style","margin-top: 100px;"],["id","Modal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[3,"formGroup"],["for","name","for","name",2,"width","120px"],["type","text","id","name","formControlName","nguoiDat"],["class","text-danger"],[1,"my-2"],["for","sdt",2,"width","120px"],["list","sdt_lst","type","tel","formControlName","sdt","id","sdt",3,"change"],["id","sdt_lst"],["for","checkIn",2,"width","120px"],["type","time","formControlName","checkIn","id","checkIn"],["for","checkOut",2,"width","120px"],["type","time","formControlName","checkOut","id","checkOut"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],[1,"text-center","w-100",2,"margin-top","100px"],["role","status",1,"spinner-border",2,"width","100px","height","100px"],[1,"visually-hidden"],[1,"d-flex","my-3","border-bottom"],[1,"switch","object-fit-fill","border"],[3,"ngClass","click"],["src","/assets/apm.png",1,"ico_apm"],["src","/assets/am.png",1,"ico_apm"],["src","/assets/pm.png",1,"ico_apm"],[1,"d-flex","justify-content-around"],[1,"text-center"],["data-bs-toggle","modal","data-bs-target","#Modal",2,"cursor","pointer","width","160px",3,"click"],[1,"vstack"],["data-bs-toggle","modal","data-bs-target","#Modal",1,"time-title",3,"click"],["class","time-title","data-bs-toggle","modal","data-bs-target","#Modal"],["class","text-center"],[1,"text-danger"],[3,"value"]],template:function(i,s){if(i&1&&(m(0,"div",0),ve(1,QB,4,0,"div",1)(2,JB,14,9),f(),m(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h1",6),g(8),f(),L(9,"button",7),f(),m(10,"div",8)(11,"form",9)(12,"div")(13,"label",10),g(14,"H\u1ECD t\xEAn:"),f(),L(15,"input",11),ve(16,XB,2,0,"div",12),f(),m(17,"div",13)(18,"label",14),g(19,"S\u0110T:"),f(),m(20,"input",15),k("change",function(){return s.getName(s.infoForm.get("sdt").value)}),f(),ve(21,e$,2,0,"div",12),m(22,"datalist",16),ot(23,t$,1,1,"option",41,st),f()(),m(25,"div")(26,"label",17),g(27,"Th\u1EDDi gian v\xE0o:"),f(),L(28,"input",18),f(),m(29,"div",13)(30,"label",19),g(31,"Th\u1EDDi gian ra:"),f(),L(32,"input",20),f()()(),m(33,"div",21)(34,"button",22),g(35,"Tho\xE1t"),f(),m(36,"button",23),k("click",function(){return s.saveBooking()}),g(37,"L\u01B0u"),f()()()()()),i&2){let o,a;I(),Ie(1,s.lich$.length<s.soSan?1:2),I(7),he("\u0110\u1EB7t l\u1ECBch tr\u01B0\u1EDBc s\xE2n ",s.selected,""),I(3),Oe("formGroup",s.infoForm),I(5),Ie(16,(o=s.infoForm.get("nguoiDat"))!=null&&o.invalid&&s.infoForm.get("nguoiDat").touched?16:-1),I(5),Ie(21,(a=s.infoForm.get("sdt"))!=null&&a.invalid&&s.infoForm.get("sdt").touched?21:-1),I(2),at(s.sdt_lst)}},dependencies:[yo,fo,po,mo,kr,lo,ho,Vi,Li,an,Hu],styles:[".time-title[_ngcontent-%COMP%]{cursor:pointer;padding:5px 30px;border:1px solid black;font-weight:bolder}.time-title[_ngcontent-%COMP%]:hover{background-color:#d0cfcf}.switch[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;border:none;background-color:transparent}.switch[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:nth-child(2){border-right:1px solid rgb(222,226,230);border-left:1px solid rgb(222,226,230)}.switch[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#dcdcdc}.activeBtn[_ngcontent-%COMP%]{font-weight:bolder}.ico_apm[_ngcontent-%COMP%]{width:30px;height:25px}"]});let t=e;return t})();var uA=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=rt({type:e,selectors:[["app-error404"]],standalone:!0,features:[ct],decls:2,vars:0,consts:[[1,"d-flex","justify-content-center","w-100"],["src","/assets/404 error.png",2,"width","50%"]],template:function(i,s){i&1&&(m(0,"div",0),L(1,"img",1),f())}});let t=e;return t})();var lA=[{path:"",redirectTo:"trang-chu",pathMatch:"full"},{path:"trang-chu",component:sA},{path:"khach-hang",component:oA},{path:"doanh-thu",component:aA},{path:"lich-dat-truoc",component:cA},{path:"**",component:uA,pathMatch:"full"}];var dA={apiKey:"AIzaSyDNTX77oV6FaXShPz_h74o1VBqsv7KO5AI",authDomain:"badminton-f9a3f.firebaseapp.com",projectId:"badminton-f9a3f",storageBucket:"badminton-f9a3f.appspot.com",messagingSenderId:"620862202534",appId:"1:620862202534:web:13a049c00e68b54bf70a67",measurementId:"G-JD7RJLHY0L"};var hA={providers:[nD(lA),fp([SD(()=>vl(dA)),iS(()=>ih()),wS(()=>DS())])]};var fA=(()=>{let e=class e{constructor(){this.firestore=x(fn),this.title="my-web"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=rt({type:e,selectors:[["app-root"]],standalone:!0,features:[ct],decls:13,vars:0,consts:[[1,"d-flex","flex-nowrap"],[1,"flex-shrink-0",2,"background-color","thistle"],[1,"vstack","text-nowrap",2,"height","1080px"],["routerLink","trang-chu","routerLinkActive","active-nav"],["routerLink","khach-hang","routerLinkActive","active-nav"],["routerLink","doanh-thu","routerLinkActive","active-nav"],["routerLink","lich-dat-truoc","routerLinkActive","active-nav"],[1,"flex-fill"]],template:function(i,s){i&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"nav",3),g(4,"Qu\u1EA3n l\xFD s\xE2n"),f(),m(5,"nav",4),g(6,"Qu\u1EA3n l\xFD kh\xE1ch h\xE0ng"),f(),m(7,"nav",5),g(8,"Doanh thu ng\xE0y"),f(),m(9,"nav",6),g(10,"L\u1ECBch \u0111\u1EB7t tr\u01B0\u1EDBc"),f()()(),m(11,"div",7),L(12,"router-outlet"),f()())},dependencies:[an,Am,tD,al],styles:["nav[_ngcontent-%COMP%]{padding:20px;width:100%;cursor:pointer;font-weight:700}a[_ngcontent-%COMP%]{margin:0 auto;padding:10px;background-color:#7fffd4;font-weight:700;color:#000;border-radius:10px;text-decoration:none}.active-nav[_ngcontent-%COMP%]{background-color:#8b008b}"]});let t=e;return t})();ww(fA,hA).catch(t=>console.error(t));
