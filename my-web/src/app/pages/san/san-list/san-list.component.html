<div class="row row-cols-auto justify-content-center my-auto">
    @for (san of sans$; track $index) {
    <div class="col mx-5">
        <div class="san">
            <div class="mx-auto my-2">
                Sân {{san.id}} - {{san.trangThai}}
            </div>
            @switch (san.trangThai) {
            @case ("Sẵn sàng") {
            <div class="mx-auto" style="margin-top: 80px;">Số giờ đã được thuê: {{san.activeHours}}</div>
            <div class="mx-auto mt-auto mb-3 p-2">
                <button (click)="datSan(san.id)" data-bs-toggle="modal" data-bs-target="#mainModal"
                    class="btn btn-primary">Đặt ngay</button>
            </div>
            }
            @case ("Đang hoạt động") {
            <div class="hstack gap-2 pt-4 mx-2 mt-4 fs-6 position-relative"
                style="background-color: rgb(166, 164, 196);">
                <button (click)="edit(san.id, 'Đang hoạt động')" data-bs-toggle="modal" data-bs-target="#mainModal"
                    class="btn btn-info position-absolute top-0 start-50 translate-middle">Chỉnh sửa</button>
                <div class="ms-4 text-end" style="width:fit-content">
                    <p>KH:</p>
                    <p>SĐT:</p>
                    <p>Giờ vào:</p>
                    <p>Thuê vợt:</p>
                </div>
                <div class="vstack fw-normal text-start">
                    <p>{{san.chiTiet.nguoiDat}}</p>
                    <p>{{san.chiTiet.sdt}}</p>
                    <p>{{san.chiTiet.checkIn}}</p>
                    <p>{{san.chiTiet.thueVot}}</p>
                </div>
            </div>
            <div class="hstack mt-auto mx-auto mb-3 pt-2 gap-2">
                <button (click)="bill(san.id)" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#mainModal">Thanh toán</button>
                <button (click)="selected = san.id" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#huyModal">Hủy sân</button>
            </div>
            }
            }
        </div>
    </div>}
</div>
<!--Modal-->
<div class="modal fade" id="mainModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="mainModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <app-san-detail [maSan]="selected" [state]="state"></app-san-detail>
        </div>
    </div>
</div>
<!--Modal-Hủy-->
<div class="modal fade" id="huyModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="mainModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="staticBackdropLabel">Hủy lịch đặt trước sân {{selected}}</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <h4>Xác nhận hủy lịch sân {{selected}}?</h4>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Thoát</button>
                <button type="button" (click)="huySan(selected)" class="btn btn-danger" data-bs-dismiss="modal">Xác
                    nhận</button>
            </div>
        </div>
    </div>
</div>
